(self.webpackChunksupabase_frontend=self.webpackChunksupabase_frontend||[]).push([[179],{929:(bt,Ct,Ce)=>{"use strict";function B(e){return"function"==typeof e}function Pn(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ns=Pn(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ui(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Oe{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(B(r))try{r()}catch(s){n=s instanceof Ns?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{qg(s)}catch(o){n=n??[],o instanceof Ns?n=[...n,...o.errors]:n.push(o)}}if(n)throw new Ns(n)}}add(n){var t;if(n&&n!==this)if(this.closed)qg(n);else{if(n instanceof Oe){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&ui(t,n)}remove(n){const{_finalizers:t}=this;t&&ui(t,n),n instanceof Oe&&n._removeParent(this)}}Oe.EMPTY=(()=>{const e=new Oe;return e.closed=!0,e})();const Os=Oe.EMPTY;function ci(e){return e instanceof Oe||e&&"closed"in e&&B(e.remove)&&B(e.add)&&B(e.unsubscribe)}function qg(e){B(e)?e():e.unsubscribe()}const xr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ta={setTimeout(e,n,...t){const{delegate:r}=Ta;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Ta;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Wg(e){Ta.setTimeout(()=>{const{onUnhandledError:n}=xr;if(!n)throw e;n(e)})}function wc(){}const $I=Dc("C",void 0,void 0);function Dc(e,n,t){return{kind:e,value:n,error:t}}let Pr=null;function Na(e){if(xr.useDeprecatedSynchronousErrorHandling){const n=!Pr;if(n&&(Pr={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=Pr;if(Pr=null,t)throw r}}else e()}class bc extends Oe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,ci(n)&&n.add(this)):this.destination=WI}static create(n,t,r){return new Rs(n,t,r)}next(n){this.isStopped?Ec(function BI(e){return Dc("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Ec(function UI(e){return Dc("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ec($I,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const zI=Function.prototype.bind;function Cc(e,n){return zI.call(e,n)}class GI{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Oa(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Oa(r)}else Oa(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Oa(t)}}}class Rs extends bc{constructor(n,t,r){let i;if(super(),B(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&xr.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Cc(n.next,s),error:n.error&&Cc(n.error,s),complete:n.complete&&Cc(n.complete,s)}):i=n}this.destination=new GI(i)}}function Oa(e){xr.useDeprecatedSynchronousErrorHandling?function HI(e){xr.useDeprecatedSynchronousErrorHandling&&Pr&&(Pr.errorThrown=!0,Pr.error=e)}(e):Wg(e)}function Ec(e,n){const{onStoppedNotification:t}=xr;t&&Ta.setTimeout(()=>t(e,n))}const WI={closed:!0,next:wc,error:function qI(e){throw e},complete:wc},Sc="function"==typeof Symbol&&Symbol.observable||"@@observable";function rr(e){return e}function Kg(...e){return Qg(e)}function Qg(e){return 0===e.length?rr:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let Ae=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function QI(e){return e&&e instanceof bc||function KI(e){return e&&B(e.next)&&B(e.error)&&B(e.complete)}(e)&&ci(e)}(t)?t:new Rs(t,r,i);return Na(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Zg(r))((i,s)=>{const o=new Rs({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Sc](){return this}pipe(...t){return Qg(t)(this)}toPromise(t){return new(t=Zg(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=n=>new e(n),e})();function Zg(e){var n;return null!==(n=e??xr.Promise)&&void 0!==n?n:Promise}const ZI=Pn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Et=(()=>{class e extends Ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Yg(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ZI}next(t){Na(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Na(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Na(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Os:(this.currentObservers=null,s.push(t),new Oe(()=>{this.currentObservers=null,ui(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ae;return t.source=this,t}}return e.create=(n,t)=>new Yg(n,t),e})();class Yg extends Et{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:Os}}function Jg(e){return B(e?.lift)}function Fe(e){return n=>{if(Jg(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(e,n,t,r,i){return new YI(e,n,t,r,i)}class YI extends bc{constructor(n,t,r,i,s,o){super(n),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function ae(e,n){return Fe((t,r)=>{let i=0;t.subscribe(Re(r,s=>{r.next(e.call(n,s,i++))}))})}function ir(e){return this instanceof ir?(this.v=e,this):new ir(e)}function nm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Tc(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=e[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const rm=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function im(e){return B(e?.then)}function sm(e){return B(e[Sc])}function om(e){return Symbol.asyncIterator&&B(e?.[Symbol.asyncIterator])}function am(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const lm=function _A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function um(e){return B(e?.[lm])}function cm(e){return function tm(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof ir?Promise.resolve(f.value.v).then(u,c):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield ir(t.read());if(i)return yield ir(void 0);yield yield ir(r)}}finally{t.releaseLock()}})}function dm(e){return B(e?.getReader)}function St(e){if(e instanceof Ae)return e;if(null!=e){if(sm(e))return function wA(e){return new Ae(n=>{const t=e[Sc]();if(B(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(rm(e))return function DA(e){return new Ae(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(im(e))return function bA(e){return new Ae(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Wg)})}(e);if(om(e))return fm(e);if(um(e))return function CA(e){return new Ae(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(dm(e))return function EA(e){return fm(cm(e))}(e)}throw am(e)}function fm(e){return new Ae(n=>{(function SA(e,n){var t,r,i,s;return function Xg(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=nm(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function kn(e,n,t,r=0,i=!1){const s=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Be(e,n,t=1/0){return B(n)?Be((r,i)=>ae((s,o)=>n(r,s,i,o))(St(e(r,i))),t):("number"==typeof n&&(t=n),Fe((r,i)=>function IA(e,n,t,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const f=()=>{d&&!l.length&&!u&&n.complete()},h=g=>u<r?p(g):l.push(g),p=g=>{s&&n.next(g),u++;let m=!1;St(t(g,c++)).subscribe(Re(n,v=>{i?.(v),s?h(v):n.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;l.length&&u<r;){const v=l.shift();o?kn(n,o,()=>p(v)):p(v)}f()}catch(v){n.error(v)}}))};return e.subscribe(Re(n,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,t)))}function di(e=1/0){return Be(rr,e)}const pn=new Ae(e=>e.complete());function Nc(e){return e[e.length-1]}function hm(e){return B(Nc(e))?e.pop():void 0}function xs(e){return function MA(e){return e&&B(e.schedule)}(Nc(e))?e.pop():void 0}function pm(e,n=0){return Fe((t,r)=>{t.subscribe(Re(r,i=>kn(r,e,()=>r.next(i),n),()=>kn(r,e,()=>r.complete(),n),i=>kn(r,e,()=>r.error(i),n)))})}function gm(e,n=0){return Fe((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function mm(e,n){if(!e)throw new Error("Iterable cannot be null");return new Ae(t=>{kn(t,n,()=>{const r=e[Symbol.asyncIterator]();kn(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function $e(e,n){return n?function kA(e,n){if(null!=e){if(sm(e))return function NA(e,n){return St(e).pipe(gm(n),pm(n))}(e,n);if(rm(e))return function RA(e,n){return new Ae(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(im(e))return function OA(e,n){return St(e).pipe(gm(n),pm(n))}(e,n);if(om(e))return mm(e,n);if(um(e))return function xA(e,n){return new Ae(t=>{let r;return kn(t,n,()=>{r=e[lm](),kn(t,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>B(r?.return)&&r.return()})}(e,n);if(dm(e))return function PA(e,n){return mm(cm(e),n)}(e,n)}throw am(e)}(e,n):St(e)}class ht extends Et{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function V(...e){return $e(e,xs(e))}function ym(e={}){const{connector:n=(()=>new Et),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o,a,l,u=0,c=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=l=void 0,c=d=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return Fe((g,m)=>{u++,!d&&!c&&f();const v=l=l??n();m.add(()=>{u--,0===u&&!d&&!c&&(a=Oc(p,i))}),v.subscribe(m),!o&&u>0&&(o=new Rs({next:y=>v.next(y),error:y=>{d=!0,f(),a=Oc(h,t,y),v.error(y)},complete:()=>{c=!0,f(),a=Oc(h,r),v.complete()}}),St(g).subscribe(o))})(s)}}function Oc(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new Rs({next:()=>{r.unsubscribe(),e()}});return St(n(...t)).subscribe(r)}function gn(e,n){return Fe((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Re(r,l=>{i?.unsubscribe();let u=0;const c=s++;St(e(l,c)).subscribe(i=Re(r,d=>r.next(n?n(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function vm(e,n=rr){return e=e??LA,Fe((t,r)=>{let i,s=!0;t.subscribe(Re(r,o=>{const a=n(o);(s||!e(i,a))&&(s=!1,i=a,r.next(o))}))})}function LA(e,n){return e===n}function ie(e){for(let n in e)if(e[n]===ie)return n;throw Error("Could not find renamed property on target object.")}function Ra(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Le(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Le).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Rc(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const VA=ie({__forward_ref__:ie});function fe(e){return e.__forward_ref__=fe,e.toString=function(){return Le(this())},e}function F(e){return xc(e)?e():e}function xc(e){return"function"==typeof e&&e.hasOwnProperty(VA)&&e.__forward_ref__===fe}function Pc(e){return e&&!!e.\u0275providers}class _ extends Error{constructor(n,t){super(function xa(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function j(e){return"string"==typeof e?e:null==e?"":String(e)}function kc(e,n){throw new _(-201,!1)}function jt(e,n){null==e&&function P(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function N(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function At(e){return{providers:e.providers||[],imports:e.imports||[]}}function Pa(e){return wm(e,Fa)||wm(e,Dm)}function wm(e,n){return e.hasOwnProperty(n)?e[n]:null}function ka(e){return e&&(e.hasOwnProperty(Fc)||e.hasOwnProperty(qA))?e[Fc]:null}const Fa=ie({\u0275prov:ie}),Fc=ie({\u0275inj:ie}),Dm=ie({ngInjectableDef:ie}),qA=ie({ngInjectorDef:ie});var G=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(G||{});let Lc;function pt(e){const n=Lc;return Lc=e,n}function Cm(e,n,t){const r=Pa(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&G.Optional?null:void 0!==n?n:void kc(Le(e))}const he=globalThis,Ps={},Bc="__NG_DI_FLAG__",La="ngTempTokenPath",QA=/\n/gm,Sm="__source";let fi;function sr(e){const n=fi;return fi=e,n}function JA(e,n=G.Default){if(void 0===fi)throw new _(-203,!1);return null===fi?Cm(e,void 0,n):fi.get(e,n&G.Optional?null:void 0,n)}function T(e,n=G.Default){return(function bm(){return Lc}()||JA)(F(e),n)}function I(e,n=G.Default){return T(e,Va(n))}function Va(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Hc(e){const n=[];for(let t=0;t<e.length;t++){const r=F(e[t]);if(Array.isArray(r)){if(0===r.length)throw new _(900,!1);let i,s=G.Default;for(let o=0;o<r.length;o++){const a=r[o],l=XA(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}n.push(T(i,s))}else n.push(T(r))}return n}function ks(e,n){return e[Bc]=n,e.prototype[Bc]=n,e}function XA(e){return e[Bc]}function Fn(e){return{toString:e}.toString()}var ja=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ja||{}),$t=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}($t||{});const mn={},J=[],$a=ie({\u0275cmp:ie}),zc=ie({\u0275dir:ie}),Gc=ie({\u0275pipe:ie}),Am=ie({\u0275mod:ie}),Ln=ie({\u0275fac:ie}),Fs=ie({__NG_ELEMENT_ID__:ie}),Mm=ie({__NG_ENV_ID__:ie});function Tm(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}t=i+1}}function qc(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];e.setAttribute(n,o,a,s)}else{const s=i,o=t[++r];Om(s)?e.setProperty(n,s,o):e.setAttribute(n,s,o),r++}}return r}function Nm(e){return 3===e||4===e||6===e}function Om(e){return 64===e.charCodeAt(0)}function Ls(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||Rm(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function Rm(e,n,t,r,i){let s=0,o=e.length;if(-1===n)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===n){o=-1;break}if(a>n){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,n),s=o+1),e.splice(s++,0,t),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}const xm="ng-template";function nM(e,n,t){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const o=e[r++];if(t&&"class"===s&&-1!==Tm(o.toLowerCase(),n,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Pm(e){return 4===e.type&&e.value!==xm}function rM(e,n,t){return n===(4!==e.type||t?e.value:xm)}function iM(e,n,t){let r=4;const i=e.attrs||[],s=function aM(e){for(let n=0;n<e.length;n++)if(Nm(e[n]))return n;return e.length}(i);let o=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!rM(e,l,t)||""===l&&1===n.length){if(en(r))return!1;o=!0}}else{const u=8&r?l:n[++a];if(8&r&&null!==e.attrs){if(!nM(e.attrs,u,t)){if(en(r))return!1;o=!0}continue}const d=sM(8&r?"class":l,i,Pm(e),t);if(-1===d){if(en(r))return!1;o=!0;continue}if(""!==u){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Tm(h,u,0)||2&r&&u!==f){if(en(r))return!1;o=!0}}}}else{if(!o&&!en(r)&&!en(l))return!1;if(o&&en(l))continue;o=!1,r=l|1&r}}return en(r)||o}function en(e){return 0==(1&e)}function sM(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let s=!1;for(;i<n.length;){const o=n[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function lM(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function km(e,n,t=!1){for(let r=0;r<n.length;r++)if(iM(e,n[r],t))return!0;return!1}function Fm(e,n){return e?":not("+n.trim()+")":n}function cM(e){let n=e[0],t=1,r=2,i="",s=!1;for(;t<e.length;){let o=e[t];if("string"==typeof o)if(2&r){const a=e[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!en(o)&&(n+=Fm(s,i),i=""),r=o,s=s||!en(r);t++}return""!==i&&(n+=Fm(s,i)),n}function Ua(e){return Fn(()=>{const n=Vm(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ja.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||$t.Emulated,styles:e.styles||J,_:null,schemas:e.schemas||null,tView:null,id:""};jm(t);const r=e.dependencies;return t.directiveDefs=Ba(r,!1),t.pipeDefs=Ba(r,!0),t.id=function vM(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function pM(e){return K(e)||He(e)}function gM(e){return null!==e}function Ut(e){return Fn(()=>({type:e.type,bootstrap:e.bootstrap||J,declarations:e.declarations||J,imports:e.imports||J,exports:e.exports||J,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Lm(e,n){if(null==e)return mn;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,n&&(n[i]=s)}return t}function L(e){return Fn(()=>{const n=Vm(e);return jm(n),n})}function K(e){return e[$a]||null}function He(e){return e[zc]||null}function rt(e){return e[Gc]||null}function Mt(e,n){const t=e[Am]||null;if(!t&&!0===n)throw new Error(`Type ${Le(e)} does not have '\u0275mod' property.`);return t}function Vm(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||mn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||J,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Lm(e.inputs,n),outputs:Lm(e.outputs)}}function jm(e){e.features?.forEach(n=>n(e))}function Ba(e,n){if(!e)return null;const t=n?rt:pM;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(gM)}const Ee=0,S=1,H=2,_e=3,tn=4,Vs=5,Ke=6,pi=7,Me=8,or=9,gi=10,$=11,js=12,$m=13,mi=14,Te=15,$s=16,yi=17,yn=18,Us=19,Um=20,ar=21,Vn=22,Bs=23,Hs=24,q=25,Wc=1,Bm=2,vn=7,vi=9,ze=11;function mt(e){return Array.isArray(e)&&"object"==typeof e[Wc]}function it(e){return Array.isArray(e)&&!0===e[Wc]}function Kc(e){return 0!=(4&e.flags)}function Fr(e){return e.componentOffset>-1}function za(e){return 1==(1&e.flags)}function nn(e){return!!e.template}function Qc(e){return 0!=(512&e[H])}function Lr(e,n){return e.hasOwnProperty(Ln)?e[Ln]:null}let Ge=null,Ga=!1;function Bt(e){const n=Ge;return Ge=e,n}const Gm={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Wm(e){if(!Gs(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Zm(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Qm(e){e.dirty=!0,function Km(e){if(void 0===e.liveConsumerNode)return;const n=Ga;Ga=!0;try{for(const t of e.liveConsumerNode)t.dirty||Qm(t)}finally{Ga=n}}(e),e.consumerMarkedDirty?.(e)}function Yc(e){return e&&(e.nextProducerIndex=0),Bt(e)}function Jc(e,n){if(Bt(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Gs(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)qa(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Zm(e){_i(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(Wm(t),r!==t.version))return!0}return!1}function Ym(e){if(_i(e),Gs(e))for(let n=0;n<e.producerNode.length;n++)qa(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function qa(e,n){if(function Xm(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),_i(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)qa(e.producerNode[r],e.producerIndexOfThis[r]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];_i(i),i.producerIndexOfThis[r]=n}}function Gs(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function _i(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let ey=null;const iy=()=>{},OM=(()=>({...Gm,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:iy}))();class RM{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ht(){return sy}function sy(e){return e.type.prototype.ngOnChanges&&(e.setInput=PM),xM}function xM(){const e=ay(this),n=e?.current;if(n){const t=e.previous;if(t===mn)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function PM(e,n,t,r){const i=this.declaredInputs[t],s=ay(e)||function kM(e,n){return e[oy]=n}(e,{previous:mn,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new RM(l&&l.currentValue,n,a===mn),e[r]=n}Ht.ngInherit=!0;const oy="__ngSimpleChanges__";function ay(e){return e[oy]||null}const _n=function(e,n,t){},ly="svg";function pe(e){for(;Array.isArray(e);)e=e[Ee];return e}function Wa(e,n){return pe(n[e])}function yt(e,n){return pe(n[e.index])}function cy(e,n){return e.data[n]}function Tt(e,n){const t=n[e];return mt(t)?t:t[Ee]}function ur(e,n){return null==n?null:e[n]}function dy(e){e[yi]=0}function UM(e){1024&e[H]||(e[H]|=1024,hy(e,1))}function fy(e){1024&e[H]&&(e[H]&=-1025,hy(e,-1))}function hy(e,n){let t=e[_e];if(null===t)return;t[Vs]+=n;let r=t;for(t=t[_e];null!==t&&(1===n&&1===r[Vs]||-1===n&&0===r[Vs]);)t[Vs]+=n,r=t,t=t[_e]}const k={lFrame:Ey(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function my(){return k.bindingsEnabled}function D(){return k.lFrame.lView}function Q(){return k.lFrame.tView}function cr(e){return k.lFrame.contextLView=e,e[Me]}function dr(e){return k.lFrame.contextLView=null,e}function qe(){let e=yy();for(;null!==e&&64===e.type;)e=e.parent;return e}function yy(){return k.lFrame.currentTNode}function wn(e,n){const t=k.lFrame;t.currentTNode=e,t.isParent=n}function rd(){return k.lFrame.isParent}function id(){k.lFrame.isParent=!1}function bi(){return k.lFrame.bindingIndex++}function XM(e,n){const t=k.lFrame;t.bindingIndex=t.bindingRootIndex=e,sd(n)}function sd(e){k.lFrame.currentDirectiveIndex=e}function ad(e){k.lFrame.currentQueryIndex=e}function tT(e){const n=e[S];return 2===n.type?n.declTNode:1===n.type?e[Ke]:null}function by(e,n,t){if(t&G.SkipSelf){let i=n,s=e;for(;!(i=i.parent,null!==i||t&G.Host||(i=tT(s),null===i||(s=s[mi],10&i.type))););if(null===i)return!1;n=i,e=s}const r=k.lFrame=Cy();return r.currentTNode=n,r.lView=e,!0}function ld(e){const n=Cy(),t=e[S];k.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Cy(){const e=k.lFrame,n=null===e?null:e.child;return null===n?Ey(e):n}function Ey(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Sy(){const e=k.lFrame;return k.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Iy=Sy;function ud(){const e=Sy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ot(){return k.lFrame.selectedIndex}function Vr(e){k.lFrame.selectedIndex=e}function De(){const e=k.lFrame;return cy(e.tView,e.selectedIndex)}let Ny=!0;function Ka(){return Ny}function fr(e){Ny=e}function Qa(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(e.contentHooks??=[]).push(-t,o),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),u&&((e.viewHooks??=[]).push(t,u),(e.viewCheckHooks??=[]).push(t,u)),null!=c&&(e.destroyHooks??=[]).push(t,c)}}function Za(e,n,t){Oy(e,n,3,t)}function Ya(e,n,t,r){(3&e[H])===t&&Oy(e,n,t,r)}function cd(e,n){let t=e[H];(3&t)===n&&(t&=8191,t+=1,e[H]=t)}function Oy(e,n,t,r){const s=r??-1,o=n.length-1;let a=0;for(let l=void 0!==r?65535&e[yi]:0;l<o;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(e[yi]+=65536),(a<s||-1==s)&&(aT(e,t,n,l),e[yi]=(4294901760&e[yi])+l+2),l++}function Ry(e,n){_n(4,e,n);const t=Bt(null);try{n.call(e)}finally{Bt(t),_n(5,e,n)}}function aT(e,n,t,r){const i=t[r]<0,s=t[r+1],a=e[i?-t[r]:t[r]];i?e[H]>>13<e[yi]>>16&&(3&e[H])===n&&(e[H]+=8192,Ry(a,s)):Ry(a,s)}const Ci=-1;class Ws{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function fd(e){return e!==Ci}function Ks(e){return 32767&e}function Qs(e,n){let t=function dT(e){return e>>16}(e),r=n;for(;t>0;)r=r[mi],t--;return r}let hd=!0;function Ja(e){const n=hd;return hd=e,n}const xy=255,Py=5;let fT=0;const Dn={};function Xa(e,n){const t=ky(e,n);if(-1!==t)return t;const r=n[S];r.firstCreatePass&&(e.injectorIndex=n.length,pd(r.data,e),pd(n,null),pd(r.blueprint,null));const i=el(e,n),s=e.injectorIndex;if(fd(i)){const o=Ks(i),a=Qs(i,n),l=a[S].data;for(let u=0;u<8;u++)n[s+u]=a[o+u]|l[o+u]}return n[s+8]=i,s}function pd(e,n){e.push(0,0,0,0,0,0,0,0,n)}function ky(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function el(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=By(i),null===r)return Ci;if(t++,i=i[mi],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ci}function gd(e,n,t){!function hT(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Fs)&&(r=t[Fs]),null==r&&(r=t[Fs]=fT++);const i=r&xy;n.data[e+(i>>Py)]|=1<<i}(e,n,t)}function Fy(e,n,t){if(t&G.Optional||void 0!==e)return e;kc()}function Ly(e,n,t,r){if(t&G.Optional&&void 0===r&&(r=null),!(t&(G.Self|G.Host))){const i=e[or],s=pt(void 0);try{return i?i.get(n,r,t&G.Optional):Cm(n,r,t&G.Optional)}finally{pt(s)}}return Fy(r,0,t)}function Vy(e,n,t,r=G.Default,i){if(null!==e){if(2048&n[H]&&!(r&G.Self)){const o=function _T(e,n,t,r,i){let s=e,o=n;for(;null!==s&&null!==o&&2048&o[H]&&!(512&o[H]);){const a=jy(s,o,t,r|G.Self,Dn);if(a!==Dn)return a;let l=s.parent;if(!l){const u=o[Um];if(u){const c=u.get(t,Dn,r);if(c!==Dn)return c}l=By(o),o=o[mi]}s=l}return i}(e,n,t,r,Dn);if(o!==Dn)return o}const s=jy(e,n,t,r,Dn);if(s!==Dn)return s}return Ly(n,t,r,i)}function jy(e,n,t,r,i){const s=function mT(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Fs)?e[Fs]:void 0;return"number"==typeof n?n>=0?n&xy:vT:n}(t);if("function"==typeof s){if(!by(n,e,r))return r&G.Host?Fy(i,0,r):Ly(n,t,r,i);try{let o;if(o=s(r),null!=o||r&G.Optional)return o;kc()}finally{Iy()}}else if("number"==typeof s){let o=null,a=ky(e,n),l=Ci,u=r&G.Host?n[Te][Ke]:null;for((-1===a||r&G.SkipSelf)&&(l=-1===a?el(e,n):n[a+8],l!==Ci&&Uy(r,!1)?(o=n[S],a=Ks(l),n=Qs(l,n)):a=-1);-1!==a;){const c=n[S];if($y(s,a,c.data)){const d=gT(a,n,t,o,r,u);if(d!==Dn)return d}l=n[a+8],l!==Ci&&Uy(r,n[S].data[a+8]===u)&&$y(s,a,n)?(o=c,a=Ks(l),n=Qs(l,n)):a=-1}}return i}function gT(e,n,t,r,i,s){const o=n[S],a=o.data[e+8],c=function tl(e,n,t,r,i){const s=e.providerIndexes,o=n.data,a=1048575&s,l=e.directiveStart,c=s>>20,f=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<f;h++){const p=o[h];if(h<l&&t===p||h>=l&&p.type===t)return h}if(i){const h=o[l];if(h&&nn(h)&&h.type===t)return l}return null}(a,o,t,null==r?Fr(a)&&hd:r!=o&&0!=(3&a.type),i&G.Host&&s===a);return null!==c?jr(n,o,c,a):Dn}function jr(e,n,t,r){let i=e[t];const s=n.data;if(function lT(e){return e instanceof Ws}(i)){const o=i;o.resolving&&function jA(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new _(-200,`Circular dependency in DI detected for ${e}${t}`)}(function re(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():j(e)}(s[t]));const a=Ja(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?pt(o.injectImpl):null;by(e,r,G.Default);try{i=e[t]=o.factory(void 0,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&function oT(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const o=sy(n);(t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o)}i&&(t.preOrderHooks??=[]).push(0-e,i),s&&((t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s))}(t,s[t],n)}finally{null!==u&&pt(u),Ja(a),o.resolving=!1,Iy()}}return i}function $y(e,n,t){return!!(t[n+(e>>Py)]&1<<e)}function Uy(e,n){return!(e&G.Self||e&G.Host&&n)}class at{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Vy(this._tNode,this._lView,n,Va(r),t)}}function vT(){return new at(qe(),D())}function We(e){return Fn(()=>{const n=e.prototype.constructor,t=n[Ln]||md(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[Ln]||md(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function md(e){return xc(e)?()=>{const n=md(F(e));return n&&n()}:Lr(e)}function By(e){const n=e[S],t=n.type;return 2===t?n.declTNode:1===t?e[Ke]:null}const Si="__parameters__";function Ai(e,n,t){return Fn(()=>{const r=function yd(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(Si)?l[Si]:Object.defineProperty(l,Si,{value:[]})[Si];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Ti(e,n){e.forEach(t=>Array.isArray(t)?Ti(t,n):n(t))}function zy(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function rl(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Nt(e,n,t){let r=Ni(e,n);return r>=0?e[1|r]=t:(r=~r,function IT(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function vd(e,n){const t=Ni(e,n);if(t>=0)return e[1|t]}function Ni(e,n){return function Gy(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<t];if(n===o)return s<<t;o>n?i=s:r=s+1}return~(i<<t)}(e,n,1)}const sl=ks(Ai("Optional"),8),ol=ks(Ai("SkipSelf"),4);function dl(e){return 128==(128&e.flags)}var hr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(hr||{});const WT=/^>|^->|<!--|-->|--!>|<!-$/g,KT=/(<|>)/g,QT="\u200b$1\u200b";const Cd=new Map;let ZT=0;const Sd="__ngContext__";function Qe(e,n){mt(n)?(e[Sd]=n[Us],function JT(e){Cd.set(e[Us],e)}(n)):e[Sd]=n}let Id;function Ad(e,n){return Id(e,n)}function to(e){const n=e[_e];return it(n)?n[_e]:n}function dv(e){return hv(e[js])}function fv(e){return hv(e[tn])}function hv(e){for(;null!==e&&!it(e);)e=e[tn];return e}function xi(e,n,t,r,i){if(null!=r){let s,o=!1;it(r)?s=r:mt(r)&&(o=!0,r=r[Ee]);const a=pe(r);0===e&&null!==t?null==i?yv(n,t,a):$r(n,t,a,i||null,!0):1===e&&null!==t?$r(n,t,a,i||null,!0):2===e?function vl(e,n,t){const r=ml(e,n);r&&function yN(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,o):3===e&&n.destroyNode(a),null!=s&&function wN(e,n,t,r,i){const s=t[vn];s!==pe(t)&&xi(n,e,r,s,i);for(let a=ze;a<t.length;a++){const l=t[a];ro(l[S],l,e,n,r,s)}}(n,e,s,t,i)}}function Md(e,n){return e.createComment(function rv(e){return e.replace(WT,n=>n.replace(KT,QT))}(n))}function pl(e,n,t){return e.createElement(n,t)}function gv(e,n){const t=e[vi],r=t.indexOf(n);fy(n),t.splice(r,1)}function gl(e,n){if(e.length<=ze)return;const t=ze+n,r=e[t];if(r){const i=r[$s];null!==i&&i!==e&&gv(i,r),n>0&&(e[t-1][tn]=r[tn]);const s=rl(e,ze+n);!function uN(e,n){ro(e,n,n[$],2,null,null),n[Ee]=null,n[Ke]=null}(r[S],r);const o=s[yn];null!==o&&o.detachView(s[S]),r[_e]=null,r[tn]=null,r[H]&=-129}return r}function Td(e,n){if(!(256&n[H])){const t=n[$];n[Bs]&&Ym(n[Bs]),n[Hs]&&Ym(n[Hs]),t.destroyNode&&ro(e,n,t,3,null,null),function fN(e){let n=e[js];if(!n)return Nd(e[S],e);for(;n;){let t=null;if(mt(n))t=n[js];else{const r=n[ze];r&&(t=r)}if(!t){for(;n&&!n[tn]&&n!==e;)mt(n)&&Nd(n[S],n),n=n[_e];null===n&&(n=e),mt(n)&&Nd(n[S],n),t=n&&n[tn]}n=t}}(n)}}function Nd(e,n){if(!(256&n[H])){n[H]&=-129,n[H]|=256,function mN(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof Ws)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];_n(4,a,l);try{l.call(a)}finally{_n(5,a,l)}}else{_n(4,i,s);try{s.call(i)}finally{_n(5,i,s)}}}}}(e,n),function gN(e,n){const t=e.cleanup,r=n[pi];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(n[pi]=null);const i=n[ar];if(null!==i){n[ar]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,n),1===n[S].type&&n[$].destroy();const t=n[$s];if(null!==t&&it(n[_e])){t!==n[_e]&&gv(t,n);const r=n[yn];null!==r&&r.detachView(e)}!function XT(e){Cd.delete(e[Us])}(n)}}function Od(e,n,t){return function mv(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[Ee];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===$t.None||s===$t.Emulated)return null}return yt(r,t)}}(e,n.parent,t)}function $r(e,n,t,r,i){e.insertBefore(n,t,r,i)}function yv(e,n,t){e.appendChild(n,t)}function vv(e,n,t,r,i){null!==r?$r(e,n,t,r,i):yv(e,n,t)}function ml(e,n){return e.parentNode(n)}let Rd,Fd,Dv=function wv(e,n,t){return 40&e.type?yt(e,t):null};function yl(e,n,t,r){const i=Od(e,r,n),s=n[$],a=function _v(e,n,t){return Dv(e,n,t)}(r.parent||n[Ke],r,n);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)vv(s,i,t[l],a,!1);else vv(s,i,t,a,!1);void 0!==Rd&&Rd(s,r,n,t,i)}function no(e,n){if(null!==n){const t=n.type;if(3&t)return yt(n,e);if(4&t)return xd(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return no(e,r);{const i=e[n.index];return it(i)?xd(-1,i):pe(i)}}if(32&t)return Ad(n,e)()||pe(e[n.index]);{const r=Cv(e,n);return null!==r?Array.isArray(r)?r[0]:no(to(e[Te]),r):no(e,n.next)}}return null}function Cv(e,n){return null!==n?e[Te][Ke].projection[n.projection]:null}function xd(e,n){const t=ze+e+1;if(t<n.length){const r=n[t],i=r[S].firstChild;if(null!==i)return no(r,i)}return n[vn]}function Pd(e,n,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===n&&(a&&Qe(pe(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)Pd(e,n,t.child,r,i,s,!1),xi(n,e,i,a,s);else if(32&l){const u=Ad(t,r);let c;for(;c=u();)xi(n,e,i,c,s);xi(n,e,i,a,s)}else 16&l?Sv(e,n,r,t,i,s):xi(n,e,i,a,s);t=o?t.projectionNext:t.next}}function ro(e,n,t,r,i,s){Pd(t,r,e.firstChild,n,i,s,!1)}function Sv(e,n,t,r,i,s){const o=t[Te],l=o[Ke].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)xi(n,e,i,l[u],s);else{let u=l;const c=o[_e];dl(r)&&(u.flags|=128),Pd(e,n,u,c,i,s,!0)}}function Iv(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Av(e,n,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&qc(e,n,r),null!==i&&Iv(e,n,i),null!==s&&function bN(e,n,t){e.setAttribute(n,"style",t)}(e,n,s)}class Ov{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class M{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=N({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ao=new M("ENVIRONMENT_INITIALIZER"),Uv=new M("INJECTOR",-1),Bv=new M("INJECTOR_DEF_TYPES");class Bd{get(n,t=Ps){if(t===Ps){const r=new Error(`NullInjectorError: No provider for ${Le(n)}!`);throw r.name="NullInjectorError",r}return t}}function QN(...e){return{\u0275providers:zv(0,e),\u0275fromNgModule:!0}}function zv(e,...n){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return Ti(n,o=>{const a=o;bl(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Gv(i,s),t}function Gv(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:i}=e[t];Hd(i,s=>{n(s,r)})}}function bl(e,n,t,r){if(!(e=F(e)))return!1;let i=null,s=ka(e);const o=!s&&K(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const l=e.ngModule;if(s=ka(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)bl(u,n,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Ti(s.imports,c=>{bl(c,n,t,r)&&(u||=[],u.push(c))})}finally{}void 0!==u&&Gv(u,n)}if(!a){const u=Lr(i)||(()=>new i);n({provide:i,useFactory:u,deps:J},i),n({provide:Bv,useValue:i,multi:!0},i),n({provide:ao,useValue:()=>T(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const u=e;Hd(l,c=>{n(c,u)})}}}return i!==e&&void 0!==e.providers}function Hd(e,n){for(let t of e)Pc(t)&&(t=t.\u0275providers),Array.isArray(t)?Hd(t,n):n(t)}const ZN=ie({provide:String,useValue:ie});function zd(e){return null!==e&&"object"==typeof e&&ZN in e}function Ur(e){return"function"==typeof e}const Gd=new M("Set Injector scope."),Cl={},JN={};let qd;function El(){return void 0===qd&&(qd=new Bd),qd}class Gt{}class Sl extends Gt{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kd(n,o=>this.processProvider(o)),this.records.set(Uv,Li(void 0,this)),i.has("environment")&&this.records.set(Gt,Li(void 0,this));const s=this.records.get(Gd);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Bv.multi,J,G.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=sr(this),r=pt(void 0);try{return n()}finally{sr(t),pt(r)}}get(n,t=Ps,r=G.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Mm))return n[Mm](this);r=Va(r);const s=sr(this),o=pt(void 0);try{if(!(r&G.SkipSelf)){let l=this.records.get(n);if(void 0===l){const u=function rO(e){return"function"==typeof e||"object"==typeof e&&e instanceof M}(n)&&Pa(n);l=u&&this.injectableDefInScope(u)?Li(Wd(n),Cl):null,this.records.set(n,l)}if(null!=l)return this.hydrate(n,l)}return(r&G.Self?El():this.parent).get(n,t=r&G.Optional&&t===Ps?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[La]=a[La]||[]).unshift(Le(n)),s)throw a;return function eM(e,n,t,r){const i=e[La];throw n[Sm]&&i.unshift(n[Sm]),e.message=function tM(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Le(n);if(Array.isArray(n))i=n.map(Le).join(" -> ");else if("object"==typeof n){let s=[];for(let o in n)if(n.hasOwnProperty(o)){let a=n[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Le(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(QA,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[La]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{pt(o),sr(s)}}resolveInjectorInitializers(){const n=sr(this),t=pt(void 0);try{const i=this.get(ao.multi,J,G.Self);for(const s of i)s()}finally{sr(n),pt(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(Le(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _(205,!1)}processProvider(n){let t=Ur(n=F(n))?n:F(n&&n.provide);const r=function eO(e){return zd(e)?Li(void 0,e.useValue):Li(Kv(e),Cl)}(n);if(Ur(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Li(void 0,Cl,!0),i.factory=()=>Hc(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===Cl&&(t.value=JN,t.value=t.factory()),"object"==typeof t.value&&t.value&&function nO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=F(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Wd(e){const n=Pa(e),t=null!==n?n.factory:Lr(e);if(null!==t)return t;if(e instanceof M)throw new _(204,!1);if(e instanceof Function)return function XN(e){const n=e.length;if(n>0)throw function Js(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}(n,"?"),new _(204,!1);const t=function GA(e){return e&&(e[Fa]||e[Dm])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new _(204,!1)}function Kv(e,n,t){let r;if(Ur(e)){const i=F(e);return Lr(i)||Wd(i)}if(zd(e))r=()=>F(e.useValue);else if(function Wv(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Hc(e.deps||[]));else if(function qv(e){return!(!e||!e.useExisting)}(e))r=()=>T(F(e.useExisting));else{const i=F(e&&(e.useClass||e.provide));if(!function tO(e){return!!e.deps}(e))return Lr(i)||Wd(i);r=()=>new i(...Hc(e.deps))}return r}function Li(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Kd(e,n){for(const t of e)Array.isArray(t)?Kd(t,n):t&&Pc(t)?Kd(t.\u0275providers,n):n(t)}const Il=new M("AppId",{providedIn:"root",factory:()=>iO}),iO="ng",Qv=new M("Platform Initializer"),Vi=new M("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Zv=new M("AnimationModuleType"),Yv=new M("CSP nonce",{providedIn:"root",factory:()=>function ki(){if(void 0!==Fd)return Fd;if(typeof document<"u")return document;throw new _(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Jv=(e,n,t)=>null;function nf(e,n,t=!1){return Jv(e,n,t)}class pO{}class t_{}class mO{resolveComponentFactory(n){throw function gO(e){const n=Error(`No component factory found for ${Le(e)}.`);return n.ngComponent=e,n}(n)}}let Rl=(()=>{class e{static#e=this.NULL=new mO}return e})();function yO(){return Ui(qe(),D())}function Ui(e,n){return new Ot(yt(e,n))}let Ot=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=yO}return e})();class co{}let Bn=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function _O(){const e=D(),t=Tt(qe().index,e);return(mt(t)?t:e)[$]}()}return e})(),wO=(()=>{class e{static#e=this.\u0275prov=N({token:e,providedIn:"root",factory:()=>null})}return e})();class fo{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const DO=new fo("16.2.8"),af={};function o_(e,n=null,t=null,r){const i=a_(e,n,t,r);return i.resolveInjectorInitializers(),i}function a_(e,n=null,t=null,r,i=new Set){const s=[t||J,QN(e)];return r=r||("object"==typeof e?void 0:Le(e)),new Sl(s,n||El(),r||null,i)}let Rt=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Ps;static#t=this.NULL=new Bd;static create(t,r){if(Array.isArray(t))return o_({name:""},r,t,"");{const i=t.name??"";return o_({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=N({token:e,providedIn:"any",factory:()=>T(Uv)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function uf(e){return e.ngOriginalError}class Hn{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&uf(n);for(;t&&uf(t);)t=uf(t);return t||null}}function df(e){return n=>{setTimeout(e,void 0,n)}}const Se=class MO extends Et{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,s=t||(()=>null),o=r;if(n&&"object"==typeof n){const l=n;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=df(s),i&&(i=df(i)),o&&(o=df(o)));const a=super.subscribe({next:i,error:s,complete:o});return n instanceof Oe&&n.add(a),a}};function u_(...e){}class le{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Se(!1),this.onMicrotaskEmpty=new Se(!1),this.onStable=new Se(!1),this.onError=new Se(!1),typeof Zone>"u")throw new _(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function TO(){const e="function"==typeof he.requestAnimationFrame;let n=he[e?"requestAnimationFrame":"setTimeout"],t=he[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function RO(e){const n=()=>{!function OO(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(he,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,hf(e),e.isCheckStableRunning=!0,ff(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),hf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function PO(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return c_(e),t.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),d_(e)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return c_(e),t.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),d_(e)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,hf(e),ff(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!le.isInAngularZone())throw new _(909,!1)}static assertNotInAngularZone(){if(le.isInAngularZone())throw new _(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,n,NO,u_,u_);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const NO={};function ff(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function hf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function c_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function d_(e){e._nesting--,ff(e)}class xO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Se,this.onMicrotaskEmpty=new Se,this.onStable=new Se,this.onError=new Se}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const f_=new M("",{providedIn:"root",factory:h_});function h_(){const e=I(le);let n=!0;return function FA(...e){const n=xs(e),t=function TA(e,n){return"number"==typeof Nc(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?St(r[0]):di(t)($e(r,n)):pn}(new Ae(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new Ae(i=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{le.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const o=e.onUnstable.subscribe(()=>{le.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(ym()))}function zn(e){return e instanceof Function?e():e}let pf=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=N({token:e,providedIn:"root",factory:()=>new e})}return e})();function ho(e){for(;e;){e[H]|=64;const n=to(e);if(Qc(e)&&!n)return e;e=n}return null}const v_=new M("",{providedIn:"root",factory:()=>!1});let Pl=null;function b_(e,n){return e[n]??S_()}function C_(e,n){const t=S_();t.producerNode?.length&&(e[n]=Pl,t.lView=e,Pl=E_())}const zO={...Gm,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ho(e.lView)},lView:null};function E_(){return Object.create(zO)}function S_(){return Pl??=E_(),Pl}const U={};function lt(e){I_(Q(),D(),ot()+e,!1)}function I_(e,n,t,r){if(!r)if(3==(3&n[H])){const s=e.preOrderCheckHooks;null!==s&&Za(n,s,t)}else{const s=e.preOrderHooks;null!==s&&Ya(n,s,0,t)}Vr(t)}function b(e,n=G.Default){const t=D();return null===t?T(e,n):Vy(qe(),t,F(e),n)}function kl(e,n,t,r,i,s,o,a,l,u,c){const d=n.blueprint.slice();return d[Ee]=i,d[H]=140|r,(null!==u||e&&2048&e[H])&&(d[H]|=2048),dy(d),d[_e]=d[mi]=e,d[Me]=t,d[gi]=o||e&&e[gi],d[$]=a||e&&e[$],d[or]=l||e&&e[or]||null,d[Ke]=s,d[Us]=function YT(){return ZT++}(),d[Vn]=c,d[Um]=u,d[Te]=2==n.type?e[Te]:d,d}function zi(e,n,t,r,i){let s=e.data[n];if(null===s)s=function gf(e,n,t,r,i){const s=yy(),o=rd(),l=e.data[n]=function JO(e,n,t,r,i,s){let o=n?n.injectorIndex:-1,a=0;return function Di(){return null!==k.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,n,t,r,i),function JM(){return k.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function qs(){const e=k.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return wn(s,!0),s}function po(e,n,t,r){if(0===t)return-1;const i=n.length;for(let s=0;s<t;s++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function M_(e,n,t,r,i){const s=b_(n,Bs),o=ot(),a=2&r;try{Vr(-1),a&&n.length>q&&I_(e,n,q,!1),_n(a?2:0,i);const u=a?s:null,c=Yc(u);try{null!==u&&(u.dirty=!1),t(r,i)}finally{Jc(u,c)}}finally{a&&null===n[Bs]&&C_(n,Bs),Vr(o),_n(a?3:1,i)}}function mf(e,n,t){if(Kc(n)){const r=Bt(null);try{const s=n.directiveEnd;for(let o=n.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{Bt(r)}}}function yf(e,n,t){my()&&(function sR(e,n,t,r){const i=t.directiveStart,s=t.directiveEnd;Fr(t)&&function fR(e,n,t){const r=yt(n,e),i=T_(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Fl(e,kl(e,i,null,o,r,n,null,e[gi].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=a}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Xa(t,n),Qe(r,n);const o=t.initialInputs;for(let a=i;a<s;a++){const l=e.data[a],u=jr(n,e,a,t);Qe(u,n),null!==o&&hR(0,a-i,u,l,0,o),nn(l)&&(Tt(t.index,n)[Me]=jr(n,e,a,t))}}(e,n,t,yt(t,n)),64==(64&t.flags)&&P_(e,n,t))}function vf(e,n,t=yt){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(n,e):e[o];e[i++]=a}}}function T_(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=_f(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function _f(e,n,t,r,i,s,o,a,l,u,c){const d=q+r,f=d+i,h=function qO(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:U);return t}(d,f),p="function"==typeof u?u():u;return h[S]={type:e,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}let N_=e=>null;function O_(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const s=e[i];null===r?R_(t,n,i,s):r.hasOwnProperty(i)&&R_(t,n,r[i],s)}return t}function R_(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function wf(e,n,t,r){if(my()){const i=null===r?null:{"":-1},s=function aR(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(km(n,o.selectors,!1))if(r||(r=[]),nn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Df(e,n,a.length)}else r.unshift(o),Df(e,n,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(e,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&x_(e,n,t,o,i,a),i&&function lR(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const s=t[n[i+1]];if(null==s)throw new _(-301,!1);r.push(n[i],s)}}}(t,r,i)}t.mergedAttrs=Ls(t.mergedAttrs,t.attrs)}function x_(e,n,t,r,i,s){for(let u=0;u<r.length;u++)gd(Xa(t,n),e,r[u].type);!function cR(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,l=po(e,n,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];t.mergedAttrs=Ls(t.mergedAttrs,c.hostAttrs),dR(e,t,n,l,c),uR(l,c,i),null!==c.contentQueries&&(t.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(t.flags|=64);const d=c.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function XO(e,n,t){const i=n.directiveEnd,s=e.data,o=n.attrs,a=[];let l=null,u=null;for(let c=n.directiveStart;c<i;c++){const d=s[c],f=t?t.get(d):null,p=f?f.outputs:null;l=O_(d.inputs,c,l,f?f.inputs:null),u=O_(d.outputs,c,u,p);const g=null===l||null===o||Pm(n)?null:pR(l,c,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=u}(e,t,s)}function P_(e,n,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function eT(){return k.lFrame.currentDirectiveIndex}();try{Vr(s);for(let a=r;a<i;a++){const l=e.data[a],u=n[a];sd(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&oR(l,u)}}finally{Vr(-1),sd(o)}}function oR(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Df(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function uR(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;nn(n)&&(t[""]=e)}}function dR(e,n,t,r,i){e.data[r]=i;const s=i.factory||(i.factory=Lr(i.type)),o=new Ws(s,nn(i),b);e.blueprint[r]=o,t[r]=o,function rR(e,n,t,r,i){const s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~n.index;(function iR(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(e,n,r,po(e,t,i.hostVars,U),i)}function bn(e,n,t,r,i,s){const o=yt(e,n);!function bf(e,n,t,r,i,s,o){if(null==s)e.removeAttribute(n,i,t);else{const a=null==o?j(s):o(s,r||"",i);e.setAttribute(n,i,a,t)}}(n[$],o,s,e.value,t,r,i)}function hR(e,n,t,r,i,s){const o=s[n];if(null!==o)for(let a=0;a<o.length;)k_(r,t,o[a++],o[a++],o[a++])}function k_(e,n,t,r,i){const s=Bt(null);try{const o=e.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(n,i)),null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{Bt(s)}}function pR(e,n,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===n){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function F_(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function L_(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=e.data[s];ad(t[r]),o.contentQueries(2,n[s],s)}}}function Fl(e,n){return e[js]?e[$m][tn]=n:e[js]=n,e[$m]=n,n}function Cf(e,n,t){ad(0);const r=Bt(null);try{n(e,t)}finally{Bt(r)}}function U_(e,n){const t=e[or],r=t?t.get(Hn,null):null;r&&r.handleError(n)}function Ef(e,n,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];k_(e.data[o],n[o],r,a,i)}}function gR(e,n){const t=Tt(n,e),r=t[S];!function mR(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[Ee];null!==i&&null===t[Vn]&&(t[Vn]=nf(i,t[or])),Sf(r,t,t[Me])}function Sf(e,n,t){ld(n);try{const r=e.viewQuery;null!==r&&Cf(1,r,t);const i=e.template;null!==i&&M_(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&L_(e,n),e.staticViewQueries&&Cf(2,e.viewQuery,t);const s=e.components;null!==s&&function yR(e,n){for(let t=0;t<n.length;t++)gR(e,n[t])}(n,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[H]&=-5,ud()}}let B_=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function NM(e,n,t){const r=Object.create(OM);t&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=n;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>Qm(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Zm(r))return;r.hasRun=!0;const o=Yc(r);try{r.cleanupFn(),r.cleanupFn=iy,r.fn(i)}finally{Jc(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=N({token:e,providedIn:"root",factory:()=>new e})}return e})();function Ll(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,s=0;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?s=a:1==s?i=Rc(i,a):2==s&&(r=Rc(r,a+": "+n[++o]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function go(e,n,t,r,i=!1){for(;null!==t;){const s=n[t.index];null!==s&&r.push(pe(s)),it(s)&&H_(s,r);const o=t.type;if(8&o)go(e,n,t.child,r);else if(32&o){const a=Ad(t,n);let l;for(;l=a();)r.push(l)}else if(16&o){const a=Cv(n,t);if(Array.isArray(a))r.push(...a);else{const l=to(n[Te]);go(l[S],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function H_(e,n){for(let t=ze;t<e.length;t++){const r=e[t],i=r[S].firstChild;null!==i&&go(r[S],r,i,n)}e[vn]!==e[Ee]&&n.push(e[vn])}function Vl(e,n,t,r=!0){const i=n[gi],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{z_(e,n,e.template,t)}catch(l){throw r&&U_(n,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function z_(e,n,t,r){const i=n[H];if(256!=(256&i)){n[gi].effectManager?.flush(),ld(n);try{dy(n),function _y(e){return k.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&M_(e,n,t,2,r);const o=3==(3&i);if(o){const u=e.preOrderCheckHooks;null!==u&&Za(n,u,null)}else{const u=e.preOrderHooks;null!==u&&Ya(n,u,0,null),cd(n,0)}if(function wR(e){for(let n=dv(e);null!==n;n=fv(n)){if(!n[Bm])continue;const t=n[vi];for(let r=0;r<t.length;r++){UM(t[r])}}}(n),G_(n,2),null!==e.contentQueries&&L_(e,n),o){const u=e.contentCheckHooks;null!==u&&Za(n,u)}else{const u=e.contentHooks;null!==u&&Ya(n,u,1),cd(n,1)}!function GO(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=b_(n,Hs);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Vr(~s);else{const o=s,a=t[++i],l=t[++i];XM(a,o),r.dirty=!1;const u=Yc(r);try{l(2,n[o])}finally{Jc(r,u)}}}}finally{null===n[Hs]&&C_(n,Hs),Vr(-1)}}(e,n);const a=e.components;null!==a&&W_(n,a,0);const l=e.viewQuery;if(null!==l&&Cf(2,l,r),o){const u=e.viewCheckHooks;null!==u&&Za(n,u)}else{const u=e.viewHooks;null!==u&&Ya(n,u,2),cd(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[H]&=-73,fy(n)}finally{ud()}}}function G_(e,n){for(let t=dv(e);null!==t;t=fv(t))for(let r=ze;r<t.length;r++)q_(t[r],n)}function DR(e,n,t){q_(Tt(n,e),t)}function q_(e,n){if(!function jM(e){return 128==(128&e[H])}(e))return;const t=e[S],r=e[H];if(80&r&&0===n||1024&r||2===n)z_(t,e,t.template,e[Me]);else if(e[Vs]>0){G_(e,1);const i=t.components;null!==i&&W_(e,i,1)}}function W_(e,n,t){for(let r=0;r<n.length;r++)DR(e,n[r],t)}class mo{get rootNodes(){const n=this._lView,t=n[S];return go(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Me]}set context(n){this._lView[Me]=n}get destroyed(){return 256==(256&this._lView[H])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[_e];if(it(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(gl(n,r),rl(t,r))}this._attachedToViewContainer=!1}Td(this._lView[S],this._lView)}onDestroy(n){!function py(e,n){if(256==(256&e[H]))throw new _(911,!1);null===e[ar]&&(e[ar]=[]),e[ar].push(n)}(this._lView,n)}markForCheck(){ho(this._cdRefInjectingView||this._lView)}detach(){this._lView[H]&=-129}reattach(){this._lView[H]|=128}detectChanges(){Vl(this._lView[S],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dN(e,n){ro(e,n,n[$],2,null,null)}(this._lView[S],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new _(902,!1);this._appRef=n}}class bR extends mo{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Vl(n[S],n,n[Me],!1)}checkNoChanges(){}get context(){return null}}class K_ extends Rl{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=K(n);return new yo(t,this.ngModule)}}function Q_(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class ER{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Va(r);const i=this.injector.get(n,af,r);return i!==af||t===af?i:this.parentInjector.get(n,t,r)}}class yo extends t_{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=Q_(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Q_(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function dM(e){return e.map(cM).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let s=(i=i||this.ngModule)instanceof Gt?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new ER(n,s):n,a=o.get(co,null);if(null===a)throw new _(407,!1);const d={rendererFactory:a,sanitizer:o.get(wO,null),effectManager:o.get(B_,null),afterRenderEventManager:o.get(pf,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function WO(e,n,t,r){const s=r.get(v_,!1)||t===$t.ShadowDom,o=e.selectRootElement(n,s);return function KO(e){N_(e)}(o),o}(f,r,this.componentDef.encapsulation,o):pl(f,h,function CR(e){const n=e.toLowerCase();return"svg"===n?ly:"math"===n?"math":null}(h)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=nf(p,o,!0));const C=_f(0,null,null,1,0,null,null,null,null,null,null),E=kl(null,C,null,v,null,null,d,f,o,null,y);let R,ue;ld(E);try{const ve=this.componentDef;let tt,Lt=null;ve.findHostDirectiveDefs?(tt=[],Lt=new Map,ve.findHostDirectiveDefs(ve,tt,Lt),tt.push(ve)):tt=[ve];const hn=function IR(e,n){const t=e[S],r=q;return e[r]=n,zi(t,r,2,"#host",null)}(E,p),vc=function AR(e,n,t,r,i,s,o){const a=i[S];!function MR(e,n,t,r){for(const i of e)n.mergedAttrs=Ls(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Ll(n,n.mergedAttrs,!0),null!==t&&Av(r,t,n))}(r,e,n,o);let l=null;null!==n&&(l=nf(n,i[or]));const u=s.rendererFactory.createRenderer(n,t);let c=16;t.signals?c=4096:t.onPush&&(c=64);const d=kl(i,T_(t),null,c,i[e.index],e,s,u,null,null,l);return a.firstCreatePass&&Df(a,e,r.length-1),Fl(i,d),i[e.index]=d}(hn,p,ve,tt,E,d,f);ue=cy(C,q),p&&function NR(e,n,t,r){if(r)qc(e,t,["ng-version",DO.full]);else{const{attrs:i,classes:s}=function fM(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&n.push(s,e[++r]):8===i&&t.push(s);else{if(!en(i))break;i=s}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&qc(e,t,i),s&&s.length>0&&Iv(e,t,s.join(" "))}}(f,ve,p,r),void 0!==t&&function OR(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(ue,this.ngContentSelectors,t),R=function TR(e,n,t,r,i,s){const o=qe(),a=i[S],l=yt(o,i);x_(a,i,o,t,null,r);for(let c=0;c<t.length;c++)Qe(jr(i,a,o.directiveStart+c,o),i);P_(a,i,o),l&&Qe(l,i);const u=jr(i,a,o.directiveStart+o.componentOffset,o);if(e[Me]=i[Me]=u,null!==s)for(const c of s)c(u,n);return mf(a,o,e),u}(vc,ve,tt,Lt,E,[RR]),Sf(C,E,null)}finally{ud()}return new SR(this.componentType,R,Ui(ue,E),E,ue)}}class SR extends pO{constructor(n,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new bR(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const s=this._rootLView;Ef(s[S],s,i,n,t),this.previousInputValues.set(n,t),ho(Tt(this._tNode.index,s))}}get injector(){return new at(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function RR(){const e=qe();Qa(D()[S],e)}function se(e){let n=function Z_(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(nn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new _(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const o=e;o.inputs=jl(e.inputs),o.inputTransforms=jl(e.inputTransforms),o.declaredInputs=jl(e.declaredInputs),o.outputs=jl(e.outputs);const a=i.hostBindings;a&&FR(e,a);const l=i.viewQuery,u=i.contentQueries;if(l&&PR(e,l),u&&kR(e,u),Ra(e.inputs,i.inputs),Ra(e.declaredInputs,i.declaredInputs),Ra(e.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Ra(o.inputTransforms,i.inputTransforms)),nn(i)&&i.data.animation){const c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===se&&(t=!1)}}n=Object.getPrototypeOf(n)}!function xR(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Ls(i.hostAttrs,t=Ls(t,i.hostAttrs))}}(r)}function jl(e){return e===mn?{}:e===J?[]:e}function PR(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function kR(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,s)=>{n(r,i,s),t(r,i,s)}:n}function FR(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}function $l(e){return!!If(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function If(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ze(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function En(e,n,t,r){const i=D();return Ze(i,bi(),n)&&(Q(),bn(De(),i,e,n,t,r)),En}function gr(e,n,t,r,i,s,o,a){const l=D(),u=Q(),c=e+q,d=u.firstCreatePass?function ax(e,n,t,r,i,s,o,a,l){const u=n.consts,c=zi(n,e,4,o||null,ur(u,a));wf(n,t,c,ur(u,l)),Qa(n,c);const d=c.tView=_f(2,c,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u,null);return null!==n.queries&&(n.queries.template(n,c),d.queries=n.queries.embeddedTView(c)),c}(c,u,l,n,t,r,i,s,o):u.data[c];wn(d,!1);const f=hw(u,l,d,e);Ka()&&yl(u,l,f,d),Qe(f,l),Fl(l,l[c]=F_(f,l,f,d)),za(d)&&yf(u,l,d),null!=o&&vf(l,d,a)}let hw=function pw(e,n,t,r){return fr(!0),n[$].createComment("")};function Ye(e,n,t){const r=D();return Ze(r,bi(),n)&&function xt(e,n,t,r,i,s,o,a){const l=yt(n,t);let c,u=n.inputs;!a&&null!=u&&(c=u[r])?(Ef(e,t,c,r,i),Fr(n)&&function tR(e,n){const t=Tt(n,e);16&t[H]||(t[H]|=64)}(t,n.index)):3&n.type&&(r=function eR(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,n.value||"",r):i,s.setProperty(l,r,i))}(Q(),De(),r,e,n,r[$],t,!1),Ye}function Rf(e,n,t,r,i){const o=i?"class":"style";Ef(e,t,n.inputs[o],o,r)}function ee(e,n,t,r){const i=D(),s=Q(),o=q+e,a=i[$],l=s.firstCreatePass?function fx(e,n,t,r,i,s){const o=n.consts,l=zi(n,e,2,r,ur(o,i));return wf(n,t,l,ur(o,s)),null!==l.attrs&&Ll(l,l.attrs,!1),null!==l.mergedAttrs&&Ll(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(o,s,i,n,t,r):s.data[o],u=gw(s,i,l,a,n,e);i[o]=u;const c=za(l);return wn(l,!0),Av(a,u,l),32!=(32&l.flags)&&Ka()&&yl(s,i,u,l),0===function HM(){return k.lFrame.elementDepthCount}()&&Qe(u,i),function zM(){k.lFrame.elementDepthCount++}(),c&&(yf(s,i,l),mf(s,l,i)),null!==r&&vf(i,l),ee}function ce(){let e=qe();rd()?id():(e=e.parent,wn(e,!1));const n=e;(function qM(e){return k.skipHydrationRootTNode===e})(n)&&function ZM(){k.skipHydrationRootTNode=null}(),function GM(){k.lFrame.elementDepthCount--}();const t=Q();return t.firstCreatePass&&(Qa(t,e),Kc(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function uT(e){return 0!=(8&e.flags)}(n)&&Rf(t,n,D(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function cT(e){return 0!=(16&e.flags)}(n)&&Rf(t,n,D(),n.stylesWithoutHost,!1),ce}function rn(e,n,t,r){return ee(e,n,t,r),ce(),rn}let gw=(e,n,t,r,i,s)=>(fr(!0),pl(r,i,function Ty(){return k.lFrame.currentNamespace}()));function bo(e,n,t){const r=D(),i=Q(),s=e+q,o=i.firstCreatePass?function gx(e,n,t,r,i){const s=n.consts,o=ur(s,r),a=zi(n,e,8,"ng-container",o);return null!==o&&Ll(a,o,!0),wf(n,t,a,ur(s,i)),null!==n.queries&&n.queries.elementStart(n,a),a}(s,i,r,n,t):i.data[s];wn(o,!0);const a=yw(i,r,o,e);return r[s]=a,Ka()&&yl(i,r,a,o),Qe(a,r),za(o)&&(yf(i,r,o),mf(i,o,r)),null!=t&&vf(r,o),bo}function Co(){let e=qe();const n=Q();return rd()?id():(e=e.parent,wn(e,!1)),n.firstCreatePass&&(Qa(n,e),Kc(e)&&n.queries.elementEnd(e)),Co}let yw=(e,n,t,r)=>(fr(!0),Md(n[$],""));function es(){return D()}function Eo(e){return!!e&&"function"==typeof e.then}function vw(e){return!!e&&"function"==typeof e.subscribe}function xe(e,n,t,r){const i=D(),s=Q(),o=qe();return function ww(e,n,t,r,i,s,o){const a=za(r),u=e.firstCreatePass&&function j_(e){return e.cleanup||(e.cleanup=[])}(e),c=n[Me],d=function V_(e){return e[pi]||(e[pi]=[])}(n);let f=!0;if(3&r.type||o){const g=yt(r,n),m=o?o(g):g,v=d.length,y=o?E=>o(pe(E[r.index])):r.index;let C=null;if(!o&&a&&(C=function vx(e,n,t,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=n[pi],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,n,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=s,C.__ngLastListenerFn__=s,f=!1;else{s=bw(r,n,c,s,!1);const E=t.listen(m,i,s);d.push(s,E),u&&u.push(i,y,v,v+1)}}else s=bw(r,n,c,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const R=n[p[m]][p[m+1]].subscribe(s),ue=d.length;d.push(s,R),u&&u.push(i,r.index,ue,-(ue+1))}}}(s,i,i[$],o,e,n,r),xe}function Dw(e,n,t,r){try{return _n(6,n,t),!1!==t(r)}catch(i){return U_(e,i),!1}finally{_n(7,n,t)}}function bw(e,n,t,r,i){return function s(o){if(o===Function)return r;ho(e.componentOffset>-1?Tt(e.index,n):n);let l=Dw(n,t,r,o),u=s.__ngNextListenerFn__;for(;u;)l=Dw(n,t,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function sn(e=1){return function nT(e){return(k.lFrame.contextLView=function rT(e,n){for(;e>0;)n=n[mi],e--;return n}(e,k.lFrame.contextLView))[Me]}(e)}function Gl(e,n){return e<<17|n<<2}function mr(e){return e>>17&32767}function Pf(e){return 2|e}function Hr(e){return(131068&e)>>2}function kf(e,n){return-131069&e|n<<2}function Ff(e){return 1|e}function Rw(e,n,t,r,i){const s=e[t+1],o=null===n;let a=r?mr(s):Hr(s),l=!1;for(;0!==a&&(!1===l||o);){const c=e[a+1];Ax(e[a],n)&&(l=!0,e[a+1]=r?Ff(c):Pf(c)),a=r?mr(c):Hr(c)}l&&(e[t+1]=r?Pf(s):Ff(s))}function Ax(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Ni(e,n)>=0}function Lf(e,n,t){return on(e,n,t,!1),Lf}function ql(e,n){return on(e,n,null,!0),ql}function on(e,n,t,r){const i=D(),s=Q(),o=function $n(e){const n=k.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}(2);s.firstUpdatePass&&function $w(e,n,t,r){const i=e.data;if(null===i[t+1]){const s=i[ot()],o=function jw(e,n){return n>=e.expandoStartIndex}(e,t);(function zw(e,n){return 0!=(e.flags&(n?8:16))})(s,r)&&null===n&&!o&&(n=!1),n=function Fx(e,n,t,r){const i=function od(e){const n=k.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let s=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=So(t=Vf(null,e,n,t,r),n.attrs,r),s=null);else{const o=n.directiveStylingLast;if(-1===o||e[o]!==i)if(t=Vf(i,e,n,t,r),null===s){let l=function Lx(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==Hr(r))return e[mr(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&(l=Vf(null,e,n,l[1],r),l=So(l,n.attrs,r),function Vx(e,n,t,r){e[mr(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l))}else s=function jx(e,n,t){let r;const i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++)r=So(r,e[s].hostAttrs,t);return So(r,n.attrs,t)}(e,n,r)}return void 0!==s&&(r?n.residualClasses=s:n.residualStyles=s),t}(i,s,n,r),function Sx(e,n,t,r,i,s){let o=s?n.classBindings:n.styleBindings,a=mr(o),l=Hr(o);e[r]=t;let c,u=!1;if(Array.isArray(t)?(c=t[1],(null===c||Ni(t,c)>0)&&(u=!0)):c=t,i)if(0!==l){const f=mr(e[a+1]);e[r+1]=Gl(f,a),0!==f&&(e[f+1]=kf(e[f+1],r)),e[a+1]=function Cx(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=Gl(a,0),0!==a&&(e[a+1]=kf(e[a+1],r)),a=r;else e[r+1]=Gl(l,0),0===a?a=r:e[l+1]=kf(e[l+1],r),l=r;u&&(e[r+1]=Pf(e[r+1])),Rw(e,c,r,!0),Rw(e,c,r,!1),function Ix(e,n,t,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof n&&Ni(s,n)>=0&&(t[r+1]=Ff(t[r+1]))}(n,c,e,r,s),o=Gl(a,l),s?n.classBindings=o:n.styleBindings=o}(i,s,n,t,o,r)}}(s,e,o,r),n!==U&&Ze(i,o,n)&&function Bw(e,n,t,r,i,s,o,a){if(!(3&n.type))return;const l=e.data,u=l[a+1],c=function Ex(e){return 1==(1&e)}(u)?Hw(l,n,t,i,Hr(u),o):void 0;Wl(c)||(Wl(s)||function bx(e){return 2==(2&e)}(u)&&(s=Hw(l,null,t,i,a,o)),function DN(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:hr.DashCase;null==i?e.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=hr.Important),e.setStyle(t,r,i,s))}}(r,o,Wa(ot(),t),i,s))}(s,s.data[ot()],i,i[$],e,i[o+1]=function Hx(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Le(function pr(e){return e instanceof Ov?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(n,t),r,o)}function Vf(e,n,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=n[a],r=So(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function So(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const o=n[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Nt(e,o,!!t||n[++s]))}return void 0===e?null:e}function Hw(e,n,t,r,i,s){const o=null===n;let a;for(;i>0;){const l=e[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let f=t[i+1];f===U&&(f=d?J:void 0);let h=d?vd(f,r):c===r?f:void 0;if(u&&!Wl(h)&&(h=vd(l,r)),Wl(h)&&(a=h,o))return a;const p=e[i+1];i=o?mr(p):Hr(p)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(a=vd(l,r))}return a}function Wl(e){return void 0!==e}function Pe(e,n=""){const t=D(),r=Q(),i=e+q,s=r.firstCreatePass?zi(r,i,1,n,null):r.data[i],o=Gw(r,t,s,n,e);t[i]=o,Ka()&&yl(r,t,o,s),wn(s,!1)}let Gw=(e,n,t,r,i)=>(fr(!0),function hl(e,n){return e.createText(n)}(n[$],r));function Io(e){return jf("",e,""),Io}function jf(e,n,t){const r=D(),i=function qi(e,n,t,r){return Ze(e,bi(),t)?n+j(t)+r:U}(r,e,n,t);return i!==U&&function Gn(e,n,t){const r=Wa(n,e);!function pv(e,n,t){e.setValue(n,t)}(e[$],r,t)}(r,ot(),i),jf}const rs="en-US";let hD=rs;function Bf(e,n,t,r,i){if(e=F(e),Array.isArray(e))for(let s=0;s<e.length;s++)Bf(e[s],n,t,r,i);else{const s=Q(),o=D(),a=qe();let l=Ur(e)?e:F(e.provide);const u=Kv(e),c=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Ur(e)||!e.multi){const h=new Ws(u,i,b),p=zf(l,n,i?c:c+f,d);-1===p?(gd(Xa(a,o),s,l),Hf(s,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(h),o.push(h)):(t[p]=h,o[p]=h)}else{const h=zf(l,n,c+f,d),p=zf(l,n,c,c+f),m=p>=0&&t[p];if(i&&!m||!i&&!(h>=0&&t[h])){gd(Xa(a,o),s,l);const v=function ck(e,n,t,r,i){const s=new Ws(e,t,b);return s.multi=[],s.index=n,s.componentProviders=0,VD(s,i,r&&!t),s}(i?uk:lk,t.length,i,r,u);!i&&m&&(t[p].providerFactory=v),Hf(s,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),o.push(v)}else Hf(s,e,h>-1?h:p,VD(t[i?p:h],u,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function Hf(e,n,t,r){const i=Ur(n),s=function YN(e){return!!e.useClass}(n);if(i||s){const l=(s?F(n.useClass):n).prototype.ngOnDestroy;if(l){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const c=u.indexOf(t);-1===c?u.push(t,[r,l]):u[c+1].push(r,l)}else u.push(t,l)}}}function VD(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function zf(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function lk(e,n,t,r){return Gf(this.multi,[])}function uk(e,n,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=jr(t,t[S],this.providerFactory.index,r);s=a.slice(0,o),Gf(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Gf(i,s);return s}function Gf(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function we(e,n=[]){return t=>{t.providersResolver=(r,i)=>function ak(e,n,t){const r=Q();if(r.firstCreatePass){const i=nn(e);Bf(t,r.data,r.blueprint,i,!0),Bf(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class Gr{}class jD{}class qf extends Gr{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new K_(this);const i=Mt(n);this._bootstrapComponents=zn(i.bootstrap),this._r3Injector=a_(n,t,[{provide:Gr,useValue:this},{provide:Rl,useValue:this.componentFactoryResolver},...r],Le(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Wf extends jD{constructor(n){super(),this.moduleType=n}create(n){return new qf(this.moduleType,n,[])}}class $D extends Gr{constructor(n){super(),this.componentFactoryResolver=new K_(this),this.instance=null;const t=new Sl([...n.providers,{provide:Gr,useValue:this},{provide:Rl,useValue:this.componentFactoryResolver}],n.parent||El(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Kf(e,n,t=null){return new $D({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let hk=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=zv(0,t.type),i=r.length>0?Kf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=N({token:e,providedIn:"environment",factory:()=>new e(T(Gt))})}return e})();function Qf(e){e.getStandaloneInjector=n=>n.get(hk).getOrCreateStandaloneInjector(e)}function WD(e,n,t,r,i){return function QD(e,n,t,r,i,s,o){const a=n+t;return function Br(e,n,t,r){const i=Ze(e,n,t);return Ze(e,n+1,r)||i}(e,a,i,s)?function Cn(e,n,t){return e[n]=t}(e,a+2,o?r.call(o,i,s):r(i,s)):function Ro(e,n){const t=e[n];return t===U?void 0:t}(e,a+2)}(D(),function st(){const e=k.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}(),e,n,t,r,i)}function $k(e,n,t,r=!0){const i=n[S];if(function hN(e,n,t,r){const i=ze+r,s=t.length;r>0&&(t[i-1][tn]=n),r<s-ze?(n[tn]=t[i],zy(t,ze+r,n)):(t.push(n),n[tn]=null),n[_e]=t;const o=n[$s];null!==o&&t!==o&&function pN(e,n){const t=e[vi];n[Te]!==n[_e][_e][Te]&&(e[Bm]=!0),null===t?e[vi]=[n]:t.push(n)}(o,n);const a=n[yn];null!==a&&a.insertView(e),n[H]|=128}(i,n,e,t),r){const s=xd(t,e),o=n[$],a=ml(o,e[vn]);null!==a&&function cN(e,n,t,r,i,s){r[Ee]=i,r[Ke]=n,ro(e,r,t,1,i,s)}(i,e[Ke],o,n,a,s)}}Symbol;let qn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Hk}return e})();const Uk=qn,Bk=class extends Uk{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){const i=function jk(e,n,t,r){const i=n.tView,a=kl(e,i,t,4096&e[H]?4096:16,null,n,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[$s]=e[n.index];const u=e[yn];return null!==u&&(a[yn]=u.createEmbeddedView(i)),Sf(i,a,t),a}(this._declarationLView,this._declarationTContainer,n,{injector:t,hydrationInfo:r});return new mo(i)}};function Hk(){return function Jl(e,n){return 4&e.type?new Bk(n,e,Ui(e,n)):null}(qe(),D())}let ln=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Qk}return e})();function Qk(){return function sb(e,n){let t;const r=n[e.index];return it(r)?t=r:(t=F_(r,n,null,e),n[e.index]=t,Fl(n,t)),ob(t,n,e,r),new rb(t,e,n)}(qe(),D())}const Zk=ln,rb=class extends Zk{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Ui(this._hostTNode,this._hostLView)}get injector(){return new at(this._hostTNode,this._hostLView)}get parentInjector(){const n=el(this._hostTNode,this._hostLView);if(fd(n)){const t=Qs(n,this._hostLView),r=Ks(n);return new at(t[S].data[r+8],t)}return new at(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=ib(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-ze}createEmbeddedView(n,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=n.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(n,t,r,i,s){const o=n&&!function Ys(e){return"function"==typeof e}(n);let a;if(o)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const l=o?n:new yo(K(n)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const m=(o?u:this.parentInjector).get(Gt,null);m&&(s=m)}K(l.componentType??{});const h=l.create(u,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const i=n._lView;if(function $M(e){return it(e[_e])}(i)){const l=this.indexOf(n);if(-1!==l)this.detach(l);else{const u=i[_e],c=new rb(u,u[Ke],u[_e]);c.detach(c.indexOf(n))}}const o=this._adjustIndex(t),a=this._lContainer;return $k(a,i,o,!r),n.attachToViewContainerRef(),zy(Jf(a),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=ib(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=gl(this._lContainer,t);r&&(rl(Jf(this._lContainer),t),Td(r[S],r))}detach(n){const t=this._adjustIndex(n,-1),r=gl(this._lContainer,t);return r&&null!=rl(Jf(this._lContainer),t)?new mo(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function ib(e){return e[8]}function Jf(e){return e[8]||(e[8]=[])}let ob=function ab(e,n,t,r){if(e[vn])return;let i;i=8&t.type?pe(r):function Yk(e,n){const t=e[$],r=t.createComment(""),i=yt(n,e);return $r(t,ml(t,i),r,function vN(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[vn]=i};const uh=new M("Application Initializer");let ch=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=I(uh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(Eo(s))t.push(s);else if(vw(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Rb=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Wn=new M("LocaleId",{providedIn:"root",factory:()=>I(Wn,G.Optional|G.SkipSelf)||function MF(){return typeof $localize<"u"&&$localize.locale||rs}()});let xb=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ht(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class OF{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let Pb=(()=>{class e{compileModuleSync(t){return new Wf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=zn(Mt(t).declarations).reduce((o,a)=>{const l=K(a);return l&&o.push(new yo(l)),o},[]);return new OF(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Vb=new M(""),nu=new M("");let gh,hh=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gh||(function YF(e){gh=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{le.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(T(le),T(ph),T(nu))};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),ph=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return gh?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),yr=null;const jb=new M("AllowMultipleToken"),mh=new M("PlatformDestroyListeners"),yh=new M("appBootstrapListener");class Ub{constructor(n,t){this.name=n,this.token=t}}function Hb(e,n,t=[]){const r=`Platform: ${n}`,i=new M(r);return(s=[])=>{let o=vh();if(!o||o.injector.get(jb,!1)){const a=[...t,...s,{provide:i,useValue:!0}];e?e(a):function e1(e){if(yr&&!yr.get(jb,!1))throw new _(400,!1);(function $b(){!function SM(e){ey=e}(()=>{throw new _(600,!1)})})(),yr=e;const n=e.get(Gb);(function Bb(e){e.get(Qv,null)?.forEach(t=>t())})(e)}(function zb(e=[],n){return Rt.create({name:n,providers:[{provide:Gd,useValue:"platform"},{provide:mh,useValue:new Set([()=>yr=null])},...e]})}(a,r))}return function n1(e){const n=vh();if(!n)throw new _(401,!1);return n}()}}function vh(){return yr?.get(Gb)??null}let Gb=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function r1(e="zone.js",n){return"noop"===e?new xO:"zone.js"===e?new le(n):e}(r?.ngZone,function qb(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function fk(e,n,t){return new qf(e,n,t)}(t.moduleType,this.injector,function Yb(e){return[{provide:le,useFactory:e},{provide:ao,multi:!0,useFactory:()=>{const n=I(s1,{optional:!0});return()=>n.initialize()}},{provide:Zb,useFactory:i1},{provide:f_,useFactory:h_}]}(()=>i)),o=s.injector.get(Hn,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{ru(this._modules,s),a.unsubscribe()})}),function Wb(e,n,t){try{const r=t();return Eo(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(ch);return a.runInitializers(),a.donePromise.then(()=>(function pD(e){jt(e,"Expected localeId to be defined"),"string"==typeof e&&(hD=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Wn,rs)||rs),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=Kb({},r);return function JF(e,n,t){const r=new Wf(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(vr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new _(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(mh,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(T(Rt))};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Kb(e,n){return Array.isArray(n)?n.reduce(Kb,e):{...e,...n}}let vr=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I(Zb),this.zoneIsStable=I(f_),this.componentTypes=[],this.components=[],this.isStable=I(xb).hasPendingTasks.pipe(gn(t=>t?V(!1):this.zoneIsStable),vm(),ym()),this._injector=I(Gt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof t_;if(!this._injector.get(ch).done)throw!i&&function hi(e){const n=K(e)||He(e)||rt(e);return null!==n&&n.standalone}(t),new _(405,!1);let o;o=i?t:this._injector.get(Rl).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function XF(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Gr),u=o.create(Rt.NULL,[],r||o.selector,a),c=u.location.nativeElement,d=u.injector.get(Vb,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),ru(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new _(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;ru(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(yh,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ru(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new _(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ru(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const Zb=new M("",{providedIn:"root",factory:()=>I(Hn).handleError.bind(void 0)});function i1(){const e=I(le),n=I(Hn);return t=>e.runOutsideAngular(()=>n.handleError(t))}let s1=(()=>{class e{constructor(){this.zone=I(le),this.applicationRef=I(vr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Fo=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=a1}return e})();function a1(e){return function l1(e,n,t){if(Fr(e)&&!t){const r=Tt(e.index,n);return new mo(r,r)}return 47&e.type?new mo(n[Te],n):null}(qe(),D(),16==(16&e))}class tC{constructor(){}supports(n){return $l(n)}create(n){return new p1(n)}}const h1=(e,n)=>n;class p1{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||h1}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<rC(r,i,s)?t:r,a=rC(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,c=l-i;if(u!=c){for(let f=0;f<u;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;c<=p&&p<u&&(s[f]=h+1)}s[o.previousIndex]=c-u}}a!==l&&n(o,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!$l(n))throw new _(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)s=n[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function HR(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,s,i)):n=this._addAfter(new g1(t,r),s,i),n}_verifyReinsertion(n,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new nC),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class g1{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class m1{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class nC{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new m1,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rC(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class iC{constructor(){}supports(n){return n instanceof Map||If(n)}create(){return new y1}}class y1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||If(n)))throw new _(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new v1(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class v1{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sC(){return new ou([new tC])}let ou=(()=>{class e{static#e=this.\u0275prov=N({token:e,providedIn:"root",factory:sC});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||sC()),deps:[[e,new ol,new sl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new _(901,!1)}}return e})();function oC(){return new Lo([new iC])}let Lo=(()=>{class e{static#e=this.\u0275prov=N({token:e,providedIn:"root",factory:oC});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||oC()),deps:[[e,new ol,new sl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new _(901,!1)}}return e})();const D1=Hb(null,"core",[]);let b1=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||e)(T(vr))};static#t=this.\u0275mod=Ut({type:e});static#n=this.\u0275inj=At({})}return e})();function os(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let Eh=null;function _r(){return Eh}class F1{}const Dt=new M("DocumentToken");let Sh=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:function(){return I(V1)},providedIn:"platform"})}return e})();const L1=new M("Location Initialized");let V1=(()=>{class e extends Sh{constructor(){super(),this._doc=I(Dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _r().getBaseHref(this._doc)}onPopState(t){const r=_r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=_r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function Ih(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function gC(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function Kn(e){return e&&"?"!==e[0]?"?"+e:e}let Wr=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:function(){return I(yC)},providedIn:"root"})}return e})();const mC=new M("appBaseHref");let yC=(()=>{class e extends Wr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??I(Dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ih(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Kn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Kn(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Kn(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||e)(T(Sh),T(mC,8))};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),j1=(()=>{class e extends Wr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ih(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Kn(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Kn(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||e)(T(Sh),T(mC,8))};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),Ah=(()=>{class e{constructor(t){this._subject=new Se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function B1(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(gC(vC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Kn(r))}normalize(t){return e.stripTrailingSlash(function U1(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,vC(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Kn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Kn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=Kn;static#t=this.joinWithSlash=Ih;static#n=this.stripTrailingSlash=gC;static#r=this.\u0275fac=function(r){return new(r||e)(T(Wr))};static#i=this.\u0275prov=N({token:e,factory:function(){return function $1(){return new Ah(T(Wr))}()},providedIn:"root"})}return e})();function vC(e){return e.replace(/\/index.html$/,"")}const Lh=/\s+/,AC=[];let MC=(()=>{class e{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=AC,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Lh):AC}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Lh):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Lh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||e)(b(ou),b(Lo),b(Ot),b(Bn))};static#t=this.\u0275dir=L({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class ML{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let NC=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ML(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),OC(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{OC(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(b(ln),b(qn),b(ou))};static#t=this.\u0275dir=L({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function OC(e,n){e.context.$implicit=n.item}let Vh=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new TL,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){RC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){RC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(b(ln),b(qn))};static#t=this.\u0275dir=L({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class TL{constructor(){this.$implicit=null,this.ngIf=null}}function RC(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Le(n)}'.`)}let kC=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ut({type:e});static#n=this.\u0275inj=At({})}return e})();function LC(e){return"server"===e}let rV=(()=>{class e{static#e=this.\u0275prov=N({token:e,providedIn:"root",factory:()=>new iV(T(Dt),window)})}return e})();class iV{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function sV(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class TV extends F1{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Gh extends TV{static makeCurrent(){!function k1(e){Eh||(Eh=e)}(new Gh)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function NV(){return Uo=Uo||document.querySelector("base"),Uo?Uo.getAttribute("href"):null}();return null==t?null:function OV(e){wu=wu||document.createElement("a"),wu.setAttribute("href",e);const n=wu.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function IL(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}(document.cookie,n)}}let wu,Uo=null,xV=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac})}return e})();const qh=new M("EventManagerPlugins");let BC=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new _(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(T(qh),T(le))};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac})}return e})();class HC{constructor(n){this._doc=n}}const Wh="ng-app-id";let zC=(()=>{class e{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=LC(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Wh}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(Wh),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Wh,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(T(Dt),T(Il),T(Yv,8),T(Vi))};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac})}return e})();const Kh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qh=/%COMP%/g,LV=new M("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function qC(e,n){return n.map(t=>t.replace(Qh,e))}let Zh=(()=>{class e{constructor(t,r,i,s,o,a,l,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=LC(a),this.defaultRenderer=new Yh(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===$t.ShadowDom&&(r={...r,encapsulation:$t.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof KC?i.applyToHost(t):i instanceof Jh&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case $t.Emulated:s=new KC(l,u,r,this.appId,c,o,a,d);break;case $t.ShadowDom:return new UV(l,u,t,r,o,a,this.nonce,d);default:s=new Jh(l,u,r,c,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(T(BC),T(zC),T(Il),T(LV),T(Dt),T(Vi),T(le),T(Yv))};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac})}return e})();class Yh{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Kh[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(WC(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(WC(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new _(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const s=Kh[i];s?n.setAttributeNS(s,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=Kh[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(hr.DashCase|hr.Important)?n.style.setProperty(t,r,i&hr.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&hr.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=_r().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function WC(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class UV extends Yh{constructor(n,t,r,i,s,o,a,l){super(n,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=qC(i.id,i.styles);for(const c of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Jh extends Yh{constructor(n,t,r,i,s,o,a,l){super(n,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?qC(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class KC extends Jh{constructor(n,t,r,i,s,o,a,l){const u=i+"-"+r.id;super(n,t,r,s,o,a,l,u),this.contentAttr=function VV(e){return"_ngcontent-%COMP%".replace(Qh,e)}(u),this.hostAttr=function jV(e){return"_nghost-%COMP%".replace(Qh,e)}(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let BV=(()=>{class e extends HC{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(T(Dt))};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac})}return e})();const QC=["alt","control","meta","shift"],HV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zV={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let GV=(()=>{class e extends HC{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_r().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),QC.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=HV[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),QC.forEach(o=>{o!==i&&(0,zV[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{e.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||e)(T(Dt))};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac})}return e})();const QV=Hb(D1,"browser",[{provide:Vi,useValue:"browser"},{provide:Qv,useValue:function qV(){Gh.makeCurrent()},multi:!0},{provide:Dt,useFactory:function KV(){return function IN(e){Fd=e}(document),document},deps:[]}]),ZV=new M(""),JC=[{provide:nu,useClass:class RV{addToWindow(n){he.getAngularTestability=(r,i=!0)=>{const s=n.findTestabilityInTree(r,i);if(null==s)throw new _(5103,!1);return s},he.getAllAngularTestabilities=()=>n.getAllTestabilities(),he.getAllAngularRootElements=()=>n.getAllRootElements(),he.frameworkStabilizers||(he.frameworkStabilizers=[]),he.frameworkStabilizers.push(r=>{const i=he.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?_r().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:Vb,useClass:hh,deps:[le,ph,nu]},{provide:hh,useClass:hh,deps:[le,ph,nu]}],XC=[{provide:Gd,useValue:"root"},{provide:Hn,useFactory:function WV(){return new Hn},deps:[]},{provide:qh,useClass:BV,multi:!0,deps:[Dt,le,Vi]},{provide:qh,useClass:GV,multi:!0,deps:[Dt]},Zh,zC,BC,{provide:co,useExisting:Zh},{provide:class oV{},useClass:xV,deps:[]},[]];let eE=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Il,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(T(ZV,12))};static#t=this.\u0275mod=Ut({type:e});static#n=this.\u0275inj=At({providers:[...XC,...JC],imports:[kC,b1]})}return e})(),tE=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||e)(T(Dt))};static#t=this.\u0275prov=N({token:e,factory:function(r){let i=null;return i=r?new r:function JV(){return new tE(T(Dt))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:ij}=Array,{getPrototypeOf:sj,prototype:oj,keys:aj}=Object;function sE(e){if(1===e.length){const n=e[0];if(ij(n))return{args:n,keys:null};if(function lj(e){return e&&"object"==typeof e&&sj(e)===oj}(n)){const t=aj(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:uj}=Array;function oE(e){return ae(n=>function cj(e,n){return uj(n)?e(...n):e(n)}(e,n))}function aE(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function ep(...e){const n=xs(e),t=hm(e),{args:r,keys:i}=sE(e);if(0===r.length)return $e([],n);const s=new Ae(function dj(e,n,t=rr){return r=>{lE(n,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)lE(n,()=>{const u=$e(e[l],n);let c=!1;u.subscribe(Re(r,d=>{s[l]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,n,i?o=>aE(i,o):rr));return t?s.pipe(oE(t)):s}function lE(e,n,t){e?kn(t,e,n):n()}const Du=Pn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function tp(...e){return function fj(){return di(1)}()($e(e,xs(e)))}function uE(e){return new Ae(n=>{St(e()).subscribe(n)})}function Bo(e,n){const t=B(e)?e:()=>e,r=i=>i.error(t());return new Ae(n?i=>n.schedule(r,0,i):r)}function np(){return Fe((e,n)=>{let t=null;e._refCount++;const r=Re(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class cE extends Ae{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Jg(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Oe;const t=this.getSubject();n.add(this.source.subscribe(Re(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Oe.EMPTY)}return n}refCount(){return np()(this)}}function Kr(e){return e<=0?()=>pn:Fe((n,t)=>{let r=0;n.subscribe(Re(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function An(e,n){return Fe((t,r)=>{let i=0;t.subscribe(Re(r,s=>e.call(n,s,i++)&&r.next(s)))})}function bu(e){return Fe((n,t)=>{let r=!1;n.subscribe(Re(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function dE(e=pj){return Fe((n,t)=>{let r=!1;n.subscribe(Re(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function pj(){return new Du}function Qr(e,n){const t=arguments.length>=2;return r=>r.pipe(e?An((i,s)=>e(i,s,r)):rr,Kr(1),t?bu(n):dE(()=>new Du))}function Ho(e,n){return B(n)?Be(e,n,1):Be(e,1)}function Je(e,n,t){const r=B(e)||n||t?{next:e,error:n,complete:t}:e;return r?Fe((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Re(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):rr}function Zr(e){return Fe((n,t)=>{let s,r=null,i=!1;r=n.subscribe(Re(t,void 0,void 0,o=>{s=St(e(o,Zr(e)(n))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function rp(e){return e<=0?()=>pn:Fe((n,t)=>{let r=[];n.subscribe(Re(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ip(e){return Fe((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const z="primary",zo=Symbol("RouteTitle");class wj{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ls(e){return new wj(e)}function Dj(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Mn(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!fE(e[i],n[i]))return!1;return!0}function fE(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,s)=>r[s]===i)}return e===n}function hE(e){return e.length>0?e[e.length-1]:null}function Dr(e){return function rj(e){return!!e&&(e instanceof Ae||B(e.lift)&&B(e.subscribe))}(e)?e:Eo(e)?$e(Promise.resolve(e)):V(e)}const Cj={exact:function mE(e,n,t){if(!Yr(e.segments,n.segments)||!Cu(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!mE(e.children[r],n.children[r],t))return!1;return!0},subset:yE},pE={exact:function Ej(e,n){return Mn(e,n)},subset:function Sj(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>fE(e[t],n[t]))},ignored:()=>!0};function gE(e,n,t){return Cj[t.paths](e.root,n.root,t.matrixParams)&&pE[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function yE(e,n,t){return vE(e,n,n.segments,t)}function vE(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!Yr(i,t)||n.hasChildren()||!Cu(i,t,r))}if(e.segments.length===t.length){if(!Yr(e.segments,t)||!Cu(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!yE(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(Yr(e.segments,i)&&Cu(e.segments,i,r)&&e.children[z])&&vE(e.children[z],n,s,r)}}function Cu(e,n,t){return n.every((r,i)=>pE[t](e[i].parameters,r.parameters))}class us{constructor(n=new oe([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ls(this.queryParams)),this._queryParamMap}toString(){return Mj.serialize(this)}}class oe{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Eu(this)}}class Go{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ls(this.parameters)),this._parameterMap}toString(){return DE(this)}}function Yr(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let qo=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:function(){return new sp},providedIn:"root"})}return e})();class sp{parse(n){const t=new jj(n);return new us(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Wo(n.root,!0)}`,r=function Oj(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${Su(t)}=${Su(i)}`).join("&"):`${Su(t)}=${Su(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function Tj(e){return encodeURI(e)}(n.fragment)}`:""}`}}const Mj=new sp;function Eu(e){return e.segments.map(n=>DE(n)).join("/")}function Wo(e,n){if(!e.hasChildren())return Eu(e);if(n){const t=e.children[z]?Wo(e.children[z],!1):"",r=[];return Object.entries(e.children).forEach(([i,s])=>{i!==z&&r.push(`${i}:${Wo(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Aj(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===z&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==z&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===z?[Wo(e.children[z],!1)]:[`${i}:${Wo(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[z]?`${Eu(e)}/${t[0]}`:`${Eu(e)}/(${t.join("//")})`}}function _E(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Su(e){return _E(e).replace(/%3B/gi,";")}function op(e){return _E(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Iu(e){return decodeURIComponent(e)}function wE(e){return Iu(e.replace(/\+/g,"%20"))}function DE(e){return`${op(e.path)}${function Nj(e){return Object.keys(e).map(n=>`;${op(n)}=${op(e[n])}`).join("")}(e.parameters)}`}const Rj=/^[^\/()?;#]+/;function ap(e){const n=e.match(Rj);return n?n[0]:""}const xj=/^[^\/()?;=#]+/,kj=/^[^=?&#]+/,Lj=/^[^&#]+/;class jj{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[z]=new oe(n,t)),r}parseSegment(){const n=ap(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new _(4009,!1);return this.capture(n),new Go(Iu(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function Pj(e){const n=e.match(xj);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ap(this.remaining);i&&(r=i,this.capture(r))}n[Iu(t)]=Iu(r)}parseQueryParam(n){const t=function Fj(e){const n=e.match(kj);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function Vj(e){const n=e.match(Lj);return n?n[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=wE(t),s=wE(r);if(n.hasOwnProperty(i)){let o=n[i];Array.isArray(o)||(o=[o],n[i]=o),o.push(s)}else n[i]=s}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ap(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new _(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=z);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[z]:new oe([],o),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new _(4011,!1)}}function bE(e){return e.segments.length>0?new oe([],{[z]:e}):e}function CE(e){const n={};for(const r of Object.keys(e.children)){const s=CE(e.children[r]);if(r===z&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))n[o]=a;else(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function $j(e){if(1===e.numberOfChildren&&e.children[z]){const n=e.children[z];return new oe(e.segments.concat(n.segments),n.children)}return e}(new oe(e.segments,n))}function Jr(e){return e instanceof us}function EE(e){let n;const i=bE(function t(s){const o={};for(const l of s.children){const u=t(l);o[l.outlet]=u}const a=new oe(s.url,o);return s===e&&(n=a),a}(e.root));return n??i}function SE(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return lp(i,i,i,t,r);const s=function Bj(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new AE(!0,0,e);let n=0,t=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new AE(t,n,r)}(n);if(s.toRoot())return lp(i,i,new oe([],{}),t,r);const o=function Hj(e,n,t){if(e.isAbsolute)return new Mu(n,!0,0);if(!t)return new Mu(n,!1,NaN);if(null===t.parent)return new Mu(t,!0,0);const r=Au(e.commands[0])?0:1;return function zj(e,n,t){let r=e,i=n,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new _(4005,!1);i=r.segments.length}return new Mu(r,!1,i-s)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(s,i,e),a=o.processChildren?Qo(o.segmentGroup,o.index,s.commands):ME(o.segmentGroup,o.index,s.commands);return lp(i,o.segmentGroup,a,t,r)}function Au(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ko(e){return"object"==typeof e&&null!=e&&e.outlets}function lp(e,n,t,r,i){let o,s={};r&&Object.entries(r).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),o=e===n?t:IE(e,n,t);const a=bE(CE(o));return new us(a,s,i)}function IE(e,n,t){const r={};return Object.entries(e.children).forEach(([i,s])=>{r[i]=s===n?t:IE(s,n,t)}),new oe(e.segments,r)}class AE{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Au(r[0]))throw new _(4003,!1);const i=r.find(Ko);if(i&&i!==hE(r))throw new _(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mu{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function ME(e,n,t){if(e||(e=new oe([],{})),0===e.segments.length&&e.hasChildren())return Qo(e,n,t);const r=function qj(e,n,t){let r=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return s;const o=e.segments[i],a=t[r];if(Ko(a))break;const l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!NE(l,u,o))return s;r+=2}else{if(!NE(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new oe(e.segments.slice(0,r.pathIndex),{});return s.children[z]=new oe(e.segments.slice(r.pathIndex),e.children),Qo(s,0,i)}return r.match&&0===i.length?new oe(e.segments,{}):r.match&&!e.hasChildren()?up(e,n,t):r.match?Qo(e,0,i):up(e,n,t)}function Qo(e,n,t){if(0===t.length)return new oe(e.segments,{});{const r=function Gj(e){return Ko(e[0])?e[0].outlets:{[z]:e}}(t),i={};if(Object.keys(r).some(s=>s!==z)&&e.children[z]&&1===e.numberOfChildren&&0===e.children[z].segments.length){const s=Qo(e.children[z],n,t);return new oe(e.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=ME(e.children[s],n,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new oe(e.segments,i)}}function up(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const s=t[i];if(Ko(s)){const l=Wj(s.outlets);return new oe(r,l)}if(0===i&&Au(t[0])){r.push(new Go(e.segments[n].path,TE(t[0]))),i++;continue}const o=Ko(s)?s.outlets[z]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Au(a)?(r.push(new Go(o,TE(a))),i+=2):(r.push(new Go(o,{})),i++)}return new oe(r,{})}function Wj(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=up(new oe([],{}),0,r))}),n}function TE(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function NE(e,n,t){return e==t.path&&Mn(n,t.parameters)}const Zo="imperative";class Tn{constructor(n,t){this.id=n,this.url=t}}class Tu extends Tn{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class br extends Tn{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yo extends Tn{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cs extends Tn{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class Nu extends Tn{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class OE extends Tn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kj extends Tn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qj extends Tn{constructor(n,t,r,i,s){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zj extends Tn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yj extends Tn{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jj{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xj{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class e2{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t2{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n2{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r2{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RE{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class cp{}class dp{constructor(n){this.url=n}}class i2{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Jo,this.attachRef=null}}let Jo=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new i2,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class xE{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=fp(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=fp(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=hp(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return hp(n,this._root).map(t=>t.value)}}function fp(e,n){if(e===n.value)return n;for(const t of n.children){const r=fp(e,t);if(r)return r}return null}function hp(e,n){if(e===n.value)return[n];for(const t of n.children){const r=hp(e,t);if(r.length)return r.unshift(n),r}return[]}class Yn{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function ds(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class PE extends xE{constructor(n,t){super(n),this.snapshot=t,pp(this,n)}toString(){return this.snapshot.toString()}}function kE(e,n){const t=function s2(e,n){const o=new Ou([],{},{},"",{},z,n,null,{});return new LE("",new Yn(o,[]))}(0,n),r=new ht([new Go("",{})]),i=new ht({}),s=new ht({}),o=new ht({}),a=new ht(""),l=new fs(r,i,o,a,s,z,n,t.root);return l.snapshot=t.root,new PE(new Yn(l,[]),t)}class fs{constructor(n,t,r,i,s,o,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ae(u=>u[zo]))??V(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ae(n=>ls(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ae(n=>ls(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FE(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function o2(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ou{get title(){return this.data?.[zo]}constructor(n,t,r,i,s,o,a,l,u){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ls(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ls(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class LE extends xE{constructor(n,t){super(t),this.url=n,pp(this,t)}toString(){return VE(this._root)}}function pp(e,n){n.value._routerState=e,n.children.forEach(t=>pp(e,t))}function VE(e){const n=e.children.length>0?` { ${e.children.map(VE).join(", ")} } `:"";return`${e.value}${n}`}function gp(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Mn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Mn(n.params,t.params)||e.paramsSubject.next(t.params),function bj(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Mn(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Mn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function mp(e,n){const t=Mn(e.params,n.params)&&function Ij(e,n){return Yr(e,n)&&e.every((t,r)=>Mn(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||mp(e.parent,n.parent))}let jE=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=z,this.activateEvents=new Se,this.deactivateEvents=new Se,this.attachEvents=new Se,this.detachEvents=new Se,this.parentContexts=I(Jo),this.location=I(ln),this.changeDetector=I(Fo),this.environmentInjector=I(Gt),this.inputBinder=I(Ru,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new _(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new a2(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=L({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ht]})}return e})();class a2{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===fs?this.route:n===Jo?this.childContexts:this.parent.get(n,t)}}const Ru=new M("");let $E=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=ep([r.queryParams,r.params,r.data]).pipe(gn(([s,o,a],l)=>(a={...s,...o,...a},0===l?V(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function P1(e){const n=K(e);if(!n)return null;const t=new yo(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac})}return e})();function Xo(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function u2(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Xo(e,r,i);return Xo(e,r)})}(e,n,t);return new Yn(r,i)}{if(e.shouldAttach(n.value)){const s=e.retrieve(n.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=n.value,o.children=n.children.map(a=>Xo(e,a)),o}}const r=function c2(e){return new fs(new ht(e.url),new ht(e.params),new ht(e.queryParams),new ht(e.fragment),new ht(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(s=>Xo(e,s));return new Yn(r,i)}}const yp="ngNavigationCancelingError";function UE(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=Jr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=BE(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function BE(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[yp]=!0,r.cancellationCode=n,t&&(r.url=t),r}function HE(e){return e&&e[yp]}let zE=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Ua({type:e,selectors:[["ng-component"]],standalone:!0,features:[Qf],decls:1,vars:0,template:function(r,i){1&r&&rn(0,"router-outlet")},dependencies:[jE],encapsulation:2})}return e})();function vp(e){const n=e.children&&e.children.map(vp),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==z&&(t.component=zE),t}function dn(e){return e.outlet||z}function ea(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class v2{constructor(n,t,r,i,s){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),gp(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=ds(t);n.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(n,t,o.children)}else this.deactivateChildRoutes(n,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=ds(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:o,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=ds(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=ds(t);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new r2(s.value.snapshot))}),n.children.length&&this.forwardEvent(new t2(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(gp(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,o.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),gp(a.route.value),this.activateChildRoutes(n,null,o.children)}else{const a=ea(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(n,null,o.children)}}else this.activateChildRoutes(n,null,r)}}class GE{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class xu{constructor(n,t){this.component=n,this.route=t}}function _2(e,n,t){const r=e._root;return ta(r,n?n._root:null,t,[r.value])}function hs(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function zA(e){return null!==Pa(e)}(e)?n.get(e):e:r}function ta(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ds(n);return e.children.forEach(o=>{(function D2(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function b2(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!Yr(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Yr(e.url,n.url)||!Mn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mp(e,n)||!Mn(e.queryParams,n.queryParams);default:return!mp(e,n)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new GE(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ta(e,n,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xu(a.outlet.component,o))}else o&&na(n,a,i),i.canActivateChecks.push(new GE(r)),ta(e,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>na(a,t.getContext(o),i)),i}function na(e,n,t){const r=ds(e),i=e.value;Object.entries(r).forEach(([s,o])=>{na(o,i.component?n?n.children.getContext(s):null:n,t)}),t.canDeactivateChecks.push(new xu(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function ra(e){return"function"==typeof e}function qE(e){return e instanceof Du||"EmptyError"===e?.name}const Pu=Symbol("INITIAL_VALUE");function ps(){return gn(e=>ep(e.map(n=>n.pipe(Kr(1),function hj(...e){const n=xs(e);return Fe((t,r)=>{(n?tp(e,t,n):tp(e,t)).subscribe(r)})}(Pu)))).pipe(ae(n=>{for(const t of n)if(!0!==t){if(t===Pu)return Pu;if(!1===t||t instanceof us)return t}return!0}),An(n=>n!==Pu),Kr(1)))}function WE(e){return Kg(Je(n=>{if(Jr(n))throw UE(0,n)}),ae(n=>!0===n))}class ku{constructor(n){this.segmentGroup=n||null}}class KE{constructor(n){this.urlTree=n}}function gs(e){return Bo(new ku(e))}function QE(e){return Bo(new KE(e))}class B2{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new _(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return V(r);if(i.numberOfChildren>1||!i.children[z])return Bo(new _(4e3,!1));i=i.children[z]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const s=this.createSegmentGroup(n,t.root,r,i);return new us(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(n,t,r,i){const s=this.createSegments(n,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(n,l,r,i)}),new oe(s,o)}createSegments(n,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new _(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const _p={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function H2(e,n,t,r,i){const s=wp(e,n,t);return s.matched?(r=function f2(e,n){return e.providers&&!e._injector&&(e._injector=Kf(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function j2(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?V(i.map(o=>{const a=hs(o,e);return Dr(function M2(e){return e&&ra(e.canMatch)}(a)?a.canMatch(n,t):e.runInContext(()=>a(n,t)))})).pipe(ps(),WE()):V(!0)}(r,n,t).pipe(ae(o=>!0===o?s:{..._p}))):V(s)}function wp(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{..._p}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||Dj)(t,e,n);if(!i)return{..._p};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ZE(e,n,t,r){return t.length>0&&function q2(e,n,t){return t.some(r=>Fu(e,n,r)&&dn(r)!==z)}(e,t,r)?{segmentGroup:new oe(n,G2(r,new oe(t,e.children))),slicedSegments:[]}:0===t.length&&function W2(e,n,t){return t.some(r=>Fu(e,n,r))}(e,t,r)?{segmentGroup:new oe(e.segments,z2(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new oe(e.segments,e.children),slicedSegments:t}}function z2(e,n,t,r,i){const s={};for(const o of r)if(Fu(e,t,o)&&!i[dn(o)]){const a=new oe([],{});s[dn(o)]=a}return{...i,...s}}function G2(e,n){const t={};t[z]=n;for(const r of e)if(""===r.path&&dn(r)!==z){const i=new oe([],{});t[dn(r)]=i}return t}function Fu(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class Y2{constructor(n,t,r,i,s,o,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new B2(this.urlSerializer,this.urlTree)}noMatchError(n){return new _(4002,!1)}recognize(){const n=ZE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,z).pipe(Zr(t=>{if(t instanceof KE)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof ku?this.noMatchError(t):t}),ae(t=>{const r=new Ou([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},z,this.rootComponentType,null,{}),i=new Yn(r,t),s=new LE("",i),o=function Uj(e,n,t=null,r=null){return SE(EE(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,z).pipe(Zr(r=>{throw r instanceof ku?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=FE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0)}processChildren(n,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return $e(i).pipe(Ho(s=>{const o=r.children[s],a=function m2(e,n){const t=e.filter(r=>dn(r)===n);return t.push(...e.filter(r=>dn(r)!==n)),t}(t,s);return this.processSegmentGroup(n,a,o,s)}),function mj(e,n){return Fe(function gj(e,n,t,r,i){return(s,o)=>{let a=t,l=n,u=0;s.subscribe(Re(o,c=>{const d=u++;l=a?e(l,c,d):(a=!0,c),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(e,n,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),bu(null),function yj(e,n){const t=arguments.length>=2;return r=>r.pipe(e?An((i,s)=>e(i,s,r)):rr,rp(1),t?bu(n):dE(()=>new Du))}(),Be(s=>{if(null===s)return gs(r);const o=YE(s);return function J2(e){e.sort((n,t)=>n.value.outlet===z?-1:t.value.outlet===z?1:n.value.outlet.localeCompare(t.value.outlet))}(o),V(o)}))}processSegment(n,t,r,i,s,o){return $e(t).pipe(Ho(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,i,s,o).pipe(Zr(l=>{if(l instanceof ku)return V(null);throw l}))),Qr(a=>!!a),Zr(a=>{if(qE(a))return function Q2(e,n,t){return 0===n.length&&!e.children[t]}(r,i,s)?V([]):gs(r);throw a}))}processSegmentAgainstRoute(n,t,r,i,s,o,a){return function K2(e,n,t,r){return!!(dn(e)===r||r!==z&&Fu(n,t,e))&&("**"===e.path||wp(n,e,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,s,o):gs(i):gs(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?QE(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Be(o=>{const a=new oe(o,{});return this.processSegment(n,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=wp(t,i,s);if(!a)return gs(t);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?QE(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Be(f=>this.processSegment(n,r,t,f.concat(u),o,!1)))}matchSegmentAgainstRoute(n,t,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?hE(i).parameters:{};a=V({snapshot:new Ou(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JE(r),dn(r),r.component??r._loadedComponent??null,r,XE(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=H2(t,r,i,n).pipe(ae(({matched:l,consumedSegments:u,remainingSegments:c,parameters:d})=>l?{snapshot:new Ou(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JE(r),dn(r),r.component??r._loadedComponent??null,r,XE(r)),consumedSegments:u,remainingSegments:c}:null));return a.pipe(gn(l=>null===l?gs(t):this.getChildConfig(n=r._injector??n,r,i).pipe(gn(({routes:u})=>{const c=r._loadedInjector??n,{snapshot:d,consumedSegments:f,remainingSegments:h}=l,{segmentGroup:p,slicedSegments:g}=ZE(t,f,h,u);if(0===g.length&&p.hasChildren())return this.processChildren(c,u,p).pipe(ae(v=>null===v?null:[new Yn(d,v)]));if(0===u.length&&0===g.length)return V([new Yn(d,[])]);const m=dn(r)===s;return this.processSegment(c,u,p,g,m?z:s,!0).pipe(ae(v=>[new Yn(d,v)]))}))))}getChildConfig(n,t,r){return t.children?V({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?V({routes:t._loadedRoutes,injector:t._loadedInjector}):function V2(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?V(!0):V(i.map(o=>{const a=hs(o,e);return Dr(function E2(e){return e&&ra(e.canLoad)}(a)?a.canLoad(n,t):e.runInContext(()=>a(n,t)))})).pipe(ps(),WE())}(n,t,r).pipe(Be(i=>i?this.configLoader.loadChildren(n,t).pipe(Je(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function U2(e){return Bo(BE(!1,3))}())):V({routes:[],injector:n})}}function X2(e){const n=e.value.routeConfig;return n&&""===n.path}function YE(e){const n=[],t=new Set;for(const r of e){if(!X2(r)){n.push(r);continue}const i=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=YE(r.children);n.push(new Yn(r.value,i))}return n.filter(r=>!t.has(r))}function JE(e){return e.data||{}}function XE(e){return e.resolve||{}}function e0(e){return"string"==typeof e.title||null===e.title}function Dp(e){return gn(n=>{const t=e(n);return t?$e(t).pipe(ae(()=>n)):V(n)})}const ms=new M("ROUTES");let bp=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(Pb)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return V(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Dr(t.loadComponent()).pipe(ae(t0),Je(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),ip(()=>{this.componentLoaders.delete(t)})),i=new cE(r,()=>new Et).pipe(np());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return V({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function o$(e,n,t,r){return Dr(e.loadChildren()).pipe(ae(t0),Be(i=>i instanceof jD||Array.isArray(i)?V(i):$e(n.compileModuleAsync(i))),ae(i=>{r&&r(e);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(ms,[],{optional:!0,self:!0}).flat()),{routes:o.map(vp),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(ip(()=>{this.childrenLoaders.delete(r)})),o=new cE(s,()=>new Et).pipe(np());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function t0(e){return function a$(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Lu=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Et,this.transitionAbortSubject=new Et,this.configLoader=I(bp),this.environmentInjector=I(Gt),this.urlSerializer=I(qo),this.rootContexts=I(Jo),this.inputBindingEnabled=null!==I(Ru,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Xj(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Jj(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new ht({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(An(s=>0!==s.id),ae(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),gn(s=>{this.currentTransition=s;let o=!1,a=!1;return V(s).pipe(Je(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),gn(l=>{const u=l.currentBrowserUrl.toString(),c=!t.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const f="";return this.events.next(new cs(l.id,this.urlSerializer.serialize(l.rawUrl),f,0)),l.resolve(null),pn}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return V(l).pipe(gn(f=>{const h=this.transitions?.getValue();return this.events.next(new Tu(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?pn:Promise.resolve(f)}),function e$(e,n,t,r,i,s){return Be(o=>function Z2(e,n,t,r,i,s,o="emptyOnly"){return new Y2(e,n,t,r,i,o,s).recognize()}(e,n,t,r,o.extractedUrl,i,s).pipe(ae(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Je(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new OE(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(c&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:f,extractedUrl:h,source:p,restoredState:g,extras:m}=l,v=new Tu(f,this.urlSerializer.serialize(h),p,g);this.events.next(v);const y=kE(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:y,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},V(s)}{const f="";return this.events.next(new cs(l.id,this.urlSerializer.serialize(l.extractedUrl),f,1)),l.resolve(null),pn}}),Je(l=>{const u=new Kj(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ae(l=>(this.currentTransition=s={...l,guards:_2(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function N2(e,n){return Be(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?V({...t,guardsResult:!0}):function O2(e,n,t,r){return $e(e).pipe(Be(i=>function L2(e,n,t,r,i){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?V(s.map(a=>{const l=ea(n)??i,u=hs(a,l);return Dr(function A2(e){return e&&ra(e.canDeactivate)}(u)?u.canDeactivate(e,n,t,r):l.runInContext(()=>u(e,n,t,r))).pipe(Qr())})).pipe(ps()):V(!0)}(i.component,i.route,t,n,r)),Qr(i=>!0!==i,!0))}(o,r,i,e).pipe(Be(a=>a&&function C2(e){return"boolean"==typeof e}(a)?function R2(e,n,t,r){return $e(n).pipe(Ho(i=>tp(function P2(e,n){return null!==e&&n&&n(new e2(e)),V(!0)}(i.route.parent,r),function x2(e,n){return null!==e&&n&&n(new n2(e)),V(!0)}(i.route,r),function F2(e,n,t){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(o=>function w2(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(o)).filter(o=>null!==o).map(o=>uE(()=>V(o.guards.map(l=>{const u=ea(o.node)??t,c=hs(l,u);return Dr(function I2(e){return e&&ra(e.canActivateChild)}(c)?c.canActivateChild(r,e):u.runInContext(()=>c(r,e))).pipe(Qr())})).pipe(ps())));return V(s).pipe(ps())}(e,i.path,t),function k2(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return V(!0);const i=r.map(s=>uE(()=>{const o=ea(n)??t,a=hs(s,o);return Dr(function S2(e){return e&&ra(e.canActivate)}(a)?a.canActivate(n,e):o.runInContext(()=>a(n,e))).pipe(Qr())}));return V(i).pipe(ps())}(e,i.route,t))),Qr(i=>!0!==i,!0))}(r,s,e,n):V(a)),ae(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Je(l=>{if(s.guardsResult=l.guardsResult,Jr(l.guardsResult))throw UE(0,l.guardsResult);const u=new Qj(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),An(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),Dp(l=>{if(l.guards.canActivateChecks.length)return V(l).pipe(Je(u=>{const c=new Zj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),gn(u=>{let c=!1;return V(u).pipe(function t$(e,n){return Be(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return V(t);let s=0;return $e(i).pipe(Ho(o=>function n$(e,n,t,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!e0(i)&&(s[zo]=i.title),function r$(e,n,t,r){const i=function i$(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return V({});const s={};return $e(i).pipe(Be(o=>function s$(e,n,t,r){const i=ea(n)??r,s=hs(e,i);return Dr(s.resolve?s.resolve(n,t):i.runInContext(()=>s(n,t)))}(e[o],n,t,r).pipe(Qr(),Je(a=>{s[o]=a}))),rp(1),function vj(e){return ae(()=>e)}(s),Zr(o=>qE(o)?pn:Bo(o)))}(s,e,n,r).pipe(ae(o=>(e._resolvedData=o,e.data=FE(e,t).resolve,i&&e0(i)&&(e.data[zo]=i.title),null)))}(o.route,r,e,n)),Je(()=>s++),rp(1),Be(o=>s===i.length?V(t):pn))})}(t.paramsInheritanceStrategy,this.environmentInjector),Je({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(u,"",2)}}))}),Je(u=>{const c=new Yj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}))}),Dp(l=>{const u=c=>{const d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(Je(f=>{c.component=f}),ae(()=>{})));for(const f of c.children)d.push(...u(f));return d};return ep(u(l.targetSnapshot.root)).pipe(bu(),Kr(1))}),Dp(()=>this.afterPreactivation()),ae(l=>{const u=function l2(e,n,t){const r=Xo(e,n._root,t?t._root:void 0);return new PE(r,n)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:u},s}),Je(()=>{this.events.next(new cp)}),((e,n,t,r)=>ae(i=>(new v2(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Kr(1),Je({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new br(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),function _j(e){return Fe((n,t)=>{St(e).subscribe(Re(t,()=>t.complete(),wc)),!t.closed&&n.subscribe(t)})}(this.transitionAbortSubject.pipe(Je(l=>{throw l}))),ip(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Zr(l=>{if(a=!0,HE(l))this.events.next(new Yo(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function d2(e){return HE(e)&&Jr(e.url)}(l)?this.events.next(new dp(l.url)):s.resolve(!1);else{this.events.next(new Nu(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(u){s.reject(u)}}return pn}))}))}cancelNavigationTransition(t,r,i){const s=new Yo(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function n0(e){return e!==Zo}let r0=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===z);return r}getResolvedTitleForRoute(t){return t.data[zo]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:function(){return I(l$)},providedIn:"root"})}return e})(),l$=(()=>{class e extends r0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(T(tE))};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),u$=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:function(){return I(d$)},providedIn:"root"})}return e})();class c${shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let d$=(()=>{class e extends c${static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=We(e)))(i||e)}}();static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Vu=new M("",{providedIn:"root",factory:()=>({})});let f$=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:function(){return I(h$)},providedIn:"root"})}return e})(),h$=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ia=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ia||{});function s0(e,n){e.events.pipe(An(t=>t instanceof br||t instanceof Yo||t instanceof Nu||t instanceof cs),ae(t=>t instanceof br||t instanceof cs?ia.COMPLETE:t instanceof Yo&&(0===t.code||1===t.code)?ia.REDIRECTING:ia.FAILED),An(t=>t!==ia.REDIRECTING),Kr(1)).subscribe(()=>{n()})}function p$(e){throw e}function g$(e,n,t){return n.parse("/")}const m$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},y$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qt=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=I(Rb),this.isNgZoneEnabled=!1,this._events=new Et,this.options=I(Vu,{optional:!0})||{},this.pendingTasks=I(xb),this.errorHandler=this.options.errorHandler||p$,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||g$,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=I(f$),this.routeReuseStrategy=I(u$),this.titleStrategy=I(r0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=I(ms,{optional:!0})?.flat()??[],this.navigationTransitions=I(Lu),this.urlSerializer=I(qo),this.location=I(Ah),this.componentInputBindingEnabled=!!I(Ru,{optional:!0}),this.eventsSubscription=new Oe,this.isNgZoneEnabled=I(le)instanceof le&&le.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new us,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=kE(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(o0(r)&&this._events.next(r));if(r instanceof Tu)n0(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof cs)this.rawUrlTree=i.rawUrl;else if(r instanceof OE){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof cp)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Yo)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof dp){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||n0(i.source)};this.scheduleNavigation(s,Zo,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Nu&&this.restoreHistory(i,!0),r instanceof br&&(this.navigated=!0),o0(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zo,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(vp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}null!==c&&(c=this.removeEmptyProps(c));try{d=EE(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return SE(d,t,c,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Jr(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Zo,null,r)}navigate(t,r={skipLocationChange:!1}){return function v$(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new _(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...m$}:!1===r?{...y$}:r,Jr(t))return gE(this.currentUrlTree,t,i);const s=this.parseUrl(t);return gE(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((d,f)=>{a=d,l=f});const c=this.pendingTasks.add();return s0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function o0(e){return!(e instanceof cp||e instanceof dp)}class a0{}let D$=(()=>{class e{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(An(t=>t instanceof br),Ho(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Kf(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return $e(i).pipe(di())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):V(null);const s=i.pipe(Be(o=>null===o?V(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?$e([s,this.loader.loadComponent(r)]).pipe(di()):s})}static#e=this.\u0275fac=function(r){return new(r||e)(T(Qt),T(Pb),T(Gt),T(a0),T(bp))};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Ep=new M("");let l0=(()=>{class e{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Tu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof br?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof cs&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof RE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new RE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function A_(){throw new Error("invalid")}()};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac})}return e})();function Jn(e,n){return{\u0275kind:e,\u0275providers:n}}function c0(){const e=I(Rt);return n=>{const t=e.get(vr);if(n!==t.components[0])return;const r=e.get(Qt),i=e.get(d0);1===e.get(Sp)&&r.initialNavigation(),e.get(f0,null,G.Optional)?.setUpPreloading(),e.get(Ep,null,G.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const d0=new M("",{factory:()=>new Et}),Sp=new M("",{providedIn:"root",factory:()=>1}),f0=new M("");function S$(e){return Jn(0,[{provide:f0,useExisting:D$},{provide:a0,useExisting:e}])}const h0=new M("ROUTER_FORROOT_GUARD"),A$=[Ah,{provide:qo,useClass:sp},Qt,Jo,{provide:fs,useFactory:function u0(e){return e.routerState.root},deps:[Qt]},bp,[]];function M$(){return new Ub("Router",Qt)}let p0=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[A$,[],{provide:ms,multi:!0,useValue:t},{provide:h0,useFactory:R$,deps:[[Qt,new sl,new ol]]},{provide:Vu,useValue:r||{}},r?.useHash?{provide:Wr,useClass:j1}:{provide:Wr,useClass:yC},{provide:Ep,useFactory:()=>{const e=I(rV),n=I(le),t=I(Vu),r=I(Lu),i=I(qo);return t.scrollOffset&&e.setOffset(t.scrollOffset),new l0(i,r,e,n,t)}},r?.preloadingStrategy?S$(r.preloadingStrategy).\u0275providers:[],{provide:Ub,multi:!0,useFactory:M$},r?.initialNavigation?x$(r):[],r?.bindToComponentInputs?Jn(8,[$E,{provide:Ru,useExisting:$E}]).\u0275providers:[],[{provide:g0,useFactory:c0},{provide:yh,multi:!0,useExisting:g0}]]}}static forChild(t){return{ngModule:e,providers:[{provide:ms,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||e)(T(h0,8))};static#t=this.\u0275mod=Ut({type:e});static#n=this.\u0275inj=At({})}return e})();function R$(e){return"guarded"}function x$(e){return["disabled"===e.initialNavigation?Jn(3,[{provide:uh,multi:!0,useFactory:()=>{const n=I(Qt);return()=>{n.setUpLocationChangeListener()}}},{provide:Sp,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Jn(2,[{provide:Sp,useValue:0},{provide:uh,multi:!0,deps:[Rt],useFactory:n=>{const t=n.get(L1,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(Qt),s=n.get(d0);s0(i,()=>{r(!0)}),n.get(Lu).afterPreactivation=()=>(r(!0),s.closed?V(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const g0=new M(""),k$=[];let F$=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ut({type:e});static#n=this.\u0275inj=At({imports:[p0.forRoot(k$),p0]})}return e})();function m0(e,n,t,r,i,s,o){try{var a=e[s](o),l=a.value}catch(u){return void t(u)}a.done?n(l):Promise.resolve(l).then(r,i)}function w(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var s=e.apply(n,t);function o(l){m0(s,r,i,o,a,"next",l)}function a(l){m0(s,r,i,o,a,"throw",l)}o(void 0)})}}let y0=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||e)(b(Bn),b(Ot))};static#t=this.\u0275dir=L({type:e})}return e})(),Xr=(()=>{class e extends y0{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=We(e)))(i||e)}}();static#t=this.\u0275dir=L({type:e,features:[se]})}return e})();const Nn=new M("NgValueAccessor"),j$={provide:Nn,useExisting:fe(()=>sa),multi:!0},U$=new M("CompositionEventMode");let sa=(()=>{class e extends y0{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $$(){const e=_r()?_r().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||e)(b(Bn),b(Ot),b(U$,8))};static#t=this.\u0275dir=L({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&xe("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[we([j$]),se]})}return e})();function Cr(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function _0(e){return null!=e&&"number"==typeof e.length}const Xe=new M("NgValidators"),Er=new M("NgAsyncValidators"),B$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class w0{static min(n){return function D0(e){return n=>{if(Cr(n.value)||Cr(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(n)}static max(n){return function b0(e){return n=>{if(Cr(n.value)||Cr(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(n)}static required(n){return C0(n)}static requiredTrue(n){return function E0(e){return!0===e.value?null:{required:!0}}(n)}static email(n){return function S0(e){return Cr(e.value)||B$.test(e.value)?null:{email:!0}}(n)}static minLength(n){return I0(n)}static maxLength(n){return function A0(e){return n=>_0(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static pattern(n){return function M0(e){if(!e)return ju;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(Cr(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return P0(n)}static composeAsync(n){return k0(n)}}function C0(e){return Cr(e.value)?{required:!0}:null}function I0(e){return n=>Cr(n.value)||!_0(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}function ju(e){return null}function T0(e){return null!=e}function N0(e){return Eo(e)?$e(e):e}function O0(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function R0(e,n){return n.map(t=>t(e))}function x0(e){return e.map(n=>function H$(e){return!e.validate}(n)?n:t=>n.validate(t))}function P0(e){if(!e)return null;const n=e.filter(T0);return 0==n.length?null:function(t){return O0(R0(t,n))}}function Ip(e){return null!=e?P0(x0(e)):null}function k0(e){if(!e)return null;const n=e.filter(T0);return 0==n.length?null:function(t){return function L$(...e){const n=hm(e),{args:t,keys:r}=sE(e),i=new Ae(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let c=0;c<o;c++){let d=!1;St(t[c]).subscribe(Re(s,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||s.next(r?aE(r,a):a),s.complete())}))}});return n?i.pipe(oE(n)):i}(R0(t,n).map(N0)).pipe(ae(O0))}}function Ap(e){return null!=e?k0(x0(e)):null}function F0(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function L0(e){return e._rawValidators}function V0(e){return e._rawAsyncValidators}function Mp(e){return e?Array.isArray(e)?e:[e]:[]}function $u(e,n){return Array.isArray(e)?e.includes(n):e===n}function j0(e,n){const t=Mp(n);return Mp(e).forEach(i=>{$u(t,i)||t.push(i)}),t}function $0(e,n){return Mp(n).filter(t=>!$u(e,t))}class U0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Ip(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Ap(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class ft extends U0{get formDirective(){return null}get path(){return null}}class Sr extends U0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class B0{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Tp=(()=>{class e extends B0{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||e)(b(Sr,2))};static#t=this.\u0275dir=L({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&ql("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[se]})}return e})(),Np=(()=>{class e extends B0{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||e)(b(ft,10))};static#t=this.\u0275dir=L({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&ql("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[se]})}return e})();const oa="VALID",Bu="INVALID",ys="PENDING",aa="DISABLED";function xp(e){return(Hu(e)?e.validators:e)||null}function Pp(e,n){return(Hu(n)?n.asyncValidators:e)||null}function Hu(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class q0{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===oa}get invalid(){return this.status===Bu}get pending(){return this.status==ys}get disabled(){return this.status===aa}get enabled(){return this.status!==aa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(j0(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(j0(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators($0(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators($0(n,this._rawAsyncValidators))}hasValidator(n){return $u(this._rawValidators,n)}hasAsyncValidator(n){return $u(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=ys,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=aa,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=oa,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oa||this.status===ys)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?aa:oa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=ys,this._hasOwnPendingAsyncValidator=!0;const t=N0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Se,this.statusChanges=new Se}_calculateStatus(){return this._allControlsDisabled()?aa:this.errors?Bu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ys)?ys:this._anyControlsHaveStatus(Bu)?Bu:oa}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Hu(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function W$(e){return Array.isArray(e)?Ip(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function K$(e){return Array.isArray(e)?Ap(e):e||null}(this._rawAsyncValidators)}}class ei extends q0{constructor(n,t,r){super(xp(t),Pp(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){(function G0(e,n,t){e._forEachChild((r,i)=>{if(void 0===t[i])throw new _(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function z0(e,n,t){const r=e.controls;if(!(n?Object.keys(r):r).length)throw new _(1e3,"");if(!r[t])throw new _(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const ti=new M("CallSetDisabledState",{providedIn:"root",factory:()=>la}),la="always";function ua(e,n,t=la){kp(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function Y$(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&W0(e,n)})}(e,n),function X$(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function J$(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&W0(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function Z$(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function Gu(e,n,t=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Wu(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function qu(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function kp(e,n){const t=L0(e);null!==n.validator?e.setValidators(F0(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=V0(e);null!==n.asyncValidator?e.setAsyncValidators(F0(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();qu(n._rawValidators,i),qu(n._rawAsyncValidators,i)}function Wu(e,n){let t=!1;if(null!==e){if(null!==n.validator){const i=L0(e);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==n.validator);s.length!==i.length&&(t=!0,e.setValidators(s))}}if(null!==n.asyncValidator){const i=V0(e);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==n.asyncValidator);s.length!==i.length&&(t=!0,e.setAsyncValidators(s))}}}const r=()=>{};return qu(n._rawValidators,r),qu(n._rawAsyncValidators,r),t}function W0(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Z0(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function Y0(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Xn=class extends q0{constructor(n=null,t,r){super(xp(t),Pp(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Y0(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Z0(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Z0(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){Y0(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let $p=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=L({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})(),rS=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ut({type:e});static#n=this.\u0275inj=At({})}return e})();const Up=new M("NgModelWithFormControlWarning"),hU={provide:ft,useExisting:fe(()=>da)};let da=(()=>{class e extends ft{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Se,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ua(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Gu(t.control||null,t,!1),function rU(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Q0(e,n){e._syncPendingControls(),n.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Gu(r||null,t),(e=>e instanceof Xn)(i)&&(ua(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function K0(e,n){kp(e,n)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function eU(e,n){return Wu(e,n)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kp(this.form,this),this._oldForm&&Wu(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||e)(b(Xe,10),b(Er,10),b(ti,8))};static#t=this.\u0275dir=L({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&xe("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[we([hU]),se,Ht]})}return e})();const mU={provide:Sr,useExisting:fe(()=>Ku)};let Ku=(()=>{class e extends Sr{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Se,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Vp(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(s=>{s.constructor===sa?t=s:function nU(e){return Object.getPrototypeOf(e.constructor)===Xr}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function Lp(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function zu(e,n){return[...n.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||e)(b(ft,13),b(Xe,10),b(Er,10),b(Nn,10),b(Up,8))};static#n=this.\u0275dir=L({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[we([mU]),se,Ht]})}return e})();let ni=(()=>{class e{constructor(){this._validator=ju}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ju,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=L({type:e,features:[Ht]})}return e})();const SU={provide:Xe,useExisting:fe(()=>fa),multi:!0};let fa=(()=>{class e extends ni{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=os,this.createValidator=t=>C0}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=We(e)))(i||e)}}();static#t=this.\u0275dir=L({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&En("required",i._enabled?"":null)},inputs:{required:"required"},features:[we([SU]),se]})}return e})();const MU={provide:Xe,useExisting:fe(()=>qp),multi:!0};let qp=(()=>{class e extends ni{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function cS(e){return"number"==typeof e?e:parseInt(e,10)}(t),this.createValidator=t=>I0(t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=We(e)))(i||e)}}();static#t=this.\u0275dir=L({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&En("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[we([MU]),se]})}return e})(),vS=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ut({type:e});static#n=this.\u0275inj=At({imports:[rS]})}return e})(),_S=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ti,useValue:t.callSetDisabledState??la}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ut({type:e});static#n=this.\u0275inj=At({imports:[vS]})}return e})(),wS=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Up,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ti,useValue:t.callSetDisabledState??la}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ut({type:e});static#n=this.\u0275inj=At({imports:[vS]})}return e})();const Ir=new ht(!1),xU=Ir.asObservable().pipe(An(e=>!e),Kr(1)),vs={};new class PU{registerPreStoreUpdate(n){vs.preStoreUpdate=n}registerPreStateInit(n){vs.preStateInit=n}};const ha=new Map,Qp=new Et,kU=Qp.asObservable();function VU(e){return ha.get(e)}function DS(){const e={};return ha.forEach((n,t)=>{e[t]=n.getValue()}),e}class $U extends ht{constructor(n){super(n.state),this.storeDef=n,this.initialState=void 0,this.state=void 0,this.batchInProgress=!1,this.context={config:this.getConfig()},this.state=this.getInitialState(n.state),this.initialState=this.getValue(),function FU(e){ha.set(e.name,e),Qp.next({type:"add",store:e})}(this)}get name(){return this.storeDef.name}getInitialState(n){return vs.preStateInit?vs.preStateInit(n,this.name):n}getConfig(){return this.storeDef.config}query(n){return n(this.getValue())}update(...n){const t=this.getValue();let r=n.reduce((i,s)=>s(i,this.context),t);vs.preStoreUpdate&&(r=vs.preStoreUpdate(t,r,this.name)),r!==t&&(this.state=r,Ir.getValue()?this.batchInProgress||(this.batchInProgress=!0,xU.subscribe(()=>{super.next(this.state),this.batchInProgress=!1})):super.next(this.state))}getValue(){return this.state}reset(){this.update(()=>this.initialState)}combine(n){let t=!0;const r={};return new Ae(i=>{for(const[s,o]of Object.entries(n))i.add(o.subscribe(a=>{r[s]=a,t=!0}));return this.subscribe({next(){t&&(i.next({...r}),t=!1)},error(s){i.error(s)},complete(){i.complete()}})})}destroy(){(function LU(e){ha.delete(e.name),Qp.next({type:"remove",store:e})})(this),this.reset()}next(n){this.update(()=>n)}error(){}complete(){}}function Zp(e){return Array.isArray(e)?e:[e]}function Qu(e){return"function"==typeof e}function _s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function BU(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}function bS(e,{initialValue:n,config:t}){let r=n;const i=_s(e);return{[`with${i}`]:(s=r)=>({props:{[e]:s},config:t}),[`set${i}InitialValue`](s){r=s},[`set${i}`]:s=>function(o){const a=Qu(s)?s(o):s;return a===o[e]?o:{...o,[e]:a}},[`update${i}`]:s=>function(o){const a=Qu(s)?s(o):s;return a===o[e]?o:{...o,[e]:BU(a)?{...o[e],...a}:a}},[`reset${i}`]:()=>function(s){return{...s,[e]:r}},[`select${i}`]:()=>function zU(e){return Kg(ae(e),vm())}(s=>s[e]),[`get${i}`]:s=>s[e]}}function qU(e,n){return[...e,...Zp(n)]}function WU(e,n){const t=Zp(n);return e.filter(r=>!t.includes(r))}function KU(e,n){const t=Zp(n),r=[...e];return t.forEach(i=>{const s=r.indexOf(i);s>-1?r.splice(s,1):r.push(i)}),r}function ZU(e,n,t){return e.map(r=>r===n?t:r)}class JU{constructor(n){this.idKeyRef="idKey",this.entitiesKey=n.entitiesKey,this.idsKey=n.idsKey,this.idKeyRef=n.idKeyRef}}function ES(e){const n=e?`idKey${_s(e)}`:"idKey",t=new JU({entitiesKey:e?`${e}Entities`:"entities",idsKey:e?`${e}Ids`:"ids",idKeyRef:n});return{[`${e}EntitiesRef`]:t,[`with${_s(e)}Entities`]:function r(i){let s={},o=[];const a=i?.idKey||"id";return i?.initialValue&&({ids:o,asObject:s}=function Zu(e,n){const t={},r=[];for(const i of e){const s=i[n];r.push(s),t[s]=i}return{ids:r,asObject:t}}(i.initialValue,a)),{props:{[t.entitiesKey]:s,[t.idsKey]:o},config:{[n]:a}}}}}const{withEntities:XU}=ES("");ES("UI");bS("activeId",{initialValue:void 0}),function GU(e,n){const t=_s(e);bS(e,n)}("activeIds",{initialValue:[]});class MS{}class dB{}const er="*";function fB(e,n){return{type:7,name:e,definitions:n,options:{}}}function TS(e,n=null){return{type:4,styles:n,timings:e}}function NS(e,n=null){return{type:2,steps:e,options:n}}function ws(e){return{type:6,styles:e,offset:null}}function OS(e,n,t=null){return{type:1,expr:e,animation:n,options:t}}class ma{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class RS{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class tg extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}}class pB extends tg{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class gB extends tg{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class mB extends tg{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}class vB{constructor(n,{headers:t={},customFetch:r}={}){this.url=n,this.headers=t,this.fetch=(e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(Ce.t.bind(Ce,916,23)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)})(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=t;let l,a={};o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):"string"==typeof o?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${n}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:l}).catch(h=>{throw new pB(h)}),c=u.headers.get("x-relay-error");if(c&&"true"===c)throw new gB(u);if(!u.ok)throw new mB(u);let f,d=(null!==(r=u.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return f="application/json"===d?yield u.json():"application/octet-stream"===d?yield u.blob():"multipart/form-data"===d?yield u.formData():yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var xS=Ce(916),PS=Ce.n(xS);class _B{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,this.fetch=n.fetch?n.fetch:typeof fetch>"u"?PS():fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(n,t){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var o=w(function*(a){var l,u,c;let d=null,f=null,h=null,p=a.status,g=a.statusText;if(a.ok){if("HEAD"!==r.method){const C=yield a.text();""===C||(f="text/csv"===r.headers.Accept||r.headers.Accept&&r.headers.Accept.includes("application/vnd.pgrst.plan+text")?C:JSON.parse(C))}const v=null===(l=r.headers.Prefer)||void 0===l?void 0:l.match(/count=(exact|planned|estimated)/),y=null===(u=a.headers.get("content-range"))||void 0===u?void 0:u.split("/");v&&y&&y.length>1&&(h=parseInt(y[1])),r.isMaybeSingle&&"GET"===r.method&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,g="Not Acceptable"):f=1===f.length?f[0]:null)}else{const v=yield a.text();try{d=JSON.parse(v),Array.isArray(d)&&404===a.status&&(f=[],d=null,p=200,g="OK")}catch{404===a.status&&""===v?(p=204,g="No Content"):d={message:v}}if(d&&r.isMaybeSingle&&!(null===(c=d?.details)||void 0===c)&&c.includes("Results contain 0 rows")&&(d=null,p=200,g="OK"),d&&r.shouldThrowOnError)throw d}return{error:d,data:f,count:h,status:p,statusText:g}});return function(a){return o.apply(this,arguments)}}());return this.shouldThrowOnError||(s=s.catch(o=>{var a,l,u;return{error:{message:`${null!==(a=o?.name)&&void 0!==a?a:"FetchError"}: ${o?.message}`,details:`${null!==(l=o?.stack)&&void 0!==l?l:""}`,hint:"",code:`${null!==(u=o?.code)&&void 0!==u?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(n,t)}}class wB extends _B{select(n){let t=!1;const r=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":('"'===i&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:i}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${n}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t}={}){return this.url.searchParams.set(typeof t>"u"?"limit":`${t}.limit`,`${n}`),this}range(n,t,{foreignTable:r}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(typeof r>"u"?"offset":`${r}.offset`,`${n}`),this.url.searchParams.set(s,""+(t-n+1)),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="GET"===this.method?"application/json":"application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){const a=[n?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|");return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${this.headers.Accept}"; options=${a};`,this}rollback(){var n;return(null!==(n=this.headers.Prefer)&&void 0!==n?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Ds extends wB{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){const r=t.map(i=>"string"==typeof i&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return"string"==typeof t?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return"string"==typeof t?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return this.url.searchParams.append(n,"string"==typeof t?`ov.${t}`:`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:i}={}){let s="";return"plain"===i?s="pl":"phrase"===i?s="ph":"websearch"===i&&(s="w"),this.url.searchParams.append(n,`${s}fts${void 0===r?"":`(${r})`}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t}={}){return this.url.searchParams.append(t?`${t}.or`:"or",`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}}class DB{constructor(n,{headers:t={},schema:r,fetch:i}){this.url=n,this.headers=t,this.schema=r,this.fetch=i}select(n,{head:t=!1,count:r}={}){const i=t?"HEAD":"GET";let s=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!s?"":('"'===a&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Ds({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:r=!0}={}){const s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(n)){const o=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ds({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){const l=n.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ds({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){const i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new Ds({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ds({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const bB={"X-Client-Info":"postgrest-js/1.8.4"};class ng{constructor(n,{headers:t={},schema:r,fetch:i}={}){this.url=n,this.headers=Object.assign(Object.assign({},bB),t),this.schemaName=r,this.fetch=i}from(n){const t=new URL(`${this.url}/${n}`);return new DB(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new ng(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${n}`);let a;r?(s="HEAD",Object.entries(t).forEach(([u,c])=>{o.searchParams.append(u,`${c}`)})):(s="POST",a=t);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new Ds({method:s,url:o,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}var CB=Ce(276);const EB={"X-Client-Info":"realtime-js/2.8.0"};var Ju=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Ju||{}),Zt=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(Zt||{}),On=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(On||{}),FS=function(e){return e.websocket="websocket",e}(FS||{}),bs=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(bs||{});class LS{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class AB{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t("string"==typeof n?JSON.parse(n):{})}_binaryDecode(n){const t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){const i=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(n.slice(o,o+i));o+=i;const l=r.decode(n.slice(o,o+s));return o+=s,{ref:null,topic:a,event:l,payload:JSON.parse(r.decode(n.slice(o,n.byteLength)))}}}class rg{constructor(n,t,r={},i=1e4){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,"rate limited"===this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})&&(this.rateLimited=!0))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}class ya{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ya.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=ya.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ya.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){const s=this.cloneDeep(n),o=this.transformState(t),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const f=c.map(m=>m.presence_ref),h=d.map(m=>m.presence_ref),p=c.filter(m=>h.indexOf(m.presence_ref)<0),g=d.filter(m=>f.indexOf(m.presence_ref)<0);p.length>0&&(a[u]=p),g.length>0&&(l[u]=g)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(n,t,r,i){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=null!==(u=n[a])&&void 0!==u?u:[];if(n[a]=this.cloneDeep(l),c.length>0){const d=n[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);n[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=n[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),n[a]=u,i(a,u,l),0===u.length&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{const i=n[r];return t[r]="metas"in i?i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ye=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(ye||{});const VS=(e,n,t={})=>{var r;const i=null!==(r=t.skipTypes)&&void 0!==r?r:[];return Object.keys(n).reduce((s,o)=>(s[o]=TB(o,e,n,i),s),{})},TB=(e,n,t,r)=>{const i=n.find(a=>a.name===e),s=i?.type,o=t[e];return s&&!r.includes(s)?jS(s,o):ig(o)},jS=(e,n)=>{if("_"===e.charAt(0)){const t=e.slice(1,e.length);return xB(n,t)}switch(e){case ye.bool:return NB(n);case ye.float4:case ye.float8:case ye.int2:case ye.int4:case ye.int8:case ye.numeric:case ye.oid:return OB(n);case ye.json:case ye.jsonb:return RB(n);case ye.timestamp:return PB(n);default:return ig(n)}},ig=e=>e,NB=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},OB=e=>{if("string"==typeof e){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},RB=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},xB=(e,n)=>{if("string"!=typeof e)return e;const t=e.length-1;if("{"===e[0]&&"}"===e[t]){let s;const o=e.slice(1,t);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>jS(n,a))}return e},PB=e=>"string"==typeof e?e.replace(" ","T"):e;class sg{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=Zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new rg(this,On.join,this.params,this.timeout),this.rejoinTimer=new LS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(On.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new ya(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(n,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o}}=this.params;this._onError(u=>n&&n("CHANNEL_ERROR",u)),this._onClose(()=>n&&n("CLOSED"));const a={},l={broadcast:s,presence:o,postgres_changes:null!==(i=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(u=>u.filter))&&void 0!==i?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:u})=>{var c;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==u){const d=this.bindings.postgres_changes,f=null!==(c=d?.length)&&void 0!==c?c:0,h=[];for(let p=0;p<f;p++){const g=d[p],{filter:{event:m,schema:v,table:y,filter:C}}=g,E=u&&u[p];if(!E||E.event!==m||E.schema!==v||E.table!==y||E.filter!==C)return this.unsubscribe(),void(n&&n("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));h.push(Object.assign(Object.assign({},g),{id:E.id}))}return this.bindings.postgres_changes=h,void(n&&n("SUBSCRIBED"))}n&&n("SUBSCRIBED")}).receive("error",u=>{n&&n("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n&&n("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(n,t={}){var r=this;return w(function*(){return yield r.send({type:"presence",event:"track",payload:n},t.timeout||r.timeout)})()}untrack(n={}){var t=this;return w(function*(){return yield t.send({type:"presence",event:"untrack"},n)})()}on(n,t,r){return this._on(n,t,r)}send(n,t={}){var r=this;return w(function*(){var i,s;if(r._canPush()||"broadcast"!==n.type)return new Promise(o=>{var a,l,u;const c=r._push(n.type,n,t.timeout||r.timeout);c.rateLimited&&o("rate limited"),"broadcast"===n.type&&!(null!==(u=null===(l=null===(a=r.params)||void 0===a?void 0:a.config)||void 0===l?void 0:l.broadcast)&&void 0!==u&&u.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("timeout",()=>o("timed out"))});{const{event:o,payload:a}=n,l={method:"POST",headers:{apikey:null!==(i=r.socket.accessToken)&&void 0!==i?i:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:r.subTopic,event:o,payload:a}]})};try{return(yield r._fetchWithTimeout(r.broadcastEndpointURL,l,null!==(s=t.timeout)&&void 0!==s?s:r.timeout)).ok?"ok":"error"}catch(u){return"AbortError"===u.name?"timed out":"error"}}})()}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Zt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(On.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new rg(this,On.leave,{},n);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_broadcastEndpointURL(){let n=this.socket.endPoint;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"}_fetchWithTimeout(n,t,r){var i=this;return w(function*(){const s=new AbortController,o=setTimeout(()=>s.abort(),r),a=yield i.socket.fetch(n,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(o),a})()}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new rg(this,n,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,s;const o=n.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=On;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,t,r);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter(h=>{var p,g,m;return"*"===(null===(p=h.filter)||void 0===p?void 0:p.event)||(null===(m=null===(g=h.filter)||void 0===g?void 0:g.event)||void 0===m?void 0:m.toLocaleLowerCase())===o}).map(h=>h.callback(f,r)):null===(s=this.bindings[o])||void 0===s||s.filter(h=>{var p,g,m,v,y,C;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in h){const E=h.id,R=null===(p=h.filter)||void 0===p?void 0:p.event;return E&&(null===(g=t.ids)||void 0===g?void 0:g.includes(E))&&("*"===R||R?.toLocaleLowerCase()===(null===(m=t.data)||void 0===m?void 0:m.type.toLocaleLowerCase()))}{const E=null===(y=null===(v=h?.filter)||void 0===v?void 0:v.event)||void 0===y?void 0:y.toLocaleLowerCase();return"*"===E||E===(null===(C=t?.event)||void 0===C?void 0:C.toLocaleLowerCase())}}return h.type.toLocaleLowerCase()===o}).map(h=>{if("object"==typeof f&&"ids"in f){const p=f.data,{schema:g,table:m,commit_timestamp:v,type:y,errors:C}=p;f=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:v,eventType:y,new:{},old:{},errors:C}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===Zt.closed}_isJoined(){return this.state===Zt.joined}_isJoining(){return this.state===Zt.joining}_isLeaving(){return this.state===Zt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){const i=n.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(n,t){const r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!((null===(s=i.type)||void 0===s?void 0:s.toLocaleLowerCase())===r&&sg.isEqual(i.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(On.close,{},n)}_onError(n){this._on(On.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const t={new:{},old:{}};return("INSERT"===n.type||"UPDATE"===n.type)&&(t.new=VS(n.columns,n.record)),("UPDATE"===n.type||"DELETE"===n.type)&&(t.old=VS(n.columns,n.old_record)),t}}const VB=()=>{};class jB{constructor(n,t){var i,s,r=this;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=EB,this.params={},this.timeout=1e4,this.transport=CB.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=VB,this.conn=null,this.sendBuffer=[],this.serializer=new AB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this._resolveFetch=l=>{let u;return u=l||(typeof fetch>"u"?(...c)=>Promise.resolve().then(Ce.t.bind(Ce,916,23)).then(({default:d})=>d(...c)):fetch),(...c)=>u(...c)},this.endPoint=`${n}/${FS.websocket}`,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.transport&&(this.transport=t.transport),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const o=null===(i=t?.params)||void 0===i?void 0:i.eventsPerSecond;o&&(this.eventsPerSecondLimitMs=Math.floor(1e3/o));const a=null===(s=t?.params)||void 0===s?void 0:s.apikey;a&&(this.accessToken=a),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=t?.encode?t.encode:(l,u)=>u(JSON.stringify(l)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new LS(w(function*(){r.disconnect(),r.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n)))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(n){var t=this;return w(function*(){const r=yield n.unsubscribe();return 0===t.channels.length&&t.disconnect(),r})()}removeAllChannels(){var n=this;return w(function*(){const t=yield Promise.all(n.channels.map(r=>r.unsubscribe()));return n.disconnect(),t})()}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ju.connecting:return bs.Connecting;case Ju.open:return bs.Open;case Ju.closing:return bs.Closing;default:return bs.Closed}}isConnected(){return this.connectionState()===bs.Open}channel(n,t={config:{}}){const r=new sg(`realtime:${n}`,t,this);return this.channels.push(r),r}push(n){const{topic:t,event:r,payload:i,ref:s}=n;let o=()=>{this.encode(n,a=>{var l;null===(l=this.conn)||void 0===l||l.send(a)})};if(this.log("push",`${t} ${r} (${s})`,i),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(r)){if(this._throttle(o)())return"rate limited"}else o();else this.sendBuffer.push(o)}setAuth(n){this.accessToken=n,this.channels.forEach(t=>{n&&t.updateJoinPayload({access_token:n}),t.joinedOnce&&t._isJoined()&&t._push(On.access_token,{access_token:n})})}_makeRef(){let n=this.ref+1;return this.ref=n===this.ref?0:n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t._joinRef()!==n._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:i,payload:s,ref:o}=t;(o&&o===this.pendingHeartbeatRef||i===s?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(On.error))}_appendParams(n,t){if(0===Object.keys(t).length)return n;const r=n.match(/\?/)?"&":"?";return`${n}${r}${new URLSearchParams(t)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(n=this.conn)||void 0===n||n.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(n,t=this.eventsPerSecondLimitMs){return()=>!!this.inThrottle||(n(),t>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},t)),!1)}}class og extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function et(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class $B extends og{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class $S extends og{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}}const US=e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(Ce.t.bind(Ce,916,23)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)};var Cs=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})};const ag=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HB=(e,n)=>Cs(void 0,void 0,void 0,function*(){const t=yield function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(Ce.t.bind(Ce,916,23))).Response:Response});e instanceof t?e.json().then(r=>{n(new $B(ag(r),e.status||500))}).catch(r=>{n(new $S(ag(r),r))}):n(new $S(ag(e),e))}),zB=(e,n,t,r)=>{const i={method:e,headers:n?.headers||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function Xu(e,n,t,r,i,s){return Cs(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(t,zB(n,r,i,s)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>HB(l,a))})})}function lg(e,n,t,r){return Cs(this,void 0,void 0,function*(){return Xu(e,"GET",n,t,r)})}function Ar(e,n,t,r,i){return Cs(this,void 0,void 0,function*(){return Xu(e,"POST",n,r,i,t)})}function GB(e,n,t,r,i){return Cs(this,void 0,void 0,function*(){return Xu(e,"PUT",n,r,i,t)})}function BS(e,n,t,r,i){return Cs(this,void 0,void 0,function*(){return Xu(e,"DELETE",n,r,i,t)})}var Yt=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})};const qB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class WB{constructor(n,t={},r,i){this.url=n,this.headers=t,this.bucketId=r,this.fetch=US(i)}uploadOrUpdate(n,t,r,i){return Yt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},HS),i),a=Object.assign(Object.assign({},this.headers),"POST"===n&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl)):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:s,headers:a},o?.duplex?{duplex:o.duplex}:{}));return c.ok?{data:{path:l},error:null}:{data:null,error:yield c.json()}}catch(s){if(et(s))return{data:null,error:s};throw s}})}upload(n,t,r){return Yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,i){return Yt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(n),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const u=Object.assign({upsert:HS.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c});return d.ok?{data:{path:s},error:null}:{data:null,error:yield d.json()}}catch(l){if(et(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n){return Yt(this,void 0,void 0,function*(){try{let t=this._getFinalPath(n);const r=yield Ar(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),i=new URL(this.url+r.url),s=i.searchParams.get("token");if(!s)throw new og("No token returned by API");return{data:{signedUrl:i.toString(),path:n,token:s},error:null}}catch(t){if(et(t))return{data:null,error:t};throw t}})}update(n,t,r){return Yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t){return Yt(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}copy(n,t){return Yt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}createSignedUrl(n,t,r){return Yt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),s=yield Ar(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${!0===r.download?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return Yt(this,void 0,void 0,function*(){try{const i=yield Ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),s=r?.download?`&download=${!0===r.download?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}download(n,t){return Yt(this,void 0,void 0,function*(){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(n);return{data:yield(yield lg(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(et(a))return{data:null,error:a};throw a}})}getPublicUrl(n,t){const r=this._getFinalPath(n),i=[],s=t?.download?`download=${!0===t.download?"":t.download}`:"";""!==s&&i.push(s);const a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});""!==l&&i.push(l);let u=i.join("&");return""!==u&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(n){return Yt(this,void 0,void 0,function*(){try{return{data:yield BS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(et(t))return{data:null,error:t};throw t}})}list(n,t,r){return Yt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},qB),t),{prefix:n||""});return{data:yield Ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}}const KB={"X-Client-Info":"storage-js/2.5.4"};var Es=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})};class QB{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},KB),t),this.fetch=US(r)}listBuckets(){return Es(this,void 0,void 0,function*(){try{return{data:yield lg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}getBucket(n){return Es(this,void 0,void 0,function*(){try{return{data:yield lg(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(et(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return Es(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return Es(this,void 0,void 0,function*(){try{return{data:yield GB(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}emptyBucket(n){return Es(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(et(t))return{data:null,error:t};throw t}})}deleteBucket(n){return Es(this,void 0,void 0,function*(){try{return{data:yield BS(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(et(t))return{data:null,error:t};throw t}})}}class ZB extends QB{constructor(n,t={},r){super(n,t,r)}from(n){return new WB(this.url,this.headers,n,this.fetch)}}let va="";va=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const JB={"X-Client-Info":`supabase-js-${va}/2.38.0`};const nH=(e,n,t)=>{const r=(e=>{let n;return n=e||(typeof fetch>"u"?PS():fetch),(...t)=>n(...t)})(t),i=typeof Headers>"u"?xS.Headers:Headers;return(s,o)=>function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(void 0,void 0,void 0,function*(){var a;const l=null!==(a=yield n())&&void 0!==a?a:e;let u=new i(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})},tr=()=>typeof document<"u",ri={tested:!1,writable:!1},_a=()=>{if(!tr())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(ri.tested)return ri.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ri.tested=!0,ri.writable=!0}catch{ri.tested=!0,ri.writable=!1}return ri.writable};function ug(e){const n={},t=new URL(e);if(t.hash&&"#"===t.hash[0])try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{n[s]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}const zS=e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(Ce.t.bind(Ce,916,23)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)},aH=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,Ss=function(){var e=w(function*(n,t,r){yield n.setItem(t,JSON.stringify(r))});return function(t,r,i){return e.apply(this,arguments)}}(),ec=function(){var e=w(function*(n,t){const r=yield n.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}});return function(t,r){return e.apply(this,arguments)}}(),cg=function(){var e=w(function*(n,t){yield n.removeItem(t)});return function(t,r){return e.apply(this,arguments)}}();class tc{constructor(){this.promise=new tc.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}}function GS(e){const t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function lH(e){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r,i,s,o,a,l,u,t="",c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=n.indexOf(e.charAt(c++)),a=n.indexOf(e.charAt(c++)),l=n.indexOf(e.charAt(c++)),u=n.indexOf(e.charAt(c++)),r=o<<2|a>>4,i=(15&a)<<4|l>>2,s=(3&l)<<6|u,t+=String.fromCharCode(r),64!=l&&0!=i&&(t+=String.fromCharCode(i)),64!=u&&0!=s&&(t+=String.fromCharCode(s));return t}(t[1]))}function dg(){return(dg=w(function*(e){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})).apply(this,arguments)}function dH(e){return("0"+e.toString(16)).substr(-2)}function wa(){const n=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,dH).join("")}function fg(){return(fg=w(function*(e){const t=(new TextEncoder).encode(e),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")})).apply(this,arguments)}function Da(e){return hg.apply(this,arguments)}function hg(){return hg=w(function*(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=yield function fH(e){return fg.apply(this,arguments)}(e);return function hH(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(n)}),hg.apply(this,arguments)}tc.promiseConstructor=Promise;class pg extends Error{constructor(n,t){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function Z(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class pH extends pg{constructor(n,t){super(n,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class qS extends pg{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}}class Is extends pg{constructor(n,t,r){super(n),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class As extends Is{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class gg extends Is{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class nc extends Is{constructor(n){super(n,"AuthInvalidCredentialsError",400)}}class rc extends Is{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class WS extends Is{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mg extends Is{constructor(n,t){super(n,"AuthRetryableFetchError",t)}}function KS(e){return Z(e)&&"AuthRetryableFetchError"===e.name}const ba=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yH=[502,503,504];function QS(e){return yg.apply(this,arguments)}function yg(){return(yg=w(function*(e){if(!aH(e))throw new mg(ba(e),0);if(yH.includes(e.status))throw new mg(ba(e),e.status);let n;try{n=yield e.json()}catch(t){throw new qS(ba(t),t)}throw new pH(ba(n),e.status||500)})).apply(this,arguments)}const vH=(e,n,t,r)=>{const i={method:e,headers:n?.headers||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function X(e,n,t,r){return vg.apply(this,arguments)}function vg(){return vg=w(function*(e,n,t,r){var i;const s=Object.assign({},r?.headers);r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=null!==(i=r?.query)&&void 0!==i?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=yield function _H(e,n,t,r,i,s){return _g.apply(this,arguments)}(e,n,t+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}),vg.apply(this,arguments)}function _g(){return(_g=w(function*(e,n,t,r,i,s){const o=vH(n,r,i,s);let a;try{a=yield e(t,o)}catch(l){throw console.error(l),new mg(ba(l),0)}if(a.ok||(yield QS(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield QS(l)}})).apply(this,arguments)}function Mr(e){var n;let t=null;return function CH(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=function sH(e){return Math.round(Date.now()/1e3)+e}(e.expires_in))),{data:{session:t,user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function Tr(e){var n;return{data:{user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function wH(e){return{data:e,error:null}}function DH(e){const{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s}=e,o=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s},user:Object.assign({},o)},error:null}}function bH(e){return e}class SH{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=zS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n,t="global"){var r=this;return w(function*(){try{return yield X(r.fetch,"POST",`${r.url}/logout?scope=${t}`,{headers:r.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}})()}inviteUserByEmail(n,t={}){var r=this;return w(function*(){try{return yield X(r.fetch,"POST",`${r.url}/invite`,{body:{email:n,data:t.data},headers:r.headers,redirectTo:t.redirectTo,xform:Tr})}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}})()}generateLink(n){var t=this;return w(function*(){try{const{options:r}=n,i=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(n,["options"]),s=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),yield X(t.fetch,"POST",`${t.url}/admin/generate_link`,{body:s,headers:t.headers,xform:DH,redirectTo:r?.redirectTo})}catch(r){if(Z(r))return{data:{properties:null,user:null},error:r};throw r}})()}createUser(n){var t=this;return w(function*(){try{return yield X(t.fetch,"POST",`${t.url}/admin/users`,{body:n,headers:t.headers,xform:Tr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}})()}listUsers(n){var t=this;return w(function*(){var r,i,s,o,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=yield X(t.fetch,"GET",`${t.url}/admin/users`,{headers:t.headers,noResolveJson:!0,query:{page:null!==(i=null===(r=n?.page)||void 0===r?void 0:r.toString())&&void 0!==i?i:"",per_page:null!==(o=null===(s=n?.perPage)||void 0===s?void 0:s.toString())&&void 0!==o?o:""},xform:bH});if(d.error)throw d.error;const f=yield d.json(),h=null!==(a=d.headers.get("x-total-count"))&&void 0!==a?a:0,p=null!==(u=null===(l=d.headers.get("link"))||void 0===l?void 0:l.split(","))&&void 0!==u?u:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Z(c))return{data:{users:[]},error:c};throw c}})()}getUserById(n){var t=this;return w(function*(){try{return yield X(t.fetch,"GET",`${t.url}/admin/users/${n}`,{headers:t.headers,xform:Tr})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}})()}updateUserById(n,t){var r=this;return w(function*(){try{return yield X(r.fetch,"PUT",`${r.url}/admin/users/${n}`,{body:t,headers:r.headers,xform:Tr})}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}})()}deleteUser(n,t=!1){var r=this;return w(function*(){try{return yield X(r.fetch,"DELETE",`${r.url}/admin/users/${n}`,{headers:r.headers,body:{should_soft_delete:t},xform:Tr})}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}})()}_listFactors(n){var t=this;return w(function*(){try{const{data:r,error:i}=yield X(t.fetch,"GET",`${t.url}/admin/users/${n.userId}/factors`,{headers:t.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:i}}catch(r){if(Z(r))return{data:null,error:r};throw r}})()}_deleteFactor(n){var t=this;return w(function*(){try{return{data:yield X(t.fetch,"DELETE",`${t.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:t.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})()}}const TH={getItem:e=>_a()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{_a()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{_a()&&globalThis.localStorage.removeItem(e)}};function JS(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}globalThis&&_a()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class OH extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}!function NH(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const xH={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.54.2"},flowType:"implicit",debug:!1},Ca=3e4;function PH(e,n,t){return Dg.apply(this,arguments)}function Dg(){return(Dg=w(function*(e,n,t){return yield t()})).apply(this,arguments)}let kH=(()=>{class e{constructor(t){var i,r=this;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&tr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},xH),t);if(this.logDebugMessages=!!s.debug,"function"==typeof s.debug&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new SH({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=zS(s.fetch),this.lock=s.lock||PH,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:_a()?this.storage=TH:(this.memoryStorage={},this.storage=JS(this.memoryStorage)):(this.memoryStorage={},this.storage=JS(this.memoryStorage)),tr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}null===(i=this.broadcastChannel)||void 0===i||i.addEventListener("message",function(){var o=w(function*(a){r._debug("received broadcast notification from other tab or client",a),yield r._notifyAllSubscribers(a.data.event,a.data.session,!1)});return function(a){return o.apply(this,arguments)}}())}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.54.2) ${(new Date).toISOString()}`,...t),this}initialize(){var t=this;return w(function*(){return t.initializePromise||(t.initializePromise=w(function*(){return yield t._acquireLock(-1,w(function*(){return yield t._initialize()}))})()),yield t.initializePromise})()}_initialize(){var t=this;return w(function*(){try{const r=!!tr()&&(yield t._isPKCEFlow());if(t._debug("#_initialize()","begin","is PKCE flow",r),r||t.detectSessionInUrl&&t._isImplicitGrantFlow()){const{data:i,error:s}=yield t._getSessionFromURL(r);if(s)return t._debug("#_initialize()","error detecting session from URL",s),yield t._removeSession(),{error:s};const{session:o,redirectType:a}=i;return t._debug("#_initialize()","detected session in URL",o,"redirect type",a),yield t._saveSession(o),setTimeout(w(function*(){"recovery"===a?yield t._notifyAllSubscribers("PASSWORD_RECOVERY",o):yield t._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return yield t._recoverAndRefresh(),{error:null}}catch(r){return Z(r)?{error:r}:{error:new qS("Unexpected error during initialization",r)}}finally{yield t._handleVisibilityChange(),t._debug("#_initialize()","end")}})()}signUp(t){var r=this;return w(function*(){var i,s,o;try{let a;if(yield r._removeSession(),"email"in t){const{email:f,password:h,options:p}=t;let g=null,m=null;if("pkce"===r.flowType){const v=wa();yield Ss(r.storage,`${r.storageKey}-code-verifier`,v),g=yield Da(v),m=v===g?"plain":"s256"}a=yield X(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,redirectTo:p?.emailRedirectTo,body:{email:f,password:h,data:null!==(i=p?.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:m},xform:Mr})}else{if(!("phone"in t))throw new nc("You must provide either an email or phone number and a password");{const{phone:f,password:h,options:p}=t;a=yield X(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{phone:f,password:h,data:null!==(s=p?.data)&&void 0!==s?s:{},channel:null!==(o=p?.channel)&&void 0!==o?o:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Mr})}}const{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,d=l.user;return l.session&&(yield r._saveSession(l.session),yield r._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Z(a))return{data:{user:null,session:null},error:a};throw a}})()}signInWithPassword(t){var r=this;return w(function*(){try{let i;if(yield r._removeSession(),"email"in t){const{email:a,password:l,options:u}=t;i=yield X(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Mr})}else{if(!("phone"in t))throw new nc("You must provide either an email or phone number and a password");{const{phone:a,password:l,options:u}=t;i=yield X(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Mr})}}const{data:s,error:o}=i;return o?{data:{user:null,session:null},error:o}:s&&s.session&&s.user?(s.session&&(yield r._saveSession(s.session),yield r._notifyAllSubscribers("SIGNED_IN",s.session)),{data:{user:s.user,session:s.session},error:o}):{data:{user:null,session:null},error:new gg}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}})()}signInWithOAuth(t){var r=this;return w(function*(){var i,s,o,a;return yield r._removeSession(),yield r._handleProviderSignIn(t.provider,{redirectTo:null===(i=t.options)||void 0===i?void 0:i.redirectTo,scopes:null===(s=t.options)||void 0===s?void 0:s.scopes,queryParams:null===(o=t.options)||void 0===o?void 0:o.queryParams,skipBrowserRedirect:null===(a=t.options)||void 0===a?void 0:a.skipBrowserRedirect})})()}exchangeCodeForSession(t){var r=this;return w(function*(){return yield r.initializePromise,r._acquireLock(-1,w(function*(){return r._exchangeCodeForSession(t)}))})()}_exchangeCodeForSession(t){var r=this;return w(function*(){const i=yield ec(r.storage,`${r.storageKey}-code-verifier`),{data:s,error:o}=yield X(r.fetch,"POST",`${r.url}/token?grant_type=pkce`,{headers:r.headers,body:{auth_code:t,code_verifier:i},xform:Mr});return yield cg(r.storage,`${r.storageKey}-code-verifier`),o?{data:{user:null,session:null},error:o}:s&&s.session&&s.user?(s.session&&(yield r._saveSession(s.session),yield r._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:o}):{data:{user:null,session:null},error:new gg}})()}signInWithIdToken(t){var r=this;return w(function*(){yield r._removeSession();try{const{options:i,provider:s,token:o,access_token:a,nonce:l}=t,u=yield X(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,body:{provider:s,id_token:o,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Mr}),{data:c,error:d}=u;return d?{data:{user:null,session:null},error:d}:c&&c.session&&c.user?(c.session&&(yield r._saveSession(c.session),yield r._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d}):{data:{user:null,session:null},error:new gg}}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}})()}signInWithOtp(t){var r=this;return w(function*(){var i,s,o,a,l;try{if(yield r._removeSession(),"email"in t){const{email:u,options:c}=t;let d=null,f=null;if("pkce"===r.flowType){const p=wa();yield Ss(r.storage,`${r.storageKey}-code-verifier`,p),d=yield Da(p),f=p===d?"plain":"s256"}const{error:h}=yield X(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{email:u,data:null!==(i=c?.data)&&void 0!==i?i:{},create_user:null===(s=c?.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:u,options:c}=t,{data:d,error:f}=yield X(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{phone:u,data:null!==(o=c?.data)&&void 0!==o?o:{},create_user:null===(a=c?.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:null!==(l=c?.channel)&&void 0!==l?l:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new nc("You must provide either an email or phone number.")}catch(u){if(Z(u))return{data:{user:null,session:null},error:u};throw u}})()}verifyOtp(t){var r=this;return w(function*(){var i,s;try{let o,a;"email_change"!==t.type&&"phone_change"!==t.type&&(yield r._removeSession()),"options"in t&&(o=null===(i=t.options)||void 0===i?void 0:i.redirectTo,a=null===(s=t.options)||void 0===s?void 0:s.captchaToken);const{data:l,error:u}=yield X(r.fetch,"POST",`${r.url}/verify`,{headers:r.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Mr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c?.access_token&&(yield r._saveSession(c),yield r._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}})()}signInWithSSO(t){var r=this;return w(function*(){var i,s,o;try{return yield r._removeSession(),yield X(r.fetch,"POST",`${r.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(s=null===(i=t.options)||void 0===i?void 0:i.redirectTo)&&void 0!==s?s:void 0}),null!==(o=t?.options)&&void 0!==o&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:r.headers,xform:wH})}catch(a){if(Z(a))return{data:null,error:a};throw a}})()}reauthenticate(){var t=this;return w(function*(){return yield t.initializePromise,yield t._acquireLock(-1,w(function*(){return yield t._reauthenticate()}))})()}_reauthenticate(){var t=this;return w(function*(){try{return yield t._useSession(function(){var r=w(function*(i){const{data:{session:s},error:o}=i;if(o)throw o;if(!s)throw new As;const{error:a}=yield X(t.fetch,"GET",`${t.url}/reauthenticate`,{headers:t.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}});return function(i){return r.apply(this,arguments)}}())}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}})()}resend(t){var r=this;return w(function*(){try{"email_change"!=t.type&&"phone_change"!=t.type&&(yield r._removeSession());const i=`${r.url}/resend`;if("email"in t){const{email:s,type:o,options:a}=t,{error:l}=yield X(r.fetch,"POST",i,{headers:r.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}if("phone"in t){const{phone:s,type:o,options:a}=t,{data:l,error:u}=yield X(r.fetch,"POST",i,{headers:r.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:u}}throw new nc("You must provide either an email or phone number and a type")}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}})()}getSession(){var t=this;return w(function*(){return yield t.initializePromise,t._acquireLock(-1,w(function*(){return t._useSession(function(){var r=w(function*(i){return i});return function(i){return r.apply(this,arguments)}}())}))})()}_acquireLock(t,r){var i=this;return w(function*(){i._debug("#_acquireLock","begin",t);try{if(i.lockAcquired){const s=i.pendingInLock.length?i.pendingInLock[i.pendingInLock.length-1]:Promise.resolve(),o=w(function*(){return yield s,yield r()})();return i.pendingInLock.push(w(function*(){try{yield o}catch{}})()),o}return yield i.lock(`lock:${i.storageKey}`,t,w(function*(){i._debug("#_acquireLock","lock acquired for storage key",i.storageKey);try{i.lockAcquired=!0;const s=r();for(i.pendingInLock.push(w(function*(){try{yield s}catch{}})()),yield s;i.pendingInLock.length;){const o=[...i.pendingInLock];yield Promise.all(o),i.pendingInLock.splice(0,o.length)}return yield s}finally{i._debug("#_acquireLock","lock released for storage key",i.storageKey),i.lockAcquired=!1}}))}finally{i._debug("#_acquireLock","end")}})()}_useSession(t){var r=this;return w(function*(){r._debug("#_useSession","begin");try{const i=yield r.__loadSession();return yield t(i)}finally{r._debug("#_useSession","end")}})()}__loadSession(){var t=this;return w(function*(){t._debug("#__loadSession()","begin"),t.lockAcquired||t._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let r=null;const i=yield ec(t.storage,t.storageKey);if(t._debug("#getSession()","session from storage",i),null!==i&&(t._isValidSession(i)?r=i:(t._debug("#getSession()","session from storage is not valid"),yield t._removeSession())),!r)return{data:{session:null},error:null};const s=!!r.expires_at&&r.expires_at<=Date.now()/1e3;if(t._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",r.expires_at),!s)return{data:{session:r},error:null};const{session:o,error:a}=yield t._callRefreshToken(r.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{t._debug("#__loadSession()","end")}})()}getUser(t){var r=this;return w(function*(){return t?yield r._getUser(t):(yield r.initializePromise,r._acquireLock(-1,w(function*(){return yield r._getUser()})))})()}_getUser(t){var r=this;return w(function*(){try{return t?yield X(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:t,xform:Tr}):yield r._useSession(function(){var i=w(function*(s){var o,a;const{data:l,error:u}=s;if(u)throw u;return yield X(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:null!==(a=null===(o=l.session)||void 0===o?void 0:o.access_token)&&void 0!==a?a:void 0,xform:Tr})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}})()}updateUser(t,r={}){var i=this;return w(function*(){return yield i.initializePromise,yield i._acquireLock(-1,w(function*(){return yield i._updateUser(t,r)}))})()}_updateUser(t,r={}){var i=this;return w(function*(){try{return yield i._useSession(function(){var s=w(function*(o){const{data:a,error:l}=o;if(l)throw l;if(!a.session)throw new As;const u=a.session;let c=null,d=null;if("pkce"===i.flowType&&null!=t.email){const p=wa();yield Ss(i.storage,`${i.storageKey}-code-verifier`,p),c=yield Da(p),d=p===c?"plain":"s256"}const{data:f,error:h}=yield X(i.fetch,"PUT",`${i.url}/user`,{headers:i.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:u.access_token,xform:Tr});if(h)throw h;return u.user=f.user,yield i._saveSession(u),yield i._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}});return function(o){return s.apply(this,arguments)}}())}catch(s){if(Z(s))return{data:{user:null},error:s};throw s}})()}_decodeJWT(t){return GS(t)}setSession(t){var r=this;return w(function*(){return yield r.initializePromise,yield r._acquireLock(-1,w(function*(){return yield r._setSession(t)}))})()}_setSession(t){var r=this;return w(function*(){try{if(!t.access_token||!t.refresh_token)throw new As;const i=Date.now()/1e3;let s=i,o=!0,a=null;const l=GS(t.access_token);if(l.exp&&(s=l.exp,o=s<=i),o){const{session:u,error:c}=yield r._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:c}=yield r._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:s-i,expires_at:s},yield r._saveSession(a),yield r._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(i){if(Z(i))return{data:{session:null,user:null},error:i};throw i}})()}refreshSession(t){var r=this;return w(function*(){return yield r.initializePromise,yield r._acquireLock(-1,w(function*(){return yield r._refreshSession(t)}))})()}_refreshSession(t){var r=this;return w(function*(){try{return yield r._useSession(function(){var i=w(function*(s){var o;if(!t){const{data:u,error:c}=s;if(c)throw c;t=null!==(o=u.session)&&void 0!==o?o:void 0}if(!t?.refresh_token)throw new As;const{session:a,error:l}=yield r._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}});return function(s){return i.apply(this,arguments)}}())}catch(i){if(Z(i))return{data:{user:null,session:null},error:i};throw i}})()}_getSessionFromURL(t){var r=this;return w(function*(){try{if(!tr())throw new rc("No browser detected.");if("implicit"===r.flowType&&!r._isImplicitGrantFlow())throw new rc("Not a valid implicit grant flow url.");if("pkce"==r.flowType&&!t)throw new WS("Not a valid PKCE flow url.");const i=ug(window.location.href);if(t){if(!i.code)throw new WS("No code detected.");const{data:E,error:R}=yield r._exchangeCodeForSession(i.code);if(R)throw R;const ue=new URL(window.location.href);return ue.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ue.toString()),{data:{session:E.session,redirectType:null},error:null}}if(i.error||i.error_description||i.error_code)throw new rc(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});const{provider_token:s,provider_refresh_token:o,access_token:a,refresh_token:l,expires_in:u,expires_at:c,token_type:d}=i;if(!(a&&u&&l&&d))throw new rc("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(u);let p=f+h;c&&(p=parseInt(c));const g=p-f;1e3*g<=Ca&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const m=p-h;f-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,p,f):f-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",m,p,f);const{data:v,error:y}=yield r._getUser(a);if(y)throw y;const C={provider_token:s,provider_refresh_token:o,access_token:a,expires_in:h,expires_at:p,refresh_token:l,token_type:d,user:v.user};return window.location.hash="",r._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:i.type},error:null}}catch(i){if(Z(i))return{data:{session:null,redirectType:null},error:i};throw i}})()}_isImplicitGrantFlow(){const t=ug(window.location.href);return!(!tr()||!t.access_token&&!t.error_description)}_isPKCEFlow(){var t=this;return w(function*(){const r=ug(window.location.href),i=yield ec(t.storage,`${t.storageKey}-code-verifier`);return!(!r.code||!i)})()}signOut(t={scope:"global"}){var r=this;return w(function*(){return yield r.initializePromise,yield r._acquireLock(-1,w(function*(){return yield r._signOut(t)}))})()}_signOut({scope:t}={scope:"global"}){var r=this;return w(function*(){return yield r._useSession(function(){var i=w(function*(s){var o;const{data:a,error:l}=s;if(l)return{error:l};const u=null===(o=a.session)||void 0===o?void 0:o.access_token;if(u){const{error:c}=yield r.admin.signOut(u,t);if(c&&(!function gH(e){return Z(e)&&"AuthApiError"===e.name}(c)||404!==c.status&&401!==c.status))return{error:c}}return"others"!==t&&(yield r._removeSession(),yield cg(r.storage,`${r.storageKey}-code-verifier`),yield r._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}});return function(s){return i.apply(this,arguments)}}())})()}onAuthStateChange(t){var r=this;const i=function oH(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=16*Math.random()|0;return("x"==e?n:3&n|8).toString(16)})}(),s={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),w(function*(){yield r.initializePromise,yield r._acquireLock(-1,w(function*(){r._emitInitialSession(i)}))})(),{data:{subscription:s}}}_emitInitialSession(t){var r=this;return w(function*(){return yield r._useSession(function(){var i=w(function*(s){var o,a;try{const{data:{session:l},error:u}=s;if(u)throw u;yield null===(o=r.stateChangeEmitters.get(t))||void 0===o?void 0:o.callback("INITIAL_SESSION",l),r._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){yield null===(a=r.stateChangeEmitters.get(t))||void 0===a?void 0:a.callback("INITIAL_SESSION",null),r._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}});return function(s){return i.apply(this,arguments)}}())})()}resetPasswordForEmail(t,r={}){var i=this;return w(function*(){let s=null,o=null;if("pkce"===i.flowType){const a=wa();yield Ss(i.storage,`${i.storageKey}-code-verifier`,a),s=yield Da(a),o=a===s?"plain":"s256"}try{return yield X(i.fetch,"POST",`${i.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:i.headers,redirectTo:r.redirectTo})}catch(a){if(Z(a))return{data:null,error:a};throw a}})()}_refreshAccessToken(t){var r=this;return w(function*(){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;r._debug(i,"begin");try{const s=Date.now();return yield function cH(e,n){return new Promise((r,i)=>{w(function*(){for(let s=0;s<1/0;s++)try{const o=yield e(s);if(!n(s,null,o))return void r(o)}catch(o){if(!n(s,o))return void i(o)}})()})}(function(){var o=w(function*(a){return yield function uH(e){return dg.apply(this,arguments)}(200*a),r._debug(i,"refreshing attempt",a),yield X(r.fetch,"POST",`${r.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:r.headers,xform:Mr})});return function(a){return o.apply(this,arguments)}}(),(o,a,l)=>l&&l.error&&KS(l.error)&&Date.now()+200*(o+1)-s<Ca)}catch(s){if(r._debug(i,"error",s),Z(s))return{data:{session:null,user:null},error:s};throw s}finally{r._debug(i,"end")}})()}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){var i=this;return w(function*(){const s=yield i._getUrlForProvider(t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return i._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),tr()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}})()}_recoverAndRefresh(){var t=this;return w(function*(){var r;const i="#_recoverAndRefresh()";t._debug(i,"begin");try{const s=yield ec(t.storage,t.storageKey);if(t._debug(i,"session from storage",s),!t._isValidSession(s))return t._debug(i,"session is not valid"),void(null!==s&&(yield t._removeSession()));const o=Math.round(Date.now()/1e3),a=(null!==(r=s.expires_at)&&void 0!==r?r:1/0)<o+10;if(t._debug(i,`session has${a?"":" not"} expired with margin of 10s`),a){if(t.autoRefreshToken&&s.refresh_token){const{error:l}=yield t._callRefreshToken(s.refresh_token);l&&(console.error(l),KS(l)||(t._debug(i,"refresh failed with a non-retryable error, removing the session",l),yield t._removeSession()))}}else yield t._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return t._debug(i,"error",s),void console.error(s)}finally{t._debug(i,"end")}})()}_callRefreshToken(t){var r=this;return w(function*(){var i,s;if(!t)throw new As;if(r.refreshingDeferred)return r.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;r._debug(o,"begin");try{r.refreshingDeferred=new tc;const{data:a,error:l}=yield r._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new As;yield r._saveSession(a.session),yield r._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={session:a.session,error:null};return r.refreshingDeferred.resolve(u),u}catch(a){if(r._debug(o,"error",a),Z(a)){const l={session:null,error:a};return null===(i=r.refreshingDeferred)||void 0===i||i.resolve(l),l}throw null===(s=r.refreshingDeferred)||void 0===s||s.reject(a),a}finally{r.refreshingDeferred=null,r._debug(o,"end")}})()}_notifyAllSubscribers(t,r,i=!0){var s=this;return w(function*(){const o=`#_notifyAllSubscribers(${t})`;s._debug(o,"begin",r,`broadcast = ${i}`);try{s.broadcastChannel&&i&&s.broadcastChannel.postMessage({event:t,session:r});const a=[],l=Array.from(s.stateChangeEmitters.values()).map(function(){var u=w(function*(c){try{yield c.callback(t,r)}catch(d){a.push(d)}});return function(c){return u.apply(this,arguments)}}());if(yield Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{s._debug(o,"end")}})()}_saveSession(t){var r=this;return w(function*(){r._debug("#_saveSession()",t),yield r._persistSession(t)})()}_persistSession(t){return this._debug("#_persistSession()",t),Ss(this.storage,this.storageKey,t)}_removeSession(){var t=this;return w(function*(){t._debug("#_removeSession()"),yield cg(t.storage,t.storageKey)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){var t=this;return w(function*(){yield t._stopAutoRefresh(),t._debug("#_startAutoRefresh()");const r=setInterval(()=>t._autoRefreshTokenTick(),Ca);t.autoRefreshTicker=r,r&&"object"==typeof r&&"function"==typeof r.unref?r.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(r),setTimeout(w(function*(){yield t.initializePromise,yield t._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var t=this;return w(function*(){t._debug("#_stopAutoRefresh()");const r=t.autoRefreshTicker;t.autoRefreshTicker=null,r&&clearInterval(r)})()}startAutoRefresh(){var t=this;return w(function*(){t._removeVisibilityChangedCallback(),yield t._startAutoRefresh()})()}stopAutoRefresh(){var t=this;return w(function*(){t._removeVisibilityChangedCallback(),yield t._stopAutoRefresh()})()}_autoRefreshTokenTick(){var t=this;return w(function*(){t._debug("#_autoRefreshTokenTick()","begin");try{yield t._acquireLock(0,w(function*(){try{const r=Date.now();try{return yield t._useSession(function(){var i=w(function*(s){const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at)return void t._debug("#_autoRefreshTokenTick()","no session");const a=Math.floor((1e3*o.expires_at-r)/Ca);t._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),a<=3&&(yield t._callRefreshToken(o.refresh_token))});return function(s){return i.apply(this,arguments)}}())}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{t._debug("#_autoRefreshTokenTick()","end")}}))}catch(r){if(!(r.isAcquireTimeout||r instanceof OH))throw r;t._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var t=this;return w(function*(){if(t._debug("#_handleVisibilityChange()"),!tr()||!window?.addEventListener)return t.autoRefreshToken&&t.startAutoRefresh(),!1;try{t.visibilityChangedCallback=w(function*(){return yield t._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",t.visibilityChangedCallback),yield t._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}})()}_onVisibilityChanged(t){var r=this;return w(function*(){const i=`#_onVisibilityChanged(${t})`;r._debug(i,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(r.autoRefreshToken&&r._startAutoRefresh(),t||(yield r.initializePromise,yield r._acquireLock(-1,w(function*(){"visible"===document.visibilityState?yield r._recoverAndRefresh():r._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&r.autoRefreshToken&&r._stopAutoRefresh()})()}_getUrlForProvider(t,r){var i=this;return w(function*(){const s=[`provider=${encodeURIComponent(t)}`];if(r?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===i.flowType){const o=wa();yield Ss(i.storage,`${i.storageKey}-code-verifier`,o);const a=yield Da(o),l=o===a?"plain":"s256";i._debug("PKCE","code verifier",`${o.substring(0,5)}...`,"code challenge",a,"method",l);const u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return`${i.url}/authorize?${s.join("&")}`})()}_unenroll(t){var r=this;return w(function*(){try{return yield r._useSession(function(){var i=w(function*(s){var o;const{data:a,error:l}=s;return l?{data:null,error:l}:yield X(r.fetch,"DELETE",`${r.url}/factors/${t.factorId}`,{headers:r.headers,jwt:null===(o=a?.session)||void 0===o?void 0:o.access_token})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(Z(i))return{data:null,error:i};throw i}})()}_enroll(t){var r=this;return w(function*(){try{return yield r._useSession(function(){var i=w(function*(s){var o,a;const{data:l,error:u}=s;if(u)return{data:null,error:u};const{data:c,error:d}=yield X(r.fetch,"POST",`${r.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:r.headers,jwt:null===(o=l?.session)||void 0===o?void 0:o.access_token});return d?{data:null,error:d}:(!(null===(a=c?.totp)||void 0===a)&&a.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(Z(i))return{data:null,error:i};throw i}})()}_verify(t){var r=this;return w(function*(){return r._acquireLock(-1,w(function*(){try{return yield r._useSession(function(){var i=w(function*(s){var o;const{data:a,error:l}=s;if(l)return{data:null,error:l};const{data:u,error:c}=yield X(r.fetch,"POST",`${r.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:r.headers,jwt:null===(o=a?.session)||void 0===o?void 0:o.access_token});return c?{data:null,error:c}:(yield r._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),yield r._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:c})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(Z(i))return{data:null,error:i};throw i}}))})()}_challenge(t){var r=this;return w(function*(){return r._acquireLock(-1,w(function*(){try{return yield r._useSession(function(){var i=w(function*(s){var o;const{data:a,error:l}=s;return l?{data:null,error:l}:yield X(r.fetch,"POST",`${r.url}/factors/${t.factorId}/challenge`,{headers:r.headers,jwt:null===(o=a?.session)||void 0===o?void 0:o.access_token})});return function(s){return i.apply(this,arguments)}}())}catch(i){if(Z(i))return{data:null,error:i};throw i}}))})()}_challengeAndVerify(t){var r=this;return w(function*(){const{data:i,error:s}=yield r._challenge({factorId:t.factorId});return s?{data:null,error:s}:yield r._verify({factorId:t.factorId,challengeId:i.id,code:t.code})})()}_listFactors(){var t=this;return w(function*(){const{data:{user:r},error:i}=yield t.getUser();if(i)return{data:null,error:i};const s=r?.factors||[],o=s.filter(a=>"totp"===a.factor_type&&"verified"===a.status);return{data:{all:s,totp:o},error:null}})()}_getAuthenticatorAssuranceLevel(){var t=this;return w(function*(){return t._acquireLock(-1,w(function*(){return yield t._useSession(function(){var r=w(function*(i){var s,o;const{data:{session:a},error:l}=i;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const u=t._decodeJWT(a.access_token);let c=null;u.aal&&(c=u.aal);let d=c;return(null!==(o=null===(s=a.user.factors)||void 0===s?void 0:s.filter(p=>"verified"===p.status))&&void 0!==o?o:[]).length>0&&(d="aal2"),{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:u.amr||[]},error:null}});return function(i){return r.apply(this,arguments)}}())}))})()}}return e.nextInstanceID=0,e})();class FH extends kH{constructor(n){super(n)}}const VH={headers:JB},jH={schema:"public"},$H={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},UH={};class BH{constructor(n,t,r){var i,s,o,a,l,u,c,d;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const f=function rH(e){return e.replace(/\/$/,"")}(n);this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,this.functionsUrl=`${f}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g=function iH(e,n){const{db:t,auth:r,realtime:i,global:s}=e,{db:o,auth:a,realtime:l,global:u}=n;return{db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s)}}(r??{},{db:jH,realtime:UH,auth:Object.assign(Object.assign({},$H),{storageKey:h}),global:VH});this.storageKey=null!==(s=null===(i=g.auth)||void 0===i?void 0:i.storageKey)&&void 0!==s?s:"",this.headers=null!==(a=null===(o=g.global)||void 0===o?void 0:o.headers)&&void 0!==a?a:{},this.auth=this._initSupabaseAuthClient(null!==(l=g.auth)&&void 0!==l?l:{},this.headers,null===(u=g.global)||void 0===u?void 0:u.fetch),this.fetch=nH(t,this._getAccessToken.bind(this),null===(c=g.global)||void 0===c?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new ng(`${f}/rest/v1`,{headers:this.headers,schema:null===(d=g.db)||void 0===d?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new vB(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ZB(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return null!==(t=null===(n=r.session)||void 0===n?void 0:n.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,debug:a},l,u){return new FH({url:this.authUrl,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),l),storageKey:s,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,flowType:o,debug:a,fetch:u})}_initRealtimeClient(n){return new jB(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){"TOKEN_REFRESHED"!==n&&"SIGNED_IN"!==n||this.changedAccessToken===r?"SIGNED_OUT"===n&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(r??null),this.changedAccessToken=r)}}let eI=(()=>{class e{constructor(){this.client=new BH("https://mjdvtucgqzveqcqsknuz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1qZHZ0dWNncXp2ZXFjcXNrbnV6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY1Mzk1NTQsImV4cCI6MjAxMjExNTU1NH0.leu63hgQ4-bYpizVu3Y6zB9CwGfj2bvMAoni07Nerl4",void 0)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zH(e,n){if(1&e){const t=es();ee(0,"div",2)(1,"div",3)(2,"h1",4),Pe(3," Create and account "),ce(),ee(4,"form",5),xe("ngSubmit",function(i){cr(t);const s=sn();return dr(s.signup(i,s.signupForm))}),ee(5,"div")(6,"label",6),Pe(7,"Your email"),ce(),rn(8,"input",7),ce(),ee(9,"div")(10,"label",8),Pe(11,"Password"),ce(),rn(12,"input",9),ce(),ee(13,"div")(14,"label",10),Pe(15,"Confirm password"),ce(),rn(16,"input",11),ce(),ee(17,"button",12),Pe(18,"Create an account"),ce(),ee(19,"p",13),Pe(20," Already have an account? "),ee(21,"a",14),xe("click",function(){return cr(t),dr(sn().login=!0)}),Pe(22,"Login here"),ce()()()()()}if(2&e){const t=sn();lt(4),Ye("formGroup",t.signupForm)}}function GH(e,n){if(1&e){const t=es();ee(0,"div",2)(1,"div",3)(2,"h1",4),Pe(3," Sign in to your account "),ce(),ee(4,"form",15),xe("ngSubmit",function(i){cr(t);const s=sn();return dr(s.logMeIn(i,s.loginForm))}),ee(5,"div")(6,"label",6),Pe(7,"Your email"),ce(),rn(8,"input",7),ce(),ee(9,"div")(10,"label",8),Pe(11,"Password"),ce(),rn(12,"input",16),ce(),ee(13,"button",12),Pe(14,"Sign in"),ce(),ee(15,"p",13),Pe(16," Don\u2019t have an account yet? "),ee(17,"a",14),xe("click",function(){return cr(t),dr(sn().login=!1)}),Pe(18,"Sign up"),ce()()()()()}if(2&e){const t=sn();lt(4),Ye("formGroup",t.loginForm)}}let tI=(()=>{class e{constructor(t){this.sb=t,this.login=!0,this.signupForm=new ei({email:new Xn(""),password:new Xn("")}),this.loginForm=new ei({email:new Xn(""),password:new Xn("")})}signup(t,r){var i=this;return w(function*(){console.log(t,r);const s=i.signupForm.value;if(s.email&&s.password){const{data:o}=yield i.sb.client.auth.signUp({email:s.email,password:s.password});console.log(o)}})()}logMeIn(t,r){var i=this;return w(function*(){const s=i.loginForm.value;if(console.log(t,r,s),s.email&&s.password){const o=yield i.sb.client.auth.signInWithPassword({email:s.email,password:s.password});console.log(o)}})()}static#e=this.\u0275fac=function(r){return new(r||e)(b(eI))};static#t=this.\u0275cmp=Ua({type:e,selectors:[["app-sign-up"]],standalone:!0,features:[Qf],decls:3,vars:2,consts:[[1,"flex","flex-col","items-center","justify-center","px-6","py-8","mx-auto","md:h-screen","lg:py-0"],["class","w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",4,"ngIf"],[1,"w-full","bg-white","rounded-lg","shadow","dark:border","md:mt-0","sm:max-w-md","xl:p-0","dark:bg-gray-800","dark:border-gray-700"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-tight","tracking-tight","text-gray-900","md:text-2xl","dark:text-white"],["action","#",1,"space-y-4","md:space-y-6",3,"formGroup","ngSubmit"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","email","type","email","name","email","id","email","placeholder","name@company.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","password","type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","confirm-password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","confirm-password","name","confirm-password","id","confirm-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["type","submit",1,"w-full","text-white","bg-primary-600","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800"],[1,"text-sm","font-light","text-gray-500","dark:text-gray-400"],[1,"font-medium","text-primary-600","hover:underline","dark:text-primary-500",3,"click"],[1,"space-y-4","md:space-y-6",3,"formGroup","ngSubmit"],["formControlName","password","type","confirm-password","type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"]],template:function(r,i){1&r&&(ee(0,"div",0),gr(1,zH,23,1,"div",1),gr(2,GH,19,1,"div",1),ce()),2&r&&(lt(1),Ye("ngIf",!i.login),lt(1),Ye("ngIf",i.login))},dependencies:[kC,Vh,_S,$p,sa,Tp,Np,fa,wS,da,Ku]})}return e})();function qH(e,n){if(1&e){const t=es();ee(0,"div",12),xe("click",function(){const s=cr(t).$implicit;return dr(sn(2).deleteMessage(s.id))}),ee(1,"div",13),Pe(2),ce(),ee(3,"div",14),Pe(4),ce()()}if(2&e){const t=n.$implicit;Ye("@slideInBottom",void 0),lt(2),Io(t.user),lt(2),Io(t.text)}}function WH(e,n){if(1&e){const t=es();ee(0,"div",5,6),gr(2,qH,5,3,"div",7),ee(3,"form",8),xe("ngSubmit",function(){return cr(t),dr(sn().sendMessage())}),ee(4,"div",9),rn(5,"input",10),ee(6,"button",11),Pe(7,"Send"),ce()()()()}if(2&e){const t=sn();Ye("@slideInBottom",void 0),lt(2),Ye("ngForOf",t.messages),lt(1),Ye("formGroup",t.messagesForm),lt(3),Ye("disabled",t.messagesForm.invalid)}}const KH=function(e,n){return{"opacity-0":e,"opacity-100":n}};function QH(e,n){if(1&e&&(bo(0),ee(1,"div",15)(2,"div",16),function Ay(){k.lFrame.currentNamespace=ly}(),ee(3,"svg",17)(4,"g")(5,"g"),rn(6,"path",18),ce()()()(),function My(){!function sT(){k.lFrame.currentNamespace=null}()}(),ee(7,"div",19),Pe(8),ce()(),Co()),2&e){const t=n.$implicit;lt(1),Lf("left",t.x,"px")("top",t.y,"px"),Ye("ngClass",WD(6,KH,!t.visible,t.visible)),lt(7),Io(t.user_email)}}function ZH(e,n){1&e&&(bo(0),rn(1,"app-sign-up",20),Co())}function YH(e,n){if(1&e){const t=es();ee(0,"div",21)(1,"button",22),xe("click",function(){return cr(t),dr(sn().logout())}),Pe(2,"Logout"),ce()()}}!function UU(e,...n){const{state:t,config:r}=function RU(...e){const n={config:{},state:{}};for(const{config:t,props:r}of e)Object.assign(n.config,t),Object.assign(n.state,r);return n}(...n),{name:i}=e;new $U({name:i,state:t,config:r})}({name:"content"},XU());let JH=(()=>{class e{constructor(t,r){this.cdr=t,this.sb=r,this.title="supabase-frontend",this.contents=[],this.contentForm=new ei({slug:new Xn(""),typeSpecific:new Xn("")}),this.userLeft=0,this.userTop=0,this.remoteUser=[],this.messages=[],this.chatOpen=!1,this.messagesForm=new ei({text:new Xn("",[w0.required,w0.minLength(4)])}),this.handleInserts=i=>{if("DELETE"===i.eventType){const s=i.old.id,o=this.messages.findIndex(a=>a.id===s);o>-1&&this.messages.splice(o,1)}else this.messages=[...this.messages,i.new]},this.trackFn=(i,s)=>s.id??i}ngOnInit(){this.listToUser()}listToUser(){var t=this;return w(function*(){t.sb.client.auth.onAuthStateChange((r,i)=>{t.user=i?.user,t.user&&t.subscribeToChannel()})})()}getData(){var t=this;return w(function*(){let{data:r}=yield t.sb.client.from("messages").select("*");t.messages=r||[]})()}listenToContent(){var t=this;return w(function*(){t.sb.client.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"messages"},t.handleInserts).subscribe()})()}addConent(t){this.insertData()}insertData(){var t=this;return w(function*(){yield t.sb.client.from("Content").insert([t.contentForm.value]).select()})()}udpate(t,r,i){var s=this;return w(function*(){yield s.sb.client.from("Content").update({[r]:i}).eq("id",t).select()})()}subscribeToChannel(){var t=this;const r=this.sb.client.channel("23channel",{config:{presence:{key:this.user.id}}});r.on("presence",{event:"sync"},()=>{const i=r.presenceState(),s=Object.keys(i).map((o,a)=>i[o][0]).filter((o,a)=>o.user_id!==this.user.id);this.remoteUser=s.map(o=>({...o,x:0,y:0,visible:!1}))}).on("broadcast",{event:"cursor-pos"},i=>{const s=i.payload,o=this.remoteUser.findIndex(a=>a.user_email===s.user_email);o>-1&&(this.remoteUser[o].visible=!0,this.remoteUser[o].x=s.x,this.remoteUser[o].y=s.y)}).subscribe(function(){var i=w(function*(s){"SUBSCRIBED"===s&&(document.onmousemove=o=>{r.send({type:"broadcast",event:"cursor-pos",payload:{x:o.clientX,y:o.clientY,user_email:t.user.email}})},yield r.track({user_id:t.user.id,user_email:t.user.email}),t.getData(),t.listenToContent())});return function(s){return i.apply(this,arguments)}}())}logout(){this.sb.client.auth.signOut()}sendMessage(){var t=this;return w(function*(){t.messagesForm.value.text&&(t.messagesForm.disable(),yield t.sb.client.from("messages").insert({user:t.user.email,text:t.messagesForm.value.text}),t.messagesForm.reset(),t.messagesForm.enable())})()}deleteMessage(t){var r=this;return w(function*(){yield r.sb.client.from("messages").delete().eq("id",t)})()}static#e=this.\u0275fac=function(r){return new(r||e)(b(Fo),b(eI))};static#t=this.\u0275cmp=Ua({type:e,selectors:[["app-root"]],decls:6,vars:4,consts:[["class"," fixed bottom-16 right-4 bg-slate-900 rounded max-w-xs w-full overflow-hidden max-h-[800px] overflow-y-auto",4,"ngIf"],[1,"cursor-pointer","fixed","bottom-2","right-2","w-12","h-12","hover:bg-blue-900","bg-blue-600","text-blue-50","flex","items-center","justify-center","rounded-full",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","fixed top-4 right-4",4,"ngIf"],[1,"fixed","bottom-16","right-4","bg-slate-900","rounded","max-w-xs","w-full","overflow-hidden","max-h-[800px]","overflow-y-auto"],["chat",""],["class","text-white bg-slate-900 p-2 mx-2 relative hover:cursor-not-allowed",3,"click",4,"ngFor","ngForOf"],[1,"stick","bottom-0",3,"formGroup","ngSubmit"],[1,"flex","justify-center","items-center","p-1","border-t","border-opacity-20","border-white"],["required","","minlength","3","formControlName","text","type","text","placeholder","Come on text me...",1,"text-white","flex","flex-1","text-xs","bg-transparent","p-2","rounded","mr-2"],["type","submit",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:ring-blue-300","font-medium","rounded","text-sm","px-2","py-1","dark:bg-blue-600","dark:hover:bg-blue-700","focus:outline-none","dark:focus:ring-blue-800",3,"disabled"],[1,"text-white","bg-slate-900","p-2","mx-2","relative","hover:cursor-not-allowed",3,"click"],[1,"text-[10px]","opacity-50","font-light"],[1,"text-sm"],[1,"fixed","transition-all","duration-75","shadow",3,"ngClass"],[1,"-rotate-90","text-red-500"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","fill","#000000","version","1.1","id","Capa_1","width","20px","height","20px","viewBox","0 0 266.495 266.494",0,"xml","space","preserve"],["d","M150.036,266.494c-0.264,0-0.517-0.006-0.792-0.018c-6.102-0.337-11.332-4.474-13.046-10.347l-26.067-89.027  l-95.203-18.867c-6.014-1.194-10.614-6.059-11.476-12.123c-0.858-6.062,2.201-12.016,7.65-14.832L242.143,1.617    C247.5-1.175,254.057-0.29,258.518,3.8c4.474,4.101,5.885,10.55,3.562,16.146l-98.743,237.655    C161.097,263.018,155.836,266.494,150.036,266.494z",2,"fill","currentColor"],[1,"absolute","top-full","left-full","bg-red-500","text-sm","p-1","leading-tight","rounded"],[1,"fixed","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2"],[1,"fixed","top-4","right-4"],["type","button",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","mr-2","mb-2","dark:bg-blue-600","dark:hover:bg-blue-700","focus:outline-none","dark:focus:ring-blue-800",3,"click"]],template:function(r,i){1&r&&(gr(0,WH,8,4,"div",0),ee(1,"div",1),xe("click",function(){return i.chatOpen=!i.chatOpen}),Pe(2," 23\xb0\n"),ce(),gr(3,QH,9,9,"ng-container",2),gr(4,ZH,2,0,"ng-container",3),gr(5,YH,3,0,"div",4)),2&r&&(Ye("ngIf",i.chatOpen),lt(3),Ye("ngForOf",i.remoteUser),lt(1),Ye("ngIf",!i.user),lt(1),Ye("ngIf",i.user))},dependencies:[$p,sa,Tp,Np,fa,qp,da,Ku,MC,NC,Vh,tI],data:{animation:[fB("slideInBottom",[OS(":enter",[ws({transform:"translateX(100%)",height:0,overflow:"hidden"}),TS("250ms ease-out",ws({transform:"translateX(0)",height:"*"}))]),OS(":leave",[ws({transform:"translateX(100%)",height:"*"}),TS("250ms ease-out",ws({transform:"translateX(100%)",height:0}))])])]}})}return e})();function nI(e){return new _(3e3,!1)}function Nr(e){switch(e.length){case 0:return new ma;case 1:return e[0];default:return new RS(e)}}function rI(e,n,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(n.forEach(l=>{const u=l.get("offset"),c=u==o,d=c&&a||new Map;l.forEach((f,h)=>{let p=h,g=f;if("offset"!==h)switch(p=e.normalizePropertyName(p,i),g){case"!":g=t.get(h);break;case er:g=r.get(h);break;default:g=e.normalizeStyleValue(h,p,g,i)}d.set(p,g)}),c||s.push(d),a=d,o=u}),i.length)throw function D3(e){return new _(3502,!1)}();return s}function bg(e,n,t,r){switch(n){case"start":e.onStart(()=>r(t&&Cg(t,"start",e)));break;case"done":e.onDone(()=>r(t&&Cg(t,"done",e)));break;case"destroy":e.onDestroy(()=>r(t&&Cg(t,"destroy",e)))}}function Cg(e,n,t){const s=Eg(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),o=e._data;return null!=o&&(s._data=o),s}function Eg(e,n,t,r,i="",s=0,o){return{element:e,triggerName:n,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function kt(e,n,t){let r=e.get(n);return r||e.set(n,r=t),r}function iI(e){const n=e.indexOf(":");return[e.substring(1,n),e.slice(n+1)]}const x3=(()=>typeof document>"u"?null:document.documentElement)();function Sg(e){const n=e.parentNode||e.host||null;return n===x3?null:n}let ii=null,sI=!1;function oI(e,n){for(;n;){if(n===e)return!0;n=Sg(n)}return!1}function aI(e,n,t){if(t)return Array.from(e.querySelectorAll(n));const r=e.querySelector(n);return r?[r]:[]}let lI=(()=>{class e{validateStyleProperty(t){return function k3(e){ii||(ii=function F3(){return typeof document<"u"?document.body:null}()||{},sI=!!ii.style&&"WebkitAppearance"in ii.style);let n=!0;return ii.style&&!function P3(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in ii.style,!n&&sI&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in ii.style)),n}(t)}matchesElement(t,r){return!1}containsElement(t,r){return oI(t,r)}getParentElement(t){return Sg(t)}query(t,r,i){return aI(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new ma(i,s)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),Ig=(()=>{class e{static#e=this.NOOP=new lI}return e})();const L3=1e3,Ag="ng-enter",ic="ng-leave",sc="ng-trigger",oc=".ng-trigger",cI="ng-animating",Mg=".ng-animating";function nr(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Tg(parseFloat(n[1]),n[2])}function Tg(e,n){return"s"===n?e*L3:e}function ac(e,n,t){return e.hasOwnProperty("duration")?e:function j3(e,n,t){let i,s=0,o="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(nI()),{duration:0,delay:0,easing:""};i=Tg(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=Tg(parseFloat(l),a[4]));const u=a[5];u&&(o=u)}else i=e;if(!t){let a=!1,l=n.length;i<0&&(n.push(function XH(){return new _(3100,!1)}()),a=!0),s<0&&(n.push(function e3(){return new _(3101,!1)}()),a=!0),a&&n.splice(l,0,nI())}return{duration:i,delay:s,easing:o}}(e,n,t)}function Ea(e,n={}){return Object.keys(e).forEach(t=>{n[t]=e[t]}),n}function dI(e){const n=new Map;return Object.keys(e).forEach(t=>{n.set(t,e[t])}),n}function Or(e,n=new Map,t){if(t)for(let[r,i]of t)n.set(r,i);for(let[r,i]of e)n.set(r,i);return n}function Rn(e,n,t){n.forEach((r,i)=>{const s=Og(i);t&&!t.has(i)&&t.set(i,e.style[s]),e.style[s]=r})}function si(e,n){n.forEach((t,r)=>{const i=Og(r);e.style[i]=""})}function Sa(e){return Array.isArray(e)?1==e.length?e[0]:NS(e):e}const Ng=new RegExp("{{\\s*(.+?)\\s*}}","g");function hI(e){let n=[];if("string"==typeof e){let t;for(;t=Ng.exec(e);)n.push(t[1]);Ng.lastIndex=0}return n}function Ia(e,n,t){const r=e.toString(),i=r.replace(Ng,(s,o)=>{let a=n[o];return null==a&&(t.push(function n3(e){return new _(3003,!1)}()),a=""),a.toString()});return i==r?e:i}function lc(e){const n=[];let t=e.next();for(;!t.done;)n.push(t.value),t=e.next();return n}const B3=/-+([a-z0-9])/g;function Og(e){return e.replace(B3,(...n)=>n[1].toUpperCase())}function Ft(e,n,t){switch(n.type){case 7:return e.visitTrigger(n,t);case 0:return e.visitState(n,t);case 1:return e.visitTransition(n,t);case 2:return e.visitSequence(n,t);case 3:return e.visitGroup(n,t);case 4:return e.visitAnimate(n,t);case 5:return e.visitKeyframes(n,t);case 6:return e.visitStyle(n,t);case 8:return e.visitReference(n,t);case 9:return e.visitAnimateChild(n,t);case 10:return e.visitAnimateRef(n,t);case 11:return e.visitQuery(n,t);case 12:return e.visitStagger(n,t);default:throw function r3(e){return new _(3004,!1)}()}}function pI(e,n){return window.getComputedStyle(e)[n]}const uc="*";function G3(e,n){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function q3(e,n,t){if(":"==e[0]){const l=function W3(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return n.push(function y3(e){return new _(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof l)return void n.push(l);e=l}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function m3(e){return new _(3015,!1)}()),n;const i=r[1],s=r[2],o=r[3];n.push(gI(i,o));"<"==s[0]&&!(i==uc&&o==uc)&&n.push(gI(o,i))}(r,t,n)):t.push(e),t}const cc=new Set(["true","1"]),dc=new Set(["false","0"]);function gI(e,n){const t=cc.has(e)||dc.has(e),r=cc.has(n)||dc.has(n);return(i,s)=>{let o=e==uc||e==i,a=n==uc||n==s;return!o&&t&&"boolean"==typeof i&&(o=i?cc.has(e):dc.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?cc.has(n):dc.has(n)),o&&a}}const K3=new RegExp("s*:selfs*,?","g");function Rg(e,n,t,r){return new Q3(e).build(n,t,r)}class Q3{constructor(n){this._driver=n}build(n,t,r){const i=new J3(t);return this._resetContextStyleTimingState(i),Ft(this,Sa(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==n.name.charAt(0)&&t.errors.push(function s3(){return new _(3006,!1)}()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,s.push(this.visitState(l,t))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function o3(){return new _(3007,!1)}())}),{type:7,name:n.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(n,t){const r=this.visitStyle(n.styles,t),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{hI(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&(lc(s.values()),t.errors.push(function a3(e,n){return new _(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const r=Ft(this,Sa(n.animation),t);return{type:1,matchers:G3(n.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:oi(n.options)}}visitSequence(n,t){return{type:2,steps:n.steps.map(r=>Ft(this,r,t)),options:oi(n.options)}}visitGroup(n,t){const r=t.currentTime;let i=0;const s=n.steps.map(o=>{t.currentTime=r;const a=Ft(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:oi(n.options)}}visitAnimate(n,t){const r=function ez(e,n){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return xg(ac(e,n).duration,0,"");const t=e;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=xg(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=ac(t,n);return xg(i.duration,i.delay,i.easing)}(n.timings,t.errors);t.currentAnimateTimings=r;let i,s=n.styles?n.styles:ws({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=n.styles,a=!1;if(!o){a=!0;const u={};r.easing&&(u.easing=r.easing),o=ws(u)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,t){const r=this._makeStyleAst(n,t);return this._validateStyleAst(r,t),r}_makeStyleAst(n,t){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of i)"string"==typeof a?a===er?r.push(a):t.errors.push(new _(3002,!1)):r.push(dI(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),n.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const u=t.collectedStyles.get(t.currentQuerySelector),c=u.get(l);let d=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(function u3(e,n,t,r,i){return new _(3010,!1)}()),d=!1),s=c.startTime),d&&u.set(l,{startTime:s,endTime:i}),t.options&&function U3(e,n,t){const r=n.params||{},i=hI(e);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function t3(e){return new _(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(n,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function c3(){return new _(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,u=0;const c=n.steps.map(v=>{const y=this._makeStyleAst(v,t);let C=null!=y.offset?y.offset:function X3(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;n=parseFloat(t.get("offset")),t.delete("offset")}return n}(y.styles),E=0;return null!=C&&(s++,E=y.offset=C),l=l||E<0||E>1,a=a||E<u,u=E,o.push(E),y});l&&t.errors.push(function d3(){return new _(3012,!1)}()),a&&t.errors.push(function f3(){return new _(3200,!1)}());const d=n.steps.length;let f=0;s>0&&s<d?t.errors.push(function h3(){return new _(3202,!1)}()):0==s&&(f=1/(d-1));const h=d-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return c.forEach((v,y)=>{const C=f>0?y==h?1:f*y:o[y],E=C*m;t.currentTime=p+g.delay+E,g.duration=E,this._validateStyleAst(v,t),v.offset=C,r.styles.push(v)}),r}visitReference(n,t){return{type:8,animation:Ft(this,Sa(n.animation),t),options:oi(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:9,options:oi(n.options)}}visitAnimateRef(n,t){return{type:10,animation:this.visitReference(n.animation,t),options:oi(n.options)}}visitQuery(n,t){const r=t.currentQuerySelector,i=n.options||{};t.queryCount++,t.currentQuery=n;const[s,o]=function Z3(e){const n=!!e.split(/\s*,\s*/).find(t=>":self"==t);return n&&(e=e.replace(K3,"")),e=e.replace(/@\*/g,oc).replace(/@\w+/g,t=>oc+"-"+t.slice(1)).replace(/:animating/g,Mg),[e,n]}(n.selector);t.currentQuerySelector=r.length?r+" "+s:s,kt(t.collectedStyles,t.currentQuerySelector,new Map);const a=Ft(this,Sa(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:n.selector,options:oi(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(function p3(){return new _(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:ac(n.timings,t.errors,!0);return{type:12,animation:Ft(this,Sa(n.animation),t),timings:r,options:null}}}class J3{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function oi(e){return e?(e=Ea(e)).params&&(e.params=function Y3(e){return e?Ea(e):null}(e.params)):e={},e}function xg(e,n,t){return{duration:e,delay:n,easing:t}}function Pg(e,n,t,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:n,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class fc{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const rz=new RegExp(":enter","g"),sz=new RegExp(":leave","g");function kg(e,n,t,r,i,s=new Map,o=new Map,a,l,u=[]){return(new oz).buildKeyframes(e,n,t,r,i,s,o,a,l,u)}class oz{buildKeyframes(n,t,r,i,s,o,a,l,u,c=[]){u=u||new fc;const d=new Fg(n,t,u,i,s,c,[]);d.options=l;const f=l.delay?nr(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,l),Ft(this,r,d);const h=d.timelines.filter(p=>p.containsAnimation());if(h.length&&a.size){let p;for(let g=h.length-1;g>=0;g--){const m=h[g];if(m.element===t){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return h.length?h.map(p=>p.buildKeyframes()):[Pg(t,[],[],[],0,f,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(n.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=n}visitAnimateRef(n,t){const r=t.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,r),this.visitReference(n.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,r){for(const i of n){const s=i?.delay;if(s){const o="number"==typeof s?s:nr(Ia(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(n,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?nr(r.duration):null,a=null!=r.delay?nr(r.delay):null;return 0!==o&&n.forEach(l=>{const u=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(n,t){t.updateOptions(n.options,!0),Ft(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const r=t.subContextCount;let i=t;const s=n.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=hc);const o=nr(s.delay);i.delayNextStep(o)}n.steps.length&&(n.steps.forEach(o=>Ft(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const r=[];let i=t.currentTimeline.currentTime;const s=n.options&&n.options.delay?nr(n.options.delay):0;n.steps.forEach(o=>{const a=t.createSubContext(n.options);s&&a.delayNextStep(s),Ft(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const r=n.strValue;return ac(t.params?Ia(r,t.params,t.errors):r,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const r=t.currentAnimateTimings=this._visitTiming(n.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(s):r.setStyles(n.styles,s,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,n.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=n}visitQuery(n,t){const r=t.currentTimeline.currentTime,i=n.options||{},s=i.delay?nr(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=hc);let o=r;const a=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(n.options,u);s&&d.delayNextStep(s),u===t.element&&(l=d.currentTimeline),Ft(this,n.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const r=t.parentContext,i=t.currentTimeline,s=n.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const c=t.currentTimeline;l&&c.delayNextStep(l);const d=c.currentTime;Ft(this,n.animation,t),t.previousNode=n,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const hc={};class Fg{constructor(n,t,r,i,s,o,a,l){this._driver=n,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new pc(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=nr(r.duration)),null!=r.delay&&(i.delay=nr(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Ia(s[a],o,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const r=n.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return n}createSubContext(n=null,t,r){const i=t||this.element,s=new Fg(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=hc,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,r){const i={duration:t??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},s=new az(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,r,i,s,o){let a=[];if(i&&a.push(this.element),n.length>0){n=(n=n.replace(rz,"."+this._enterClassName)).replace(sz,"."+this._leaveClassName);let u=this._driver.query(this.element,n,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&0==a.length&&o.push(function g3(e){return new _(3014,!1)}()),a}}class pc{constructor(n,t,r,i){this._driver=n,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new pc(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||er),this._currentKeyframe.set(t,er);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function lz(e,n){const t=new Map;let r;return e.forEach(i=>{if("*"===i){r=r||n.keys();for(let s of r)t.set(s,er)}else Or(i,t)}),t}(n,this._globalTimelineStyles);for(let[a,l]of o){const u=Ia(l,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??er),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const u=Or(a,new Map,this._backFill);u.forEach((c,d)=>{"!"===c?n.add(d):c===er&&t.add(d)}),r||u.set("offset",l/this.duration),i.push(u)});const s=n.size?lc(n.values()):[],o=t.size?lc(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Pg(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class az extends pc{constructor(n,t,r,i,s,o,a=!1){super(n,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=Or(n[0]);l.set("offset",0),s.push(l);const u=Or(n[0]);u.set("offset",vI(a)),s.push(u);const c=n.length-1;for(let d=1;d<=c;d++){let f=Or(n[d]);const h=f.get("offset");f.set("offset",vI((t+h*r)/o)),s.push(f)}r=o,t=0,i="",n=s}return Pg(this.element,n,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function vI(e,n=3){const t=Math.pow(10,n-1);return Math.round(e*t)/t}class Lg{}const uz=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class cz extends Lg{normalizePropertyName(n,t){return Og(n)}normalizeStyleValue(n,t,r,i){let s="";const o=r.toString().trim();if(uz.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function i3(e,n){return new _(3005,!1)}())}return o+s}}function _I(e,n,t,r,i,s,o,a,l,u,c,d,f){return{type:0,element:e,triggerName:n,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:d,errors:f}}const Vg={};class wI{constructor(n,t,r){this._triggerName=n,this.ast=t,this._stateStyles=r}match(n,t,r,i){return function dz(e,n,t,r,i){return e.some(s=>s(n,t,r,i))}(this.ast.matchers,n,t,r,i)}buildStyles(n,t,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(t,r):new Map}build(n,t,r,i,s,o,a,l,u,c){const d=[],f=this.ast.options&&this.ast.options.params||Vg,p=this.buildStyles(r,a&&a.params||Vg,d),g=l&&l.params||Vg,m=this.buildStyles(i,g,d),v=new Set,y=new Map,C=new Map,E="void"===i,R={params:fz(g,f),delay:this.ast.options?.delay},ue=c?[]:kg(n,t,this.ast.animation,s,o,p,m,R,u,d);let ve=0;if(ue.forEach(Lt=>{ve=Math.max(Lt.duration+Lt.delay,ve)}),d.length)return _I(t,this._triggerName,r,i,E,p,m,[],[],y,C,ve,d);ue.forEach(Lt=>{const hn=Lt.element,vc=kt(y,hn,new Set);Lt.preStyleProps.forEach(ai=>vc.add(ai));const Ma=kt(C,hn,new Set);Lt.postStyleProps.forEach(ai=>Ma.add(ai)),hn!==t&&v.add(hn)});const tt=lc(v.values());return _I(t,this._triggerName,r,i,E,p,m,ue,tt,y,C,ve)}}function fz(e,n){const t=Ea(n);for(const r in e)e.hasOwnProperty(r)&&null!=e[r]&&(t[r]=e[r]);return t}class hz{constructor(n,t,r){this.styles=n,this.defaultParams=t,this.normalizer=r}buildStyles(n,t){const r=new Map,i=Ea(this.defaultParams);return Object.keys(n).forEach(s=>{const o=n[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Ia(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class gz{constructor(n,t,r){this.name=n,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new hz(i.style,i.options&&i.options.params||{},r))}),DI(this.states,"true","1"),DI(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new wI(n,i,this.states))}),this.fallbackTransition=function mz(e,n,t){return new wI(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,r,i){return this.transitionFactories.find(o=>o.match(n,t,r,i))||null}matchStyles(n,t,r){return this.fallbackTransition.buildStyles(n,t,r)}}function DI(e,n,t){e.has(n)?e.has(t)||e.set(t,e.get(n)):e.has(t)&&e.set(n,e.get(t))}const yz=new fc;class vz{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,t){const r=[],s=Rg(this._driver,t,r,[]);if(r.length)throw function b3(e){return new _(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,t,r){const i=n.element,s=rI(this._normalizer,n.keyframes,t,r);return this._driver.animate(i,s,n.duration,n.delay,n.easing,[],!0)}create(n,t,r={}){const i=[],s=this._animations.get(n);let o;const a=new Map;if(s?(o=kg(this._driver,t,s,Ag,ic,new Map,new Map,r,yz,i),o.forEach(c=>{const d=kt(a,c.element,new Map);c.postStyleProps.forEach(f=>d.set(f,null))})):(i.push(function C3(){return new _(3300,!1)}()),o=[]),i.length)throw function E3(e){return new _(3504,!1)}();a.forEach((c,d)=>{c.forEach((f,h)=>{c.set(h,this._driver.computeStyle(d,h,er))})});const u=Nr(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(n,u),u.onDestroy(()=>this.destroy(n)),this.players.push(u),u}destroy(n){const t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(n){const t=this._playersById.get(n);if(!t)throw function S3(e){return new _(3301,!1)}();return t}listen(n,t,r,i){const s=Eg(t,"","","");return bg(this._getPlayer(n),r,s,i),()=>{}}command(n,t,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,t,i[0]||{});const s=this._getPlayer(n);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const bI="ng-animate-queued",jg="ng-animate-disabled",Cz=[],CI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ez={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fn="__ng_removed";class $g{get params(){return this.options.params}constructor(n,t=""){this.namespaceId=t;const r=n&&n.hasOwnProperty("value");if(this.value=function Mz(e){return e??null}(r?n.value:n),r){const s=Ea(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const t=n.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Aa="void",Ug=new $g(Aa);class Sz{constructor(n,t,r){this.id=n,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Jt(t,this._hostClassName)}listen(n,t,r,i){if(!this._triggers.has(t))throw function I3(e,n){return new _(3302,!1)}();if(null==r||0==r.length)throw function A3(e){return new _(3303,!1)}();if(!function Tz(e){return"start"==e||"done"==e}(r))throw function M3(e,n){return new _(3400,!1)}();const s=kt(this._elementListeners,n,[]),o={name:t,phase:r,callback:i};s.push(o);const a=kt(this._engine.statesByElement,n,new Map);return a.has(t)||(Jt(n,sc),Jt(n,sc+"-"+t),a.set(t,Ug)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(n,t){return!this._triggers.has(n)&&(this._triggers.set(n,t),!0)}_getTrigger(n){const t=this._triggers.get(n);if(!t)throw function T3(e){return new _(3401,!1)}();return t}trigger(n,t,r,i=!0){const s=this._getTrigger(t),o=new Bg(this.id,t,n);let a=this._engine.statesByElement.get(n);a||(Jt(n,sc),Jt(n,sc+"-"+t),this._engine.statesByElement.set(n,a=new Map));let l=a.get(t);const u=new $g(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=Ug),u.value!==Aa&&l.value===u.value){if(!function Rz(e,n){const t=Object.keys(e),r=Object.keys(n);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!n.hasOwnProperty(s)||e[s]!==n[s])return!1}return!0}(l.params,u.params)){const g=[],m=s.matchStyles(l.value,l.params,g),v=s.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{si(n,m),Rn(n,v)})}return}const f=kt(this._engine.playersByElement,n,[]);f.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let h=s.matchTransition(l.value,u.value,n,u.params),p=!1;if(!h){if(!i)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:h,fromState:l,toState:u,player:o,isFallbackTransition:p}),p||(Jt(n,bI),o.onStart(()=>{Ts(n,bI)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(n);if(m){let v=m.indexOf(o);v>=0&&m.splice(v,1)}}),this.players.push(o),f.push(o),o}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const r=this._engine.driver.query(n,oc,!0);r.forEach(i=>{if(i[fn])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,t,r,i){const s=this._engine.statesByElement.get(n),o=new Map;if(s){const a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){const c=this.trigger(n,u,Aa,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,o),r&&Nr(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,u=r.get(o)||Ug,c=new $g(Aa),d=new Bg(this.id,o,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:o,transition:l,fromState:u,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(n,t){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(n):[];if(s&&s.length)i=!0;else{let o=n;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,t);else{const s=n[fn];(!s||s===CI)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,t))}}insertNode(n,t){Jt(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=Eg(s,r.triggerName,r.fromState.value,r.toState.value);l._data=n,bg(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class Iz{_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}constructor(n,t,r){this.bodyNode=n,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,t){const r=new Sz(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const u=r.indexOf(l);r.splice(u+1,0,n),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(n)}else r.push(n);return i.set(t,n),n}register(n,t){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,t)),r}registerTrigger(n,t,r){let i=this._namespaceLookup[n];i&&i.register(t,r)&&this.totalAnimations++}destroy(n,t){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(n);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(n,t,r,i){if(gc(t)){const s=this._fetchNamespace(n);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(n,t,r,i){if(!gc(t))return;const s=t[fn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(n){const o=this._fetchNamespace(n);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Jt(n,jg)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Ts(n,jg))}removeNode(n,t,r){if(gc(t)){const i=n?this._fetchNamespace(n):null;i?i.removeNode(t,r):this.markElementAsRemoved(n,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==n&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(n,t,r,i,s){this.collectedLeaveElements.push(t),t[fn]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,t,r,i,s){return gc(t)?this._fetchNamespace(n).listen(t,r,i,s):()=>{}}_buildInstruction(n,t,r,i,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,t,s)}destroyInnerAnimations(n){let t=this.driver.query(n,oc,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,Mg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Nr(this.players).onDone(()=>n());n()})}processLeaveNode(n){const t=n[fn];if(t&&t.setForRemoval){if(n[fn]=CI,t.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(jg)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Jt(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Nr(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function N3(e){return new _(3402,!1)}()}_flushAnimations(n,t){const r=new fc,i=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(A=>{c.add(A);const O=this.driver.query(A,".ng-animate-queued",!0);for(let x=0;x<O.length;x++)c.add(O[x])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=II(f,this.collectedEnterElements),p=new Map;let g=0;h.forEach((A,O)=>{const x=Ag+g++;p.set(O,x),A.forEach(Y=>Jt(Y,x))});const m=[],v=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const O=this.collectedLeaveElements[A],x=O[fn];x&&x.setForRemoval&&(m.push(O),v.add(O),x.hasAnimation?this.driver.query(O,".ng-star-inserted",!0).forEach(Y=>v.add(Y)):y.add(O))}const C=new Map,E=II(f,Array.from(v));E.forEach((A,O)=>{const x=ic+g++;C.set(O,x),A.forEach(Y=>Jt(Y,x))}),n.push(()=>{h.forEach((A,O)=>{const x=p.get(O);A.forEach(Y=>Ts(Y,x))}),E.forEach((A,O)=>{const x=C.get(O);A.forEach(Y=>Ts(Y,x))}),m.forEach(A=>{this.processLeaveNode(A)})});const R=[],ue=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(t).forEach(x=>{const Y=x.player,Ue=x.element;if(R.push(Y),this.collectedEnterElements.length){const nt=Ue[fn];if(nt&&nt.setForMove){if(nt.previousTriggersValues&&nt.previousTriggersValues.has(x.triggerName)){const li=nt.previousTriggersValues.get(x.triggerName),Xt=this.statesByElement.get(x.element);if(Xt&&Xt.has(x.triggerName)){const _c=Xt.get(x.triggerName);_c.value=li,Xt.set(x.triggerName,_c)}}return void Y.destroy()}}const xn=!d||!this.driver.containsElement(d,Ue),Vt=C.get(Ue),Rr=p.get(Ue),be=this._buildInstruction(x,r,Rr,Vt,xn);if(be.errors&&be.errors.length)return void ue.push(be);if(xn)return Y.onStart(()=>si(Ue,be.fromStyles)),Y.onDestroy(()=>Rn(Ue,be.toStyles)),void i.push(Y);if(x.isFallbackTransition)return Y.onStart(()=>si(Ue,be.fromStyles)),Y.onDestroy(()=>Rn(Ue,be.toStyles)),void i.push(Y);const jI=[];be.timelines.forEach(nt=>{nt.stretchStartingKeyframe=!0,this.disabledNodes.has(nt.element)||jI.push(nt)}),be.timelines=jI,r.append(Ue,be.timelines),o.push({instruction:be,player:Y,element:Ue}),be.queriedElements.forEach(nt=>kt(a,nt,[]).push(Y)),be.preStyleProps.forEach((nt,li)=>{if(nt.size){let Xt=l.get(li);Xt||l.set(li,Xt=new Set),nt.forEach((_c,Gg)=>Xt.add(Gg))}}),be.postStyleProps.forEach((nt,li)=>{let Xt=u.get(li);Xt||u.set(li,Xt=new Set),nt.forEach((_c,Gg)=>Xt.add(Gg))})});if(ue.length){const A=[];ue.forEach(O=>{A.push(function O3(e,n){return new _(3505,!1)}())}),R.forEach(O=>O.destroy()),this.reportError(A)}const ve=new Map,tt=new Map;o.forEach(A=>{const O=A.element;r.has(O)&&(tt.set(O,O),this._beforeAnimationBuild(A.player.namespaceId,A.instruction,ve))}),i.forEach(A=>{const O=A.element;this._getPreviousPlayers(O,!1,A.namespaceId,A.triggerName,null).forEach(Y=>{kt(ve,O,[]).push(Y),Y.destroy()})});const Lt=m.filter(A=>MI(A,l,u)),hn=new Map;SI(hn,this.driver,y,u,er).forEach(A=>{MI(A,l,u)&&Lt.push(A)});const Ma=new Map;h.forEach((A,O)=>{SI(Ma,this.driver,new Set(A),l,"!")}),Lt.forEach(A=>{const O=hn.get(A),x=Ma.get(A);hn.set(A,new Map([...O?.entries()??[],...x?.entries()??[]]))});const ai=[],LI=[],VI={};o.forEach(A=>{const{element:O,player:x,instruction:Y}=A;if(r.has(O)){if(c.has(O))return x.onDestroy(()=>Rn(O,Y.toStyles)),x.disabled=!0,x.overrideTotalTime(Y.totalTime),void i.push(x);let Ue=VI;if(tt.size>1){let Vt=O;const Rr=[];for(;Vt=Vt.parentNode;){const be=tt.get(Vt);if(be){Ue=be;break}Rr.push(Vt)}Rr.forEach(be=>tt.set(be,Ue))}const xn=this._buildAnimation(x.namespaceId,Y,ve,s,Ma,hn);if(x.setRealPlayer(xn),Ue===VI)ai.push(x);else{const Vt=this.playersByElement.get(Ue);Vt&&Vt.length&&(x.parentPlayer=Nr(Vt)),i.push(x)}}else si(O,Y.fromStyles),x.onDestroy(()=>Rn(O,Y.toStyles)),LI.push(x),c.has(O)&&i.push(x)}),LI.forEach(A=>{const O=s.get(A.element);if(O&&O.length){const x=Nr(O);A.setRealPlayer(x)}}),i.forEach(A=>{A.parentPlayer?A.syncPlayerEvents(A.parentPlayer):A.destroy()});for(let A=0;A<m.length;A++){const O=m[A],x=O[fn];if(Ts(O,ic),x&&x.hasAnimation)continue;let Y=[];if(a.size){let xn=a.get(O);xn&&xn.length&&Y.push(...xn);let Vt=this.driver.query(O,Mg,!0);for(let Rr=0;Rr<Vt.length;Rr++){let be=a.get(Vt[Rr]);be&&be.length&&Y.push(...be)}}const Ue=Y.filter(xn=>!xn.destroyed);Ue.length?Nz(this,O,Ue):this.processLeaveNode(O)}return m.length=0,ai.forEach(A=>{this.players.push(A),A.onDone(()=>{A.destroy();const O=this.players.indexOf(A);this.players.splice(O,1)}),A.play()}),ai}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(n);a&&(o=a)}else{const a=this.playersByElement.get(n);if(a){const l=!s||s==Aa;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(n,t,r){const s=t.element,o=t.isRemovalTransition?void 0:n,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const u=l.element,c=u!==s,d=kt(r,u,[]);this._getPreviousPlayers(u,c,o,a,t.toState).forEach(h=>{const p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),d.push(h)})}si(s,t.fromStyles)}_buildAnimation(n,t,r,i,s,o){const a=t.triggerName,l=t.element,u=[],c=new Set,d=new Set,f=t.timelines.map(p=>{const g=p.element;c.add(g);const m=g[fn];if(m&&m.removedBeforeQueried)return new ma(p.duration,p.delay);const v=g!==l,y=function Oz(e){const n=[];return AI(e,n),n}((r.get(g)||Cz).map(ve=>ve.getRealPlayer())).filter(ve=>!!ve.element&&ve.element===g),C=s.get(g),E=o.get(g),R=rI(this._normalizer,p.keyframes,C,E),ue=this._buildPlayer(p,R,y);if(p.subTimeline&&i&&d.add(g),v){const ve=new Bg(n,a,g);ve.setRealPlayer(ue),u.push(ve)}return ue});u.forEach(p=>{kt(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Az(e,n,t){let r=e.get(n);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&e.delete(n)}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>Jt(p,cI));const h=Nr(f);return h.onDestroy(()=>{c.forEach(p=>Ts(p,cI)),Rn(l,t.toStyles)}),d.forEach(p=>{kt(i,p,[]).push(h)}),h}_buildPlayer(n,t,r){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,r):new ma(n.duration,n.delay)}}class Bg{constructor(n,t,r){this.namespaceId=n,this.triggerName=t,this.element=r,this._player=new ma,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>bg(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){kt(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function gc(e){return e&&1===e.nodeType}function EI(e,n){const t=e.style.display;return e.style.display=n??"none",t}function SI(e,n,t,r,i){const s=[];t.forEach(l=>s.push(EI(l)));const o=[];r.forEach((l,u)=>{const c=new Map;l.forEach(d=>{const f=n.computeStyle(u,d,i);c.set(d,f),(!f||0==f.length)&&(u[fn]=Ez,o.push(u))}),e.set(u,c)});let a=0;return t.forEach(l=>EI(l,s[a++])),o}function II(e,n){const t=new Map;if(e.forEach(a=>t.set(a,[])),0==n.length)return t;const i=new Set(n),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=t.has(u)?u:i.has(u)?1:o(u),s.set(a,l),l}return n.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Jt(e,n){e.classList?.add(n)}function Ts(e,n){e.classList?.remove(n)}function Nz(e,n,t){Nr(t).onDone(()=>e.processLeaveNode(n))}function AI(e,n){for(let t=0;t<e.length;t++){const r=e[t];r instanceof RS?AI(r.players,n):n.push(r)}}function MI(e,n,t){const r=t.get(e);if(!r)return!1;let i=n.get(e);return i?r.forEach(s=>i.add(s)):n.set(e,r),t.delete(e),!0}class mc{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Iz(n,t,r),this._timelineEngine=new vz(n,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(n,t,r,i,s){const o=n+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],c=Rg(this._driver,s,l,[]);if(l.length)throw function w3(e,n){return new _(3404,!1)}();a=function pz(e,n,t){return new gz(e,n,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,r,i){this._transitionEngine.insertNode(n,t,r,i)}onRemove(n,t,r){this._transitionEngine.removeNode(n,t,r)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,r,i){if("@"==r.charAt(0)){const[s,o]=iI(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(n,t,r,i)}listen(n,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=iI(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(n,t,r,i,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let Pz=(()=>{class e{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=e.initialStylesByElement.get(t);s||e.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Rn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rn(this._element,this._initialStyles),this._endStyles&&(Rn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(si(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(si(this._element,this._endStyles),this._endStyles=null),Rn(this._element,this._initialStyles),this._state=3)}}return e})();function Hg(e){let n=null;return e.forEach((t,r)=>{(function kz(e){return"display"===e||"position"===e})(r)&&(n=n||new Map,n.set(r,t))}),n}class TI{constructor(n,t,r,i){this.element=n,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const t=[];return n.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(n,t,r){return n.animate(this._convertKeyframesToObject(t),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:pI(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const t="start"===n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Fz{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,t){return!1}containsElement(n,t){return oI(n,t)}getParentElement(n){return Sg(n)}query(n,t,r){return aI(n,t,r)}computeStyle(n,t,r){return window.getComputedStyle(n)[t]}animate(n,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const u=new Map,c=o.filter(h=>h instanceof TI);(function H3(e,n){return 0===e||0===n})(r,i)&&c.forEach(h=>{h.currentSnapshot.forEach((p,g)=>u.set(g,p))});let d=function $3(e){return e.length?e[0]instanceof Map?e:e.map(n=>dI(n)):[]}(t).map(h=>Or(h));d=function z3(e,n,t){if(t.size&&n.length){let r=n[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<n.length;s++){let o=n[s];i.forEach(a=>o.set(a,pI(e,a)))}}return n}(n,d,u);const f=function xz(e,n){let t=null,r=null;return Array.isArray(n)&&n.length?(t=Hg(n[0]),n.length>1&&(r=Hg(n[n.length-1]))):n instanceof Map&&(t=Hg(n)),t||r?new Pz(e,t,r):null}(n,d);return new TI(n,d,l,f)}}let Lz=(()=>{class e extends MS{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:$t.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?NS(t):t;return NI(this._renderer,null,r,"register",[i]),new Vz(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||e)(T(co),T(Dt))};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac})}return e})();class Vz extends dB{constructor(n,t){super(),this._id=n,this._renderer=t}create(n,t){return new jz(this._id,n,t||{},this._renderer)}}class jz{constructor(n,t,r,i){this.id=n,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,t){return this._renderer.listen(this.element,`@@${this.id}:${n}`,t)}_command(n,...t){return NI(this._renderer,this.element,this.id,n,t)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function NI(e,n,t,r,i){return e.setProperty(n,`@@${t}:${r}`,i)}const OI="@.disabled";let $z=(()=>{class e{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new RI("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(l),new Uz(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||e)(T(co),T(mc),T(le))};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac})}return e})();class RI{constructor(n,t,r,i){this.namespaceId=n,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,r,i=!0){this.delegate.insertBefore(n,t,r),this.engine.onInsert(this.namespaceId,t,n,i)}removeChild(n,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,r,i){this.delegate.setAttribute(n,t,r,i)}removeAttribute(n,t,r){this.delegate.removeAttribute(n,t,r)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,r,i){this.delegate.setStyle(n,t,r,i)}removeStyle(n,t,r){this.delegate.removeStyle(n,t,r)}setProperty(n,t,r){"@"==t.charAt(0)&&t==OI?this.disableAnimations(n,!!r):this.delegate.setProperty(n,t,r)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,r){return this.delegate.listen(n,t,r)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class Uz extends RI{constructor(n,t,r,i,s){super(t,r,i,s),this.factory=n,this.namespaceId=t}setProperty(n,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==OI?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,t.slice(1),r):this.delegate.setProperty(n,t,r)}listen(n,t,r){if("@"==t.charAt(0)){const i=function Bz(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(n);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Hz(e){const n=e.indexOf(".");return[e.substring(0,n),e.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(n,t,r)}}const xI=[{provide:MS,useClass:Lz},{provide:Lg,useFactory:function Gz(){return new cz}},{provide:mc,useClass:(()=>{class e extends mc{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||e)(T(Dt),T(Ig),T(Lg),T(vr))};static#t=this.\u0275prov=N({token:e,factory:e.\u0275fac})}return e})()},{provide:co,useFactory:function qz(e,n,t){return new $z(e,n,t)},deps:[Zh,mc,le]}],zg=[{provide:Ig,useFactory:()=>new Fz},{provide:Zv,useValue:"BrowserAnimations"},...xI],PI=[{provide:Ig,useClass:lI},{provide:Zv,useValue:"NoopAnimations"},...xI];let Wz=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?PI:zg}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ut({type:e});static#n=this.\u0275inj=At({providers:zg,imports:[eE]})}return e})(),Kz=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ut({type:e,bootstrap:[JH]});static#n=this.\u0275inj=At({imports:[_S,wS,eE,F$,tI,Wz]})}return e})();const kI=new Et;function FI(e={}){if(!window.__REDUX_DEVTOOLS_EXTENSION__)return;let n=!1;const t=window.__REDUX_DEVTOOLS_EXTENSION__.connect(e),r=new Map,i=l=>{t.send(l,DS())};r.set("externalSend",kI.subscribe(i));const s=l=>{const u=l.name,c=_s(u);i({type:`[${c}] - @Init`});const d=l.pipe(function Qz(e){return An((n,t)=>e<=t)}(1)).subscribe(()=>{n?n=!1:(e.preAction?.(),i({type:`[${c}] - Update`}))});r.set(u,d)};(function jU(){return ha})().forEach(s),e.actionsDispatcher&&r.set("actionsDispatcher",e.actionsDispatcher.subscribe(l=>{i(l)}));const o=kU.subscribe(({store:l,type:u})=>{const c=l.name,d=_s(c);e.logTrace&&(console.groupCollapsed(`[${d}] - ${u}`),console.trace(),console.groupEnd()),"add"===u&&s(l),"remove"===u&&(r.get(c)?.unsubscribe(),r.delete(c),i({type:`Remove ${d}`}))}),a=t.subscribe(l=>{if("DISPATCH"===l.type){const u=l.payload.type;if("COMMIT"===u)return void t.init(DS());if("JUMP_TO_STATE"===u||"JUMP_TO_ACTION"===u){const c=JSON.parse(l.state);for(const[d,f]of Object.entries(c))n=!0,VU(d)?.update(()=>f);e.postTimelineUpdate?.()}}});return{unsubscribe(){o.unsubscribe(),t.unsubscribe(),r.forEach(l=>l.unsubscribe()),a()}}}FI(),QV().bootstrapModule(Kz).then(e=>{FI({postTimelineUpdate:()=>e.injector.get(vr).tick()})}).catch(e=>console.error(e))},916:(bt,Ct)=>{"use strict";var B=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();bt.exports=Ct=B.fetch,B.fetch&&(Ct.default=B.fetch.bind(B)),Ct.Headers=B.Headers,Ct.Request=B.Request,Ct.Response=B.Response},502:bt=>{var Ct=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};bt.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return Ct()}try{return __global__||Ct()}finally{delete Object.prototype.__global__}}()},276:(bt,Ct,Ce)=>{var B;if("object"==typeof globalThis)B=globalThis;else try{B=Ce(502)}catch{}finally{if(!B&&typeof window<"u"&&(B=window),!B)throw new Error("Could not determine global this")}var Pn=B.WebSocket||B.MozWebSocket,Ns=Ce(352);function ui(Oe,Os){return Os?new Pn(Oe,Os):new Pn(Oe)}Pn&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(Oe){Object.defineProperty(ui,Oe,{get:function(){return Pn[Oe]}})}),bt.exports={w3cwebsocket:Pn?ui:null,version:Ns}},352:(bt,Ct,Ce)=>{bt.exports=Ce(7).version},7:bt=>{"use strict";bt.exports={version:"1.0.34"}}},bt=>{bt(bt.s=929)}]);