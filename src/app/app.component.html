<!-- 
<div *ngFor="let content of contents;trackBy: trackFn">

  

    
    <label for="slug">Slug</label>
    <input id="slug" type="text" [ngModel]="content.slug" (ngModelChange)="udpate(content.id, 'slug', $event )" >

    <label for="slug">Name</label>
    <input id="slug" type="text" [ngModel]="content.name" (ngModelChange)="udpate(content.id, 'name', $event )" >
    
    <label for="typeSpecific">typeSpecific</label>
    <textarea id="typeSpecific" [ngModel]="content.typeSpecific" (ngModelChange)="udpate(content.id, 'typeSpecific', $event )"></textarea>

</div> -->



<div class="opacity-10 max-w-screen-lg fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full mx-auto"><svg class="max-w-full" width="780" height="720" viewBox="0 0 78 72" fill="none" xmlns="http://www.w3.org/2000/svg">
  <mask id="mask0_2_100" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="78" height="72">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M0.563842 71.9896V0.68342H77.5504V71.9896H0.563842Z" fill="#ccc"/>
  </mask>
  <g mask="url(#mask0_2_100)">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M0.565604 28.9606C1.10934 18.777 6.07838 9.93475 16.0768 4.50115C25.9774 -0.879319 36.0501 -0.516607 45.8298 5.23452C48.0019 6.51212 49.8674 8.17367 51.6481 9.94378C52.0583 10.3515 51.9972 10.5507 51.6139 10.9104C50.4977 11.9581 50.5082 11.9808 49.4161 10.9106C44.1106 5.7104 37.6974 3.14458 30.3166 3.09535C17.712 3.0114 6.7275 11.682 3.58837 24.0753C0.421084 36.5797 6.74379 49.923 18.4234 55.3835C18.4767 55.4084 18.5307 55.4329 18.5809 55.4633C18.9496 55.6877 19.6577 55.7242 19.646 56.114C19.6283 56.6921 19.287 57.2758 19.0176 57.825C18.8446 58.1779 18.5598 57.9163 18.3348 57.8154C12.9868 55.4166 8.66279 51.7914 5.4445 46.8946C2.10418 41.8127 0.50202 36.2031 0.565604 28.9606Z" fill="white"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M6.79046 30.6383C6.87725 19.2417 14.9691 9.52728 26.0537 7.51299C36.4693 5.62017 46.8549 10.8809 51.4206 20.3401C51.7037 20.9267 51.7573 21.2904 51.0228 21.4666C50.7977 21.5206 50.5744 21.6226 50.3774 21.7461C49.8594 22.0707 49.6268 21.857 49.3899 21.3616C47.521 17.4525 44.6787 14.4343 40.9583 12.2264C31.2349 6.45645 18.1856 9.68912 12.3066 19.3287C5.54538 30.4143 9.66479 44.2969 21.3725 49.915C21.657 50.0515 22.2142 50.0522 22.1141 50.508C21.9784 51.1261 21.7399 51.7462 21.3314 52.2537C21.2181 52.3948 21.0059 52.2069 20.8536 52.1364C13.5844 48.7719 9.05836 43.1842 7.29221 35.3716C6.94047 33.8159 6.83562 32.2291 6.79046 30.6383Z" fill="white"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M48.2874 30.67C48.3303 31.6469 48.1741 32.607 48.0621 33.5717C48.0039 34.0738 47.8446 34.252 47.2754 34.1448C45.7491 33.8576 45.7425 33.8926 45.9411 32.2124C46.802 24.9314 41.8804 17.5797 34.7922 15.5582C24.6886 12.6767 14.7097 19.929 14.62 30.427C14.5674 36.5876 17.4345 41.292 22.8092 44.3991C22.9111 44.4579 23.0172 44.5093 23.1213 44.5638C24.4906 45.2806 24.4553 45.2666 23.9141 46.6383C23.6723 47.251 23.4121 47.2661 22.8789 47.0082C17.7521 44.5296 14.3886 40.5686 12.9575 35.0564C10.2745 24.7224 17.4024 14.2653 28.0147 12.8892C37.8666 11.6116 46.7427 18.4165 48.1319 28.2948C48.2435 29.087 48.2582 29.8776 48.2874 30.67" fill="white"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M55.5203 54.591C57.037 55.0142 58.3287 55.5044 59.4444 56.3342C62.306 58.4628 63.1617 61.8359 61.7104 65.2358C60.0757 69.0652 56.8939 70.8551 53.0446 71.7255C51.8627 71.9926 50.6571 72.0647 49.4483 71.9051C47.9026 71.7012 46.914 70.818 46.8609 69.5922C46.8346 68.9808 46.9127 68.3814 47.5252 68.0709C48.154 67.7521 48.8105 67.8054 49.3451 68.2677C49.8768 68.7278 50.3534 69.2549 50.8292 69.7756C51.729 70.7609 52.7634 71.0585 54.0884 70.7101C56.9482 69.958 59.0332 67.2576 59.0229 64.1691C59.0132 61.208 56.9803 58.6695 54.0744 57.972C53.2696 57.7789 52.4516 57.7063 51.632 57.6312C51.4652 57.616 51.2387 57.6962 51.1528 57.5148C51.0317 57.2591 51.2961 57.1649 51.4441 57.0458C52.7733 55.9773 54.1744 54.9901 55.3265 53.7178C56.5416 52.3758 57.6441 50.968 57.8033 49.0579C58.0119 46.5548 56.5927 44.8736 54.0581 44.7317C51.9751 44.615 50.0597 45.0057 48.7583 46.8743C48.6653 47.0078 48.5585 47.216 48.3471 47.0642C48.1628 46.9319 48.2628 46.751 48.34 46.5904C50.746 41.5819 55.2265 40.5575 59.0942 42.9987C61.2804 44.3784 61.8538 47.1967 60.5803 49.4671C59.6371 51.149 58.2332 52.3929 56.7542 53.5714C56.3891 53.8622 56.0341 54.1658 55.5203 54.591" fill="white"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M35.9956 58.263C36.9029 58.263 38.012 58.2717 39.1208 58.2609C40.7092 58.2457 42.2976 58.2246 43.8856 58.1902C45.1111 58.1635 46.0175 57.6243 46.55 56.4893C46.6346 56.3092 46.6839 55.9634 47.0266 56.1224C47.3634 56.2787 47.1375 56.5238 47.0642 56.724C46.5178 58.2142 45.956 59.6985 45.4199 61.1924C45.2809 61.5798 45.0734 61.7286 44.6498 61.7272C40.3533 61.7124 36.0566 61.7201 31.76 61.7128C31.5484 61.7124 31.2322 61.8315 31.1626 61.5144C31.1046 61.25 31.3919 61.1261 31.5605 60.9783C33.8614 58.9593 36.2016 56.9805 38.0966 54.5494C38.948 53.4572 39.7377 52.3266 40.2306 51.0144C40.5826 50.0772 40.652 49.1133 40.4585 48.1469C39.6863 44.2922 36.1321 44.1787 33.7168 45.5365C32.5946 46.1674 31.7308 47.0894 30.9953 48.1396C30.8834 48.2996 30.8446 48.6705 30.5099 48.4845C30.1118 48.2632 30.4514 48.0236 30.5619 47.8346C31.8958 45.5502 33.6679 43.6985 36.0191 42.4513C37.3424 41.7493 38.7582 41.5729 40.2127 41.95C42.9175 42.6511 44.222 45.2496 43.3976 48.3497C42.7396 50.8251 41.1098 52.6856 39.4059 54.4968C38.2402 55.7356 37.1203 57.0177 35.9956 58.2631" fill="white"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M18.0352 31.3696C18.001 25.1601 21.6249 20.2778 26.7611 18.7751C32.0066 17.2405 37.6131 19.3055 40.5993 23.8488C40.8529 24.2347 40.8784 24.4615 40.438 24.6556C40.3847 24.679 40.3372 24.7156 40.2878 24.7475C39.0786 25.5245 39.0786 25.5247 38.1885 24.3737C35.5281 20.9335 30.6945 19.6391 26.5778 21.2641C22.4934 22.8763 19.9156 27.0431 20.3182 31.4198C20.6612 35.1481 22.5397 37.8402 25.8578 39.5524C26.1186 39.687 26.6288 39.7045 26.5291 40.1114C26.3781 40.7275 26.1645 41.3588 25.7395 41.8532C25.6038 42.011 25.3619 41.7852 25.1852 41.6988C20.5376 39.4295 18.2488 35.6462 18.0352 31.3695" fill="white"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M71.8283 41.8083C74.1439 41.7507 75.848 40.1872 75.9681 37.5413C76.0651 35.4032 74.0865 33.5291 71.8818 33.5191C69.6413 33.5092 67.7498 35.3564 67.7236 37.5803C67.6968 39.8513 69.5712 41.7819 71.8283 41.8083ZM71.9178 31.7779C74.9665 31.8122 77.6085 34.3381 77.556 37.1681C77.488 40.8308 75.0479 43.3996 71.6496 43.3858C68.4397 43.3727 65.9005 40.7113 65.9798 37.4435C66.0602 34.144 68.5791 31.7403 71.9178 31.7779" fill="white"/>
  </g>
  </svg></div>

<div #chat class=" fixed bottom-16 right-4 bg-slate-900 rounded max-w-xs w-full overflow-hidden max-h-[800px] overflow-y-auto flex flex-col gap-2 py-2" @slideInBottom *ngIf="chatOpen && user">



 
  <div class="text-white  p-2 mx-2 relative hover:cursor-not-allowed rounded flex flex-col w-fit" [ngClass]="{'bg-blue-800': message.user !== user.email, 'bg-green-800 self-end':  message.user === user.email}"  (click)="deleteMessage(message.id)" *ngFor="let message of messages" @slideInBottom>
    <div class="text-[10px] opacity-50 font-light">{{ message.user }}</div>
    <!-- <div class="text-[10px] opacity-25">{{ message.created_at | date }}</div> -->
    <div class="text-sm">{{ message.text }}</div>

  </div>
  <form [formGroup]="messagesForm" (ngSubmit)="sendMessage()"  class="stick bottom-0">
    <div class="flex justify-center items-center  p-1  border-opacity-20 border-white">
      <input required minlength="2" formControlName="text" type="text" class="focus-visible:outline-none focus-visible:ring-1 text-white flex flex-1 text-xs bg-transparent p-2 rounded mr-2 focus:" placeholder="Come on text me..." >
      <button [disabled]="messagesForm.invalid"  type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded text-sm px-2 py-1  dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Send</button>
    </div>
  </form>
</div>

<div *ngIf="user" (click)="chatOpen = !chatOpen;" class="cursor-pointer fixed bottom-2 right-2 w-12 h-12 hover:bg-blue-900 bg-blue-600 text-blue-50 flex items-center justify-center rounded-full ">
  23Â°
</div>

<ng-container *ngFor="let remoteUser of remoteUser">
<div [ngClass]="{'opacity-0': !remoteUser.visible, 'opacity-100': remoteUser.visible}" class="fixed transition-all duration-75 shadow"  [style.left.px]="remoteUser.x + 3" [style.top.px]="remoteUser.y + 3">
  <div class="-rotate-90 text-red-500" [style.color]="remoteUser.color">
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" version="1.1" id="Capa_1" width="20px" height="20px" viewBox="0 0 266.495 266.494" xml:space="preserve">
    <g>
      <g>
        <path style="fill: currentColor" d="M150.036,266.494c-0.264,0-0.517-0.006-0.792-0.018c-6.102-0.337-11.332-4.474-13.046-10.347l-26.067-89.027  l-95.203-18.867c-6.014-1.194-10.614-6.059-11.476-12.123c-0.858-6.062,2.201-12.016,7.65-14.832L242.143,1.617    C247.5-1.175,254.057-0.29,258.518,3.8c4.474,4.101,5.885,10.55,3.562,16.146l-98.743,237.655    C161.097,263.018,155.836,266.494,150.036,266.494z"/>
      </g>
    </g>
    </svg>
  </div>
  <div class="absolute top-full left-full bg-red-500 text-xs p-1 px-2 leading-tight rounded" [style.backgroundColor]="remoteUser.color">{{remoteUser.user_email }}</div>
</div>
</ng-container>
<ng-container *ngIf="!user">
  <app-sign-up class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-screen-sm"></app-sign-up>
</ng-container>

<div class="fixed top-4 right-4" *ngIf="user" >
  <button type="button" (click)="logout()" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Logout</button>

</div>


<ng-container *ngIf="user">
  
  <div  class="w-1 h-1 rounded-[600px] fixed top-20 left-20 pulse"  [style.left.px]="click.x" [style.top.px]="click.y" *ngFor="let click of clicks"></div>
</ng-container>